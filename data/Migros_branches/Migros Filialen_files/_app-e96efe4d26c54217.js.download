(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{4143:function(r,o,s){"use strict";var a=this&&this.__awaiter||function(r,o,s,a){return new(s||(s=Promise))(function(c,u){function fulfilled(r){try{step(a.next(r))}catch(r){u(r)}}function rejected(r){try{step(a.throw(r))}catch(r){u(r)}}function step(r){var o;r.done?c(r.value):((o=r.value)instanceof s?o:new s(function(r){r(o)})).then(fulfilled,rejected)}step((a=a.apply(r,o||[])).next())})},c=this&&this.__generator||function(r,o){var s,a,c,u,f={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return u={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function verb(p){return function(g){return function(p){if(s)throw TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(f=0)),f;)try{if(s=1,a&&(c=2&p[0]?a.return:p[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,p[1])).done)return c;switch(a=0,c&&(p=[2&p[0],c.value]),p[0]){case 0:case 1:c=p;break;case 4:return f.label++,{value:p[1],done:!1};case 5:f.label++,a=p[1],p=[0];continue;case 7:p=f.ops.pop(),f.trys.pop();continue;default:if(!(c=(c=f.trys).length>0&&c[c.length-1])&&(6===p[0]||2===p[0])){f=0;continue}if(3===p[0]&&(!c||p[1]>c[0]&&p[1]<c[3])){f.label=p[1];break}if(6===p[0]&&f.label<c[1]){f.label=c[1],c=p;break}if(c&&f.label<c[2]){f.label=c[2],f.ops.push(p);break}c[2]&&f.ops.pop(),f.trys.pop();continue}p=o.call(r,f)}catch(r){p=[6,r],a=0}finally{s=c=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([p,g])}}};Object.defineProperty(o,"__esModule",{value:!0}),o.Authenticator=o.isBackendForFrontendConfig=o.isTokenProviderConfig=o.isOidcConfig=o.isAccessToken=void 0;var u=s(21909),f=s(53034),p="undefined"!=typeof window?window:s.g;o.isAccessToken=function(r){return void 0!==r.token&&void 0!==r.expiresAt},o.isOidcConfig=function(r){return void 0!==r.authority},o.isTokenProviderConfig=function(r){return void 0!==r.events&&void 0!==r.events.loginEvent&&void 0!==r.events.logoutEvent&&void 0===r.getUser&&void 0===r.isLoggedIn},o.isBackendForFrontendConfig=function(r){return void 0!==r.events&&void 0!==r.events.loginEvent&&void 0!==r.events.logoutEvent&&void 0!==r.getUser&&void 0!==r.isLoggedIn};var g=function(){function Authenticator(r){if(this.config=r,(0,o.isTokenProviderConfig)(r))this.type=f.AUTHENTICATOR_TYPES.TOKEN_PROVIDER;else if((0,o.isOidcConfig)(r))this.type=f.AUTHENTICATOR_TYPES.OIDC;else if((0,o.isBackendForFrontendConfig)(r))this.type=f.AUTHENTICATOR_TYPES.BACKEND_FOR_FRONTEND;else throw Error("Invalid config provided. Expected either OidcConfig, TokenProviderConfig or BackendForFrontendConfig.")}return Authenticator.getInstance=function(){if(void 0===p.MigrosSharedAuthenticator)throw Error("Not initialized");return p.MigrosSharedAuthenticator},Authenticator.initBackendForFrontend=function(r){return a(this,void 0,void 0,function(){return c(this,function(s){if(!(0,o.isBackendForFrontendConfig)(r))throw Error("Invalid config provided. Expected BackendForFrontendConfig.");return void 0===p.MigrosSharedAuthenticator?p.MigrosSharedAuthenticator=new Authenticator(r):console.warn("MigrosSharedAuthenticator is already initialized. Make sure `Authenticator.initBackendForFrontend` is only called once and before loading any other user related scripts.",p.MigrosSharedAuthenticator),[2]})})},Authenticator.initTokenProviderEvents=function(r){return a(this,void 0,void 0,function(){return c(this,function(o){return(0,u.hasTokenProvider)()||console.warn("MigrosTokenProvider is not set! Make sure to initialize the TokenProvider before calling `Authenticator.initTokenProviderEvents`."),void 0===p.MigrosSharedAuthenticator?p.MigrosSharedAuthenticator=new Authenticator({events:r}):console.warn("MigrosSharedAuthenticator is already initialized. Make sure `Authenticator.initTokenProviderEvents` is only called once and before loading any other user related scripts.",p.MigrosSharedAuthenticator),Authenticator.loginLogoutEvents=r,[2]})})},Authenticator.init=function(r){return void 0===r&&(r={}),a(this,void 0,void 0,function(){return c(this,function(o){switch(o.label){case 0:if(void 0!==p.MigrosSharedAuthenticator)return[3,2];return p.MigrosSharedAuthenticator=new Authenticator(r),[4,Authenticator.getInstance().autologin()];case 1:return o.sent(),[3,3];case 2:console.warn("MigrosSharedAuthenticator is already initialized. Make sure `Authenticator.init` is only called once."),o.label=3;case 3:return[2]}})})},Authenticator.resetAuthenticator=function(){void 0!==p.MigrosSharedAuthenticator&&(delete p.MigrosSharedAuthenticator,delete Authenticator.autologinPromise,delete Authenticator.loginLogoutEvents)},Authenticator.prototype.login=function(r){return a(this,void 0,void 0,function(){return c(this,function(o){switch(o.label){case 0:if(null==r?void 0:r.loginUrl)return window.location.href=r.loginUrl,[2];return localStorage.setItem(f.MANUAL_LOGIN_TIMESTAMP_COOKIE,Date.now().toString()),localStorage.setItem(f.MSC_OIDC_RETURN_TO,(null==r?void 0:r.returnTo)||window.location.href),[4,this.getHandler()];case 1:return[4,o.sent().login(r)];case 2:return[2,o.sent()]}})})},Authenticator.prototype.logout=function(r){return a(this,void 0,void 0,function(){return c(this,function(o){switch(o.label){case 0:return localStorage.setItem(f.MANUAL_LOGIN_TIMESTAMP_COOKIE,Date.now().toString()),localStorage.removeItem(f.AUTO_LOGIN_TIMESTAMP_COOKIE),localStorage.setItem(f.MSC_OIDC_RETURN_TO,(null==r?void 0:r.returnTo)||window.location.href),[4,this.getHandler()];case 1:return[2,o.sent().logout(r)]}})})},Authenticator.prototype.autologin=function(r){return void 0===r&&(r=!1),a(this,void 0,void 0,function(){var o,s=this;return c(this,function(u){return!r&&Authenticator.autologinPromise?[2,Authenticator.autologinPromise]:(o=a(s,void 0,void 0,function(){return c(this,function(o){switch(o.label){case 0:return[4,this.getHandler()];case 1:return[4,o.sent().autologin(r)];case 2:return o.sent(),[2]}})}),Authenticator.autologinPromise=o,[2,o])})})},Authenticator.prototype.isLoggedIn=function(){return a(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,this.getHandler()];case 1:return[2,r.sent().isLoggedIn()]}})})},Authenticator.prototype.getToken=function(){return a(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,this.getHandler()];case 1:return[2,r.sent().getToken()]}})})},Authenticator.prototype.getUser=function(){return a(this,void 0,void 0,function(){return c(this,function(r){switch(r.label){case 0:return[4,this.getHandler()];case 1:return[2,r.sent().getUser()]}})})},Authenticator.prototype.getHandler=function(){return a(this,void 0,void 0,function(){var r,a,f;return c(this,function(c){switch(c.label){case 0:if(this.handler)return[2,this.handler];if(!((0,o.isTokenProviderConfig)(this.config)&&(0,u.hasTokenProvider)()))return[3,2];return[4,s(10449)];case 1:return r=c.sent().TokenProviderHandler,this.handler=new r(this.config),[3,6];case 2:if(!(0,o.isOidcConfig)(this.config))return[3,4];return[4,s(36492)];case 3:return a=c.sent().OidcHandler,this.handler=new a(this.config),[3,6];case 4:if(!(0,o.isBackendForFrontendConfig)(this.config))return[3,6];return[4,s(42424)];case 5:f=c.sent().BackendForFrontendHandler,this.handler=new f(this.config),c.label=6;case 6:if(!this.handler)throw Error("Invalid config provided. Expected either OidcConfig, TokenProviderConfig or BackendForFrontendConfig.");return[2,this.handler]}})})},Authenticator}();o.Authenticator=g},53034:function(r,o){"use strict";var s,a,c,u;Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULTS=o.DEFAULT_CLAIMS=o.ERROR_CODES=o.AUTHENTICATOR_TYPES=o.MTID=o.AUTO_LOGIN_TIMESTAMP_COOKIE=o.MSC_OIDC_RETURN_TO=o.AUTHENTICATION_CONTEXT_ID=o.MANUAL_LOGIN_TIMEOUT=o.MANUAL_LOGIN_TIMESTAMP_COOKIE=void 0,o.MANUAL_LOGIN_TIMESTAMP_COOKIE="msc-authenticator-last-manual-login-timestamp",o.MANUAL_LOGIN_TIMEOUT=36e5,o.AUTHENTICATION_CONTEXT_ID="msc-authenticator-acid",o.MSC_OIDC_RETURN_TO="msc-authenticator-oidc-return-to",o.AUTO_LOGIN_TIMESTAMP_COOKIE="msc-authenticator-first-auto-login-timestamp",o.MTID="msc-authenticator-mtid",(c=s||(o.AUTHENTICATOR_TYPES=s={})).OIDC="oidc",c.BACKEND_FOR_FRONTEND="backend-for-frontend",c.TOKEN_PROVIDER="token-provider",(u=a||(o.ERROR_CODES=a={}))[u.LOGIN_SETUP_FAILED=100]="LOGIN_SETUP_FAILED",u[u.AUTOLOGIN_FAILED=101]="AUTOLOGIN_FAILED",o.DEFAULT_CLAIMS={userinfo:{tracking_id:null,preferred_username:null,given_name:null,family_name:null}},o.DEFAULTS={authority:"https://test-login.migros.ch",clientId:"",clientSecret:"",loginUrl:"",redirectURI:"",silentRedirectURI:"",responseType:"code",scope:"openid",claims:o.DEFAULT_CLAIMS,includeIdTokenInSilentRenew:!0,language:"de"}},33250:function(r,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AbstractHandler=void 0;var a=s(74071),c=s(53034),u=function(){function AbstractHandler(r){this.config=r}return AbstractHandler.prototype.checkIsManualLoginUsingCookie=function(){var r=localStorage.getItem(c.MANUAL_LOGIN_TIMESTAMP_COOKIE),o=!!r&&parseInt(r,10)>Date.now()-c.MANUAL_LOGIN_TIMEOUT;return o&&localStorage.removeItem(c.MANUAL_LOGIN_TIMESTAMP_COOKIE),o},AbstractHandler.prototype.publishAuthenticate=function(r){var o=r.loggedIn,s=r.isManualLogin,c=r.error;a.messenger.publish(a.MessageTypes.LoginAuthenticate,{loggedIn:o,isManualLogin:s,error:c||null})},AbstractHandler.prototype.publishTokenRenew=function(r){a.messenger.publish(a.MessageTypes.LoginTokenRenew,{token:r})},AbstractHandler}();o.AbstractHandler=u},42424:function(r,o,s){"use strict";var a,c=this&&this.__extends||(a=function(r,o){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(r,o)},function(r,o){if("function"!=typeof o&&null!==o)throw TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=r}a(r,o),r.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}),u=this&&this.__awaiter||function(r,o,s,a){return new(s||(s=Promise))(function(c,u){function fulfilled(r){try{step(a.next(r))}catch(r){u(r)}}function rejected(r){try{step(a.throw(r))}catch(r){u(r)}}function step(r){var o;r.done?c(r.value):((o=r.value)instanceof s?o:new s(function(r){r(o)})).then(fulfilled,rejected)}step((a=a.apply(r,o||[])).next())})},f=this&&this.__generator||function(r,o){var s,a,c,u,f={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return u={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function verb(p){return function(g){return function(p){if(s)throw TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(f=0)),f;)try{if(s=1,a&&(c=2&p[0]?a.return:p[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,p[1])).done)return c;switch(a=0,c&&(p=[2&p[0],c.value]),p[0]){case 0:case 1:c=p;break;case 4:return f.label++,{value:p[1],done:!1};case 5:f.label++,a=p[1],p=[0];continue;case 7:p=f.ops.pop(),f.trys.pop();continue;default:if(!(c=(c=f.trys).length>0&&c[c.length-1])&&(6===p[0]||2===p[0])){f=0;continue}if(3===p[0]&&(!c||p[1]>c[0]&&p[1]<c[3])){f.label=p[1];break}if(6===p[0]&&f.label<c[1]){f.label=c[1],c=p;break}if(c&&f.label<c[2]){f.label=c[2],f.ops.push(p);break}c[2]&&f.ops.pop(),f.trys.pop();continue}p=o.call(r,f)}catch(r){p=[6,r],a=0}finally{s=c=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([p,g])}}};Object.defineProperty(o,"__esModule",{value:!0}),o.BackendForFrontendHandler=void 0;var p=s(53034),g=function(r){function BackendForFrontendHandler(){return null!==r&&r.apply(this,arguments)||this}return c(BackendForFrontendHandler,r),BackendForFrontendHandler.prototype.login=function(){var r;return u(this,void 0,void 0,function(){return f(this,function(o){switch(o.label){case 0:if(!(null===(r=this.config.events)||void 0===r?void 0:r.loginEvent))return[3,2];return[4,this.config.events.loginEvent()];case 1:o.sent(),o.label=2;case 2:return[2]}})})},BackendForFrontendHandler.prototype.logout=function(){var r;return u(this,void 0,void 0,function(){return f(this,function(o){switch(o.label){case 0:if(!(null===(r=this.config.events)||void 0===r?void 0:r.logoutEvent))return[3,2];return[4,this.config.events.logoutEvent()];case 1:o.sent(),o.label=2;case 2:return[2]}})})},BackendForFrontendHandler.prototype.autologin=function(){return u(this,void 0,void 0,function(){var r,o;return f(this,function(s){switch(s.label){case 0:if(!this.config.events.autologinEvent)return[3,2];return[4,this.config.events.autologinEvent()];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.isLoggedIn()];case 3:return r=s.sent(),this.publishAuthenticate({loggedIn:r,isManualLogin:this.checkIsManualLoginUsingCookie()}),[3,5];case 4:return o=s.sent(),this.publishAuthenticate({loggedIn:!1,isManualLogin:!1,error:{message:"Failed to get login state during autologin",code:p.ERROR_CODES.AUTOLOGIN_FAILED,context:o}}),[3,5];case 5:return[2]}})})},BackendForFrontendHandler.prototype.isLoggedIn=function(){return u(this,void 0,void 0,function(){return f(this,function(r){return[2,this.config.isLoggedIn()]})})},BackendForFrontendHandler.prototype.getToken=function(){return u(this,void 0,void 0,function(){return f(this,function(r){switch(r.label){case 0:return[4,this.isLoggedIn()];case 1:return[2,r.sent()?"loggedin":""]}})})},BackendForFrontendHandler.prototype.getUser=function(){return u(this,void 0,void 0,function(){return f(this,function(r){return[2,this.config.getUser()]})})},BackendForFrontendHandler}(s(33250).AbstractHandler);o.BackendForFrontendHandler=g},36492:function(r,o,s){"use strict";var a,c=this&&this.__extends||(a=function(r,o){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(r,o)},function(r,o){if("function"!=typeof o&&null!==o)throw TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=r}a(r,o),r.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}),u=this&&this.__assign||function(){return(u=Object.assign||function(r){for(var o,s=1,a=arguments.length;s<a;s++)for(var c in o=arguments[s])Object.prototype.hasOwnProperty.call(o,c)&&(r[c]=o[c]);return r}).apply(this,arguments)},f=this&&this.__awaiter||function(r,o,s,a){return new(s||(s=Promise))(function(c,u){function fulfilled(r){try{step(a.next(r))}catch(r){u(r)}}function rejected(r){try{step(a.throw(r))}catch(r){u(r)}}function step(r){var o;r.done?c(r.value):((o=r.value)instanceof s?o:new s(function(r){r(o)})).then(fulfilled,rejected)}step((a=a.apply(r,o||[])).next())})},p=this&&this.__generator||function(r,o){var s,a,c,u,f={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return u={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function verb(p){return function(g){return function(p){if(s)throw TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(f=0)),f;)try{if(s=1,a&&(c=2&p[0]?a.return:p[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,p[1])).done)return c;switch(a=0,c&&(p=[2&p[0],c.value]),p[0]){case 0:case 1:c=p;break;case 4:return f.label++,{value:p[1],done:!1};case 5:f.label++,a=p[1],p=[0];continue;case 7:p=f.ops.pop(),f.trys.pop();continue;default:if(!(c=(c=f.trys).length>0&&c[c.length-1])&&(6===p[0]||2===p[0])){f=0;continue}if(3===p[0]&&(!c||p[1]>c[0]&&p[1]<c[3])){f.label=p[1];break}if(6===p[0]&&f.label<c[1]){f.label=c[1],c=p;break}if(c&&f.label<c[2]){f.label=c[2],f.ops.push(p);break}c[2]&&f.ops.pop(),f.trys.pop();continue}p=o.call(r,f)}catch(r){p=[6,r],a=0}finally{s=c=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([p,g])}}};Object.defineProperty(o,"__esModule",{value:!0}),o.OidcHandler=void 0;var g=s(29527),v=s(53034),m=s(61711),_=function(r){function OidcHandler(o){var s,a,c,f=this;return(f=r.call(this,u(u({},o),{tokenExpiredCallback:function(){return f.publishAuthenticate({loggedIn:!1,isManualLogin:!1})},userLoadedCallback:function(r){return f.publishTokenRenew(r)}}))||this)._oidcClientConfig=OidcHandler.generateOidcClientConfig(u(u(u({},v.DEFAULTS),f.config),{claims:u(u({},null===(s=f.config)||void 0===s?void 0:s.claims),{userinfo:u(u({},null===(c=null===(a=f.config)||void 0===a?void 0:a.claims)||void 0===c?void 0:c.userinfo),{tracking_id:null,cumulus_connected:null})})})),f._userManager=new g.UserManager(f._oidcClientConfig),f}return c(OidcHandler,r),OidcHandler.isNotMigrosDomainAnd3rdPartyCookiesDisabled=function(){return!window.location.href.includes(".migros.ch")},OidcHandler.isOIDCHash=function(r){return!!r&&(-1!==r.indexOf("id_token")||-1!==r.indexOf("error"))},OidcHandler.isOIDCSearch=function(r){return!!r&&(-1!==r.indexOf("code=")||-1!==r.indexOf("error="))},OidcHandler.isInIFrame=function(){try{return null!==window.frameElement}catch(r){try{return window.self!==window.top}catch(r){return!1}}},OidcHandler.generateOidcClientConfig=function(r){return{authority:r.authority,client_id:r.clientId,client_secret:r.clientSecret,redirect_uri:r.redirectURI,silent_redirect_uri:r.silentRedirectURI||r.redirectURI,response_type:r.responseType,scope:r.scope,post_logout_redirect_uri:r.redirectURI,loadUserInfo:!0,extraQueryParams:{claims:JSON.stringify(r.claims)},automaticSilentRenew:!0,includeIdTokenInSilentRenew:r.includeIdTokenInSilentRenew,ui_locales:r.language}},OidcHandler.errorNeedsUserInteraction=function(r){return"interaction_required"===r.error||"consent_required"===r.error},Object.defineProperty(OidcHandler.prototype,"userManager",{get:function(){return this._userManager},enumerable:!1,configurable:!0}),OidcHandler.prototype.login=function(){return f(this,void 0,void 0,function(){return p(this,function(r){switch(r.label){case 0:return sessionStorage.removeItem(v.AUTHENTICATION_CONTEXT_ID),[4,this.removeUser()];case 1:if(r.sent(),this.config.loginUrl)return window.location.href=this.config.loginUrl,[2];return[4,this.signinRedirect()];case 2:return r.sent(),[2]}})})},OidcHandler.prototype.logout=function(){return f(this,void 0,void 0,function(){return p(this,function(r){switch(r.label){case 0:return sessionStorage.removeItem(v.AUTHENTICATION_CONTEXT_ID),[4,this.signoutRedirect()];case 1:return r.sent(),[2]}})})},OidcHandler.prototype.autologin=function(r){return void 0===r&&(r=!1),f(this,void 0,void 0,function(){var o,s,a,c,u,f;return p(this,function(p){switch(p.label){case 0:return o=!1,s=!1,a=void 0,c=!1,[4,this._autologin(r)];case 1:return o=p.sent(),[4,this.isLoggedIn()];case 2:return s=p.sent(),[4,this.getUser()];case 3:return a="string"==typeof(null==(u=p.sent())?void 0:u.tracking_id)?null==u?void 0:u.tracking_id:void 0,c="boolean"==typeof(null==u?void 0:u.cumulus_connected)&&(null==u?void 0:u.cumulus_connected),s&&(0,m.trackLogin)(o),a&&localStorage.setItem(v.MTID,a),(f=localStorage.getItem(v.MTID))&&(0,m.trackUser)(f,c),this.publishAuthenticate({loggedIn:s,isManualLogin:o}),[2]}})})},OidcHandler.prototype.getToken=function(){return f(this,void 0,void 0,function(){var r;return p(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.userManager.getUser()];case 1:return[2,(r=o.sent())?r.access_token:""];case 2:return o.sent(),[2,""];case 3:return[2]}})})},OidcHandler.prototype.isLoggedIn=function(){return f(this,void 0,void 0,function(){return p(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.userManager.getUser()];case 1:return[2,null!==r.sent()];case 2:return r.sent(),[2,!1];case 3:return[2]}})})},OidcHandler.prototype.removeUser=function(){return f(this,void 0,void 0,function(){return p(this,function(r){switch(r.label){case 0:return[4,this.userManager.removeUser()];case 1:return r.sent(),[2]}})})},OidcHandler.prototype.signinRedirect=function(){return f(this,void 0,void 0,function(){return p(this,function(r){switch(r.label){case 0:return[4,this.userManager.signinRedirect()];case 1:return r.sent(),[2]}})})},OidcHandler.prototype.signoutRedirect=function(){return f(this,void 0,void 0,function(){return p(this,function(r){switch(r.label){case 0:return[4,this.userManager.signoutRedirect()];case 1:return r.sent(),[2]}})})},OidcHandler.prototype.getUser=function(){var r;return f(this,void 0,void 0,function(){return p(this,function(o){switch(o.label){case 0:return[4,this.userManager.getUser()];case 1:return[2,(null===(r=o.sent())||void 0===r?void 0:r.profile)||null]}})})},OidcHandler.prototype.clearStaleState=function(){return f(this,void 0,void 0,function(){return p(this,function(r){switch(r.label){case 0:return[4,this.userManager.clearStaleState()];case 1:return[2,r.sent()]}})})},OidcHandler.prototype.triggerLoggedInEvent=function(r,o){var s=!1;return r&&o||(s=this.checkIsManualLoginUsingCookie()),s},OidcHandler.prototype._autologin=function(r){return void 0===r&&(r=!1),f(this,void 0,void 0,function(){var o,s,a,c,u=this;return p(this,function(f){switch(f.label){case 0:return this.userManager.events.addAccessTokenExpired(this.config.tokenExpiredCallback),this.userManager.events.addUserLoaded(function(r){return u.config.userLoadedCallback(r.access_token)}),this.userManager.events.addSilentRenewError(function(r){console.error("Unable to renew access token",r),u.config.tokenExpiredCallback()}),o=localStorage.getItem(v.MSC_OIDC_RETURN_TO),s=window.location.href!==o&&(window.location.href.includes(this.config.redirectURI)||window.location.href.includes(this.config.silentRedirectURI)),a=this.triggerLoggedInEvent(o,s),[4,this.handleOIDCState(r)];case 1:f.sent(),f.label=2;case 2:return f.trys.push([2,3,,5]),o&&(localStorage.removeItem(v.MSC_OIDC_RETURN_TO),s&&(window.location.href=o)),[2,a];case 3:return c=f.sent(),[4,this.userManager.removeUser()];case 4:return f.sent(),console.error("Error during OIDC autologin when setting up user",c),[2,a];case 5:return[2]}})})},OidcHandler.prototype.isOnRedirectUri=function(){return window.location.href.includes(this.config.redirectURI)},OidcHandler.prototype.isAuthenticated=function(){return f(this,void 0,void 0,function(){var r,o;return p(this,function(s){switch(s.label){case 0:if(s.trys.push([0,6,,7]),OidcHandler.isNotMigrosDomainAnd3rdPartyCookiesDisabled())return[2,!!localStorage.getItem(v.AUTO_LOGIN_TIMESTAMP_COOKIE)];return[4,fetch("".concat(this._oidcClientConfig.authority,"/api/authenticationcontext"),{headers:{Accept:"application/json"},credentials:"include"})];case 1:return[4,s.sent().json()];case 2:if(r=s.sent(),o=sessionStorage.getItem(v.AUTHENTICATION_CONTEXT_ID),!(r.authenticated&&o&&o!==r.acid))return[3,5];return[4,this.userManager.removeUser()];case 3:return s.sent(),sessionStorage.setItem(v.AUTHENTICATION_CONTEXT_ID,r.acid),[4,this.autologin()];case 4:s.sent(),s.label=5;case 5:return sessionStorage.setItem(v.AUTHENTICATION_CONTEXT_ID,r.acid),[2,r.authenticated];case 6:return console.error("Error fetching loginstatus",s.sent()),[2,!1];case 7:return[2]}})})},OidcHandler.prototype.handleOIDCState=function(r){var o;return void 0===r&&(r=!1),f(this,void 0,void 0,function(){var s,a,c,u;return p(this,function(f){switch(f.label){case 0:if(s=null,!(r&&!OidcHandler.isNotMigrosDomainAnd3rdPartyCookiesDisabled()))return[3,2];return[4,this.userManager.removeUser()];case 1:f.sent(),f.label=2;case 2:if(f.trys.push([2,16,,19]),a=window.location.hash,c=window.location.search,!(this.isOnRedirectUri()&&(OidcHandler.isOIDCHash(a)||OidcHandler.isOIDCSearch(c))))return[3,6];if(!OidcHandler.isInIFrame())return[3,4];return[4,this.userManager.signinSilentCallback()];case 3:case 8:case 11:return f.sent(),[2,null];case 4:return[4,this.userManager.signinRedirectCallback()];case 5:return(s=f.sent())?localStorage.setItem(v.AUTO_LOGIN_TIMESTAMP_COOKIE,Date.now().toString()):localStorage.removeItem(v.AUTO_LOGIN_TIMESTAMP_COOKIE),history.replaceState(null,""," "),[3,15];case 6:return[4,this.isAuthenticated()];case 7:if(f.sent())return[3,9];return sessionStorage.removeItem(v.AUTHENTICATION_CONTEXT_ID),[4,this.userManager.removeUser()];case 9:return[4,this.userManager.getUser()];case 10:if((s=f.sent())&&s.expired&&(s=null),s)return[3,15];if(!OidcHandler.isNotMigrosDomainAnd3rdPartyCookiesDisabled())return[3,12];return localStorage.setItem(v.MSC_OIDC_RETURN_TO,window.location.href),[4,this.userManager.signinRedirect({prompt:"none"})];case 12:return[4,this.userManager.signinSilent()];case 13:return f.sent(),[4,this.userManager.getUser()];case 14:s=f.sent(),f.label=15;case 15:case 18:return[3,19];case 16:if(u=f.sent(),OidcHandler.errorNeedsUserInteraction(u))return[3,18];return localStorage.removeItem(v.AUTO_LOGIN_TIMESTAMP_COOKIE),[4,null===(o=this.userManager)||void 0===o?void 0:o.removeUser()];case 17:return f.sent(),console.error("Error during OIDC autologin",u),[2,null];case 19:return[2,s]}})})},OidcHandler}(s(33250).AbstractHandler);o.OidcHandler=_},10449:function(r,o,s){"use strict";var a,c=this&&this.__extends||(a=function(r,o){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])})(r,o)},function(r,o){if("function"!=typeof o&&null!==o)throw TypeError("Class extends value "+String(o)+" is not a constructor or null");function __(){this.constructor=r}a(r,o),r.prototype=null===o?Object.create(o):(__.prototype=o.prototype,new __)}),u=this&&this.__assign||function(){return(u=Object.assign||function(r){for(var o,s=1,a=arguments.length;s<a;s++)for(var c in o=arguments[s])Object.prototype.hasOwnProperty.call(o,c)&&(r[c]=o[c]);return r}).apply(this,arguments)},f=this&&this.__awaiter||function(r,o,s,a){return new(s||(s=Promise))(function(c,u){function fulfilled(r){try{step(a.next(r))}catch(r){u(r)}}function rejected(r){try{step(a.throw(r))}catch(r){u(r)}}function step(r){var o;r.done?c(r.value):((o=r.value)instanceof s?o:new s(function(r){r(o)})).then(fulfilled,rejected)}step((a=a.apply(r,o||[])).next())})},p=this&&this.__generator||function(r,o){var s,a,c,u,f={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return u={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function verb(p){return function(g){return function(p){if(s)throw TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(f=0)),f;)try{if(s=1,a&&(c=2&p[0]?a.return:p[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,p[1])).done)return c;switch(a=0,c&&(p=[2&p[0],c.value]),p[0]){case 0:case 1:c=p;break;case 4:return f.label++,{value:p[1],done:!1};case 5:f.label++,a=p[1],p=[0];continue;case 7:p=f.ops.pop(),f.trys.pop();continue;default:if(!(c=(c=f.trys).length>0&&c[c.length-1])&&(6===p[0]||2===p[0])){f=0;continue}if(3===p[0]&&(!c||p[1]>c[0]&&p[1]<c[3])){f.label=p[1];break}if(6===p[0]&&f.label<c[1]){f.label=c[1],c=p;break}if(c&&f.label<c[2]){f.label=c[2],f.ops.push(p);break}c[2]&&f.ops.pop(),f.trys.pop();continue}p=o.call(r,f)}catch(r){p=[6,r],a=0}finally{s=c=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([p,g])}}},g=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(o,"__esModule",{value:!0}),o.TokenProviderHandler=void 0;var v=s(21909),m=g(s(96245)),_=s(53034),w=s(33250),isAccessToken=function(r){return void 0!==r.token&&void 0!==r.expiresAt},b=function(r){function TokenProviderHandler(o){return r.call(this,o)||this}return c(TokenProviderHandler,r),TokenProviderHandler.getUserProfile=function(r,o){return f(this,void 0,void 0,function(){return p(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,fetch("".concat(o,"/oauth2/userinfo"),{headers:{Authorization:"Bearer ".concat(r),Accept:"application/json"}})];case 1:return[4,s.sent().json()];case 2:return[2,s.sent()];case 3:return console.error("Error fetching userinfo",s.sent()),[2,null];case 4:return[2]}})})},TokenProviderHandler.prototype.login=function(){var r;return f(this,void 0,void 0,function(){return p(this,function(o){switch(o.label){case 0:if(!(null===(r=this.config.events)||void 0===r?void 0:r.loginEvent))return[3,2];return[4,this.config.events.loginEvent()];case 1:o.sent(),o.label=2;case 2:return[2]}})})},TokenProviderHandler.prototype.logout=function(){var r;return f(this,void 0,void 0,function(){return p(this,function(o){switch(o.label){case 0:if(!(null===(r=this.config.events)||void 0===r?void 0:r.logoutEvent))return[3,2];return[4,this.config.events.logoutEvent()];case 1:o.sent(),o.label=2;case 2:return[2]}})})},TokenProviderHandler.prototype.autologin=function(){return f(this,void 0,void 0,function(){var r,o,s=this;return p(this,function(a){switch(a.label){case 0:if(!this.config.events.autologinEvent)return[3,2];return[4,this.config.events.autologinEvent()];case 1:a.sent(),a.label=2;case 2:try{(0,v.getTokenProvider)().onTokenChanged(function(r){return s.handleTokenChanged(r)})}catch(r){this.loggedIn=!1,this.publishAuthenticate({loggedIn:!1,isManualLogin:!1,error:{message:"Failed to configure TokenProvider onTokenChanged",code:_.ERROR_CODES.LOGIN_SETUP_FAILED,context:r}}),console.error("Failed listening to TokenProvider onTokenChanged event.",r)}a.label=3;case 3:return a.trys.push([3,5,,6]),[4,(0,v.getTokenProvider)().getAccessToken()];case 4:return o=!!(r=a.sent())&&isAccessToken(r),this.loggedIn!==o&&(this.loggedIn=o,this.publishAuthenticateEvent()),[3,6];case 5:return a.sent(),!1!==this.loggedIn&&(this.loggedIn=!1,this.publishAuthenticateEvent()),[3,6];case 6:return[2]}})})},TokenProviderHandler.prototype.isLoggedIn=function(){return f(this,void 0,void 0,function(){return p(this,function(r){return[2,!!this.loggedIn]})})},TokenProviderHandler.prototype.getToken=function(){var r;return f(this,void 0,void 0,function(){return p(this,function(o){switch(o.label){case 0:return[4,this.getAccessToken()];case 1:return[2,(null===(r=o.sent())||void 0===r?void 0:r.token)||""]}})})},TokenProviderHandler.prototype.getUser=function(){var r;return f(this,void 0,void 0,function(){var o;return p(this,function(s){switch(s.label){case 0:return[4,this.getAccessToken()];case 1:if(!(o=s.sent()))return[2,null];return[2,u(u({},(null===(r=o.payload)||void 0===r?void 0:r.profile)||o.payload||{}),{id_token:o.token,access_token:o.token,expires_at:o.expiresAt})]}})})},TokenProviderHandler.prototype.publishAuthenticateEvent=function(){this.publishAuthenticate({loggedIn:!!this.loggedIn,isManualLogin:this.checkIsManualLoginUsingCookie()})},TokenProviderHandler.prototype.getAccessToken=function(){return f(this,void 0,void 0,function(){var r,o,s;return p(this,function(a){switch(a.label){case 0:r=(0,v.getTokenProvider)(),o=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r.getAccessToken()];case 2:if(!isAccessToken(o=a.sent()))return[2,null];return[3,4];case 3:if(s=a.sent(),[v.TokenError.Network,v.TokenError.Domain].some(function(r){return r===s}))return[2,null];return[3,4];case 4:return[2,o]}})})},TokenProviderHandler.prototype.handleTokenChanged=function(r){var o,s,a;return f(this,void 0,void 0,function(){var c,u,f,g,_;return p(this,function(p){switch(p.label){case 0:if(u=(c=!!r&&isAccessToken(r))!==this.loggedIn,this.loggedIn=c,!r||!isAccessToken(r))return u&&this.publishAuthenticateEvent(),[2];if(f=(0,m.default)(r.token),!(null!==(s=null===(o=r.payload)||void 0===o?void 0:o.profile)&&void 0!==s))return[3,1];return _=s,[3,3];case 1:return[4,TokenProviderHandler.getUserProfile(r.token,f.iss)];case 2:_=p.sent(),p.label=3;case 3:if(!((g=_)&&!(null===(a=r.payload)||void 0===a?void 0:a.profile)))return[3,5];return[4,(0,v.getTokenProvider)().setAccessToken(r.token,{profile:g})];case 4:return p.sent(),[3,6];case 5:this.publishTokenRenew(r.token),u&&this.publishAuthenticateEvent(),p.label=6;case 6:return[2]}})})},TokenProviderHandler}(w.AbstractHandler);o.TokenProviderHandler=b},61711:function(r,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.trackUser=o.trackLogin=void 0;var s=[];"undefined"!=typeof window&&(s=window.dataLayer||[],window.dataLayer=s);var push=function(r){s&&s.push&&s.push(r)};o.trackLogin=function(r){push({event:"login1",loginType:"m-login",autologin:!r})},o.trackUser=function(r,o){push({mtid:r,hasCumulusConnected:o,event:"mtidExists"})}},86644:function(r,o,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(r,o,s,a){void 0===a&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(r,a,c)}:function(r,o,s,a){void 0===a&&(a=s),r[a]=o[s]}),c=this&&this.__exportStar||function(r,o){for(var s in r)"default"===s||Object.prototype.hasOwnProperty.call(o,s)||a(o,r,s)};Object.defineProperty(o,"__esModule",{value:!0}),c(s(4143),o)},74459:function(r,o,s){"use strict";s.d(o,{iu:function(){return ec},V:function(){return el}});var a,c=s(80222),u=s.n(c),f=s(8446),p=s.n(f),g=s(86),v=s.n(g),m=s(66870),_=s.n(m),w=s(29747),b=s.n(w),S=s(96718),x=s.n(S),k=s(86416),O=s(84406),T=s(1768),E=s(6919),P=s(36961),I=s(71518);function _toConsumableArray(r){return function(r){if(k(r))return(0,O.Z)(r)}(r)||function(r){if(void 0!==T&&null!=E(r)||null!=r["@@iterator"])return P(r)}(r)||(0,I.Z)(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=s(33938),A=s(68420),R=s(27344),j=s(44845),L=s(30222),N=s.n(L),U=s(58118),H=s.n(U),B=s(28222),z=s.n(B),q=s(39022),W=s.n(q),K=s(14418),G=s.n(K);let V={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,o){console&&console[r]&&console[r].apply(console,o)}};let Logger=class Logger{constructor(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(r,o)}init(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=o.prefix||"i18next:",this.logger=r||V,this.options=o,this.debug=o.debug}log(){for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return this.forward(o,"log","",!0)}warn(){for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return this.forward(o,"warn","",!0)}error(){for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return this.forward(o,"error","")}deprecate(){for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return this.forward(o,"warn","WARNING DEPRECATED: ",!0)}forward(r,o,s,a){return a&&!this.debug?null:("string"==typeof r[0]&&(r[0]=`${s}${this.prefix} ${r[0]}`),this.logger[o](r))}create(r){return new Logger(this.logger,{prefix:`${this.prefix}:${r}:`,...this.options})}clone(r){return(r=r||this.options).prefix=r.prefix||this.prefix,new Logger(this.logger,r)}};var J=new Logger;let EventEmitter=class EventEmitter{constructor(){this.observers={}}on(r,o){return r.split(" ").forEach(r=>{this.observers[r]=this.observers[r]||[],this.observers[r].push(o)}),this}off(r,o){if(this.observers[r]){if(!o){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(r=>r!==o)}}emit(r){for(var o=arguments.length,s=Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];if(this.observers[r]){let o=[].concat(this.observers[r]);o.forEach(r=>{r(...s)})}if(this.observers["*"]){let o=[].concat(this.observers["*"]);o.forEach(o=>{o.apply(o,[r,...s])})}}};function defer(){let r,o;let s=new Promise((s,a)=>{r=s,o=a});return s.resolve=r,s.reject=o,s}function makeString(r){return null==r?"":""+r}function getLastOfPath(r,o,s){function cleanKey(r){return r&&r.indexOf("###")>-1?r.replace(/###/g,"."):r}function canNotTraverseDeeper(){return!r||"string"==typeof r}let a="string"!=typeof o?[].concat(o):o.split(".");for(;a.length>1;){if(canNotTraverseDeeper())return{};let o=cleanKey(a.shift());!r[o]&&s&&(r[o]=new s),r=Object.prototype.hasOwnProperty.call(r,o)?r[o]:{}}return canNotTraverseDeeper()?{}:{obj:r,k:cleanKey(a.shift())}}function setPath(r,o,s){let{obj:a,k:c}=getLastOfPath(r,o,Object);a[c]=s}function getPath(r,o){let{obj:s,k:a}=getLastOfPath(r,o);if(s)return s[a]}function regexEscape(r){return r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function i18next_escape(r){return"string"==typeof r?r.replace(/[&<>"'\/]/g,r=>Z[r]):r}let Y=[" ",",","?","!",";"];function deepFind(r,o){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!r)return;if(r[o])return r[o];let a=o.split(s),c=r;for(let r=0;r<a.length;++r){if(!c||"string"==typeof c[a[r]]&&r+1<a.length)return;if(void 0===c[a[r]]){let u=2,f=a.slice(r,r+u).join(s),p=c[f];for(;void 0===p&&a.length>r+u;)u++,p=c[f=a.slice(r,r+u).join(s)];if(void 0===p)return;if(null===p)return null;if(o.endsWith(f)){if("string"==typeof p)return p;if(f&&"string"==typeof p[f])return p[f]}let g=a.slice(r+u).join(s);if(g)return deepFind(p,g,s);return}c=c[a[r]]}return c}function getCleanedCode(r){return r&&r.indexOf("_")>0?r.replace("_","-"):r}let ResourceStore=class ResourceStore extends EventEmitter{constructor(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=r||{},this.options=o,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(r){0>this.options.ns.indexOf(r)&&this.options.ns.push(r)}removeNamespaces(r){let o=this.options.ns.indexOf(r);o>-1&&this.options.ns.splice(o,1)}getResource(r,o,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,u=void 0!==a.ignoreJSONStructure?a.ignoreJSONStructure:this.options.ignoreJSONStructure,f=[r,o];s&&"string"!=typeof s&&(f=f.concat(s)),s&&"string"==typeof s&&(f=f.concat(c?s.split(c):s)),r.indexOf(".")>-1&&(f=r.split("."));let p=getPath(this.data,f);return p||!u||"string"!=typeof s?p:deepFind(this.data&&this.data[r]&&this.data[r][o],s,c)}addResource(r,o,s,a){let c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},u=void 0!==c.keySeparator?c.keySeparator:this.options.keySeparator,f=[r,o];s&&(f=f.concat(u?s.split(u):s)),r.indexOf(".")>-1&&(f=r.split("."),a=o,o=f[1]),this.addNamespaces(o),setPath(this.data,f,a),c.silent||this.emit("added",r,o,s,a)}addResources(r,o,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(let a in s)("string"==typeof s[a]||"[object Array]"===Object.prototype.toString.apply(s[a]))&&this.addResource(r,o,a,s[a],{silent:!0});a.silent||this.emit("added",r,o,s)}addResourceBundle(r,o,s,a,c){let u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},f=[r,o];r.indexOf(".")>-1&&(f=r.split("."),a=s,s=o,o=f[1]),this.addNamespaces(o);let p=getPath(this.data,f)||{};a?function deepExtend(r,o,s){for(let a in o)"__proto__"!==a&&"constructor"!==a&&(a in r?"string"==typeof r[a]||r[a]instanceof String||"string"==typeof o[a]||o[a]instanceof String?s&&(r[a]=o[a]):deepExtend(r[a],o[a],s):r[a]=o[a]);return r}(p,s,c):p={...p,...s},setPath(this.data,f,p),u.silent||this.emit("added",r,o,s)}removeResourceBundle(r,o){this.hasResourceBundle(r,o)&&delete this.data[r][o],this.removeNamespaces(o),this.emit("removed",r,o)}hasResourceBundle(r,o){return void 0!==this.getResource(r,o)}getResourceBundle(r,o){return(o||(o=this.options.defaultNS),"v1"===this.options.compatibilityAPI)?{...this.getResource(r,o)}:this.getResource(r,o)}getDataByLanguage(r){return this.data[r]}hasLanguageSomeTranslations(r){let o=this.getDataByLanguage(r),s=o&&Object.keys(o)||[];return!!s.find(r=>o[r]&&Object.keys(o[r]).length>0)}toJSON(){return this.data}};var Q={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,o,s,a,c){return r.forEach(r=>{this.processors[r]&&(o=this.processors[r].process(o,s,a,c))}),o}};let X={};let Translator=class Translator extends EventEmitter{constructor(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),function(r,o,s){r.forEach(r=>{o[r]&&(s[r]=o[r])})}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,this),this.options=o,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=J.create("translator")}changeLanguage(r){r&&(this.language=r)}exists(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==r)return!1;let s=this.resolve(r,o);return s&&void 0!==s.res}extractFromKey(r,o){let s=void 0!==o.nsSeparator?o.nsSeparator:this.options.nsSeparator;void 0===s&&(s=":");let a=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,c=o.ns||this.options.defaultNS||[],u=s&&r.indexOf(s)>-1,f=!this.options.userDefinedKeySeparator&&!o.keySeparator&&!this.options.userDefinedNsSeparator&&!o.nsSeparator&&!function(r,o,s){o=o||"",s=s||"";let a=Y.filter(r=>0>o.indexOf(r)&&0>s.indexOf(r));if(0===a.length)return!0;let c=RegExp(`(${a.map(r=>"?"===r?"\\?":r).join("|")})`),u=!c.test(r);if(!u){let o=r.indexOf(s);o>0&&!c.test(r.substring(0,o))&&(u=!0)}return u}(r,s,a);if(u&&!f){let o=r.match(this.interpolator.nestingRegexp);if(o&&o.length>0)return{key:r,namespaces:c};let u=r.split(s);(s!==a||s===a&&this.options.ns.indexOf(u[0])>-1)&&(c=u.shift()),r=u.join(a)}return"string"==typeof c&&(c=[c]),{key:r,namespaces:c}}translate(r,o,s){if("object"!=typeof o&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof o&&(o={...o}),o||(o={}),null==r)return"";Array.isArray(r)||(r=[String(r)]);let a=void 0!==o.returnDetails?o.returnDetails:this.options.returnDetails,c=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,{key:u,namespaces:f}=this.extractFromKey(r[r.length-1],o),p=f[f.length-1],g=o.lng||this.language,v=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(g&&"cimode"===g.toLowerCase()){if(v){let r=o.nsSeparator||this.options.nsSeparator;return a?{res:`${p}${r}${u}`,usedKey:u,exactUsedKey:u,usedLng:g,usedNS:p,usedParams:this.getUsedParamsDetails(o)}:`${p}${r}${u}`}return a?{res:u,usedKey:u,exactUsedKey:u,usedLng:g,usedNS:p,usedParams:this.getUsedParamsDetails(o)}:u}let m=this.resolve(r,o),_=m&&m.res,w=m&&m.usedKey||u,b=m&&m.exactUsedKey||u,S=Object.prototype.toString.apply(_),x=void 0!==o.joinArrays?o.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,O="string"!=typeof _&&"boolean"!=typeof _&&"number"!=typeof _;if(k&&_&&O&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(S)&&!("string"==typeof x&&"[object Array]"===S)){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let r=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,_,{...o,ns:f}):`key '${u} (${this.language})' returned an object instead of string.`;return a?(m.res=r,m.usedParams=this.getUsedParamsDetails(o),m):r}if(c){let r="[object Array]"===S,s=r?[]:{},a=r?b:w;for(let r in _)if(Object.prototype.hasOwnProperty.call(_,r)){let u=`${a}${c}${r}`;s[r]=this.translate(u,{...o,joinArrays:!1,ns:f}),s[r]===u&&(s[r]=_[r])}_=s}}else if(k&&"string"==typeof x&&"[object Array]"===S)(_=_.join(x))&&(_=this.extendTranslation(_,r,o,s));else{let a=!1,f=!1,v=void 0!==o.count&&"string"!=typeof o.count,w=Translator.hasDefaultValue(o),b=v?this.pluralResolver.getSuffix(g,o.count,o):"",S=o.ordinal&&v?this.pluralResolver.getSuffix(g,o.count,{ordinal:!1}):"",x=o[`defaultValue${b}`]||o[`defaultValue${S}`]||o.defaultValue;!this.isValidLookup(_)&&w&&(a=!0,_=x),this.isValidLookup(_)||(f=!0,_=u);let k=o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,O=k&&f?void 0:_,T=w&&x!==_&&this.options.updateMissing;if(f||a||T){if(this.logger.log(T?"updateKey":"missingKey",g,p,u,T?x:_),c){let r=this.resolve(u,{...o,keySeparator:!1});r&&r.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let r=[],s=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if("fallback"===this.options.saveMissingTo&&s&&s[0])for(let o=0;o<s.length;o++)r.push(s[o]);else"all"===this.options.saveMissingTo?r=this.languageUtils.toResolveHierarchy(o.lng||this.language):r.push(o.lng||this.language);let send=(r,s,a)=>{let c=w&&a!==_?a:O;this.options.missingKeyHandler?this.options.missingKeyHandler(r,p,s,c,T,o):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(r,p,s,c,T,o),this.emit("missingKey",r,p,s,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&v?r.forEach(r=>{this.pluralResolver.getSuffixes(r,o).forEach(s=>{send([r],u+s,o[`defaultValue${s}`]||x)})}):send(r,u,x))}_=this.extendTranslation(_,r,o,m,s),f&&_===u&&this.options.appendNamespaceToMissingKey&&(_=`${p}:${u}`),(f||a)&&this.options.parseMissingKeyHandler&&(_="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}:${u}`:u,a?_:void 0):this.options.parseMissingKeyHandler(_))}return a?(m.res=_,m.usedParams=this.getUsedParamsDetails(o),m):_}extendTranslation(r,o,s,a,c){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)r=this.i18nFormat.parse(r,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!s.skipInterpolation){let f;s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});let p="string"==typeof r&&(s&&s.interpolation&&void 0!==s.interpolation.skipOnVariables?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(p){let o=r.match(this.interpolator.nestingRegexp);f=o&&o.length}let g=s.replace&&"string"!=typeof s.replace?s.replace:s;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),r=this.interpolator.interpolate(r,g,s.lng||this.language,s),p){let o=r.match(this.interpolator.nestingRegexp),a=o&&o.length;f<a&&(s.nest=!1)}!s.lng&&"v1"!==this.options.compatibilityAPI&&a&&a.res&&(s.lng=a.usedLng),!1!==s.nest&&(r=this.interpolator.nest(r,function(){for(var r=arguments.length,a=Array(r),f=0;f<r;f++)a[f]=arguments[f];return c&&c[0]===a[0]&&!s.context?(u.logger.warn(`It seems you are nesting recursively key: ${a[0]} in key: ${o[0]}`),null):u.translate(...a,o)},s)),s.interpolation&&this.interpolator.reset()}let f=s.postProcess||this.options.postProcess,p="string"==typeof f?[f]:f;return null!=r&&p&&p.length&&!1!==s.applyPostProcessor&&(r=Q.handle(p,r,o,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),r}resolve(r){let o,s,a,c,u,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof r&&(r=[r]),r.forEach(r=>{if(this.isValidLookup(o))return;let p=this.extractFromKey(r,f),g=p.key;s=g;let v=p.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));let m=void 0!==f.count&&"string"!=typeof f.count,_=m&&!f.ordinal&&0===f.count&&this.pluralResolver.shouldUseIntlApi(),w=void 0!==f.context&&("string"==typeof f.context||"number"==typeof f.context)&&""!==f.context,b=f.lngs?f.lngs:this.languageUtils.toResolveHierarchy(f.lng||this.language,f.fallbackLng);v.forEach(r=>{this.isValidLookup(o)||(u=r,!X[`${b[0]}-${r}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(u)&&(X[`${b[0]}-${r}`]=!0,this.logger.warn(`key "${s}" for languages "${b.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(s=>{let u;if(this.isValidLookup(o))return;c=s;let p=[g];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(p,g,s,r,f);else{let r;m&&(r=this.pluralResolver.getSuffix(s,f.count,f));let o=`${this.options.pluralSeparator}zero`,a=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(p.push(g+r),f.ordinal&&0===r.indexOf(a)&&p.push(g+r.replace(a,this.options.pluralSeparator)),_&&p.push(g+o)),w){let s=`${g}${this.options.contextSeparator}${f.context}`;p.push(s),m&&(p.push(s+r),f.ordinal&&0===r.indexOf(a)&&p.push(s+r.replace(a,this.options.pluralSeparator)),_&&p.push(s+o))}}for(;u=p.pop();)this.isValidLookup(o)||(a=u,o=this.getResource(s,r,u,f))}))})}),{res:o,usedKey:s,exactUsedKey:a,usedLng:c,usedNS:u}}isValidLookup(r){return void 0!==r&&!(!this.options.returnNull&&null===r)&&!(!this.options.returnEmptyString&&""===r)}getResource(r,o,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(r,o,s,a):this.resourceStore.getResource(r,o,s,a)}getUsedParamsDetails(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.replace&&"string"!=typeof r.replace,s=o?r.replace:r;if(o&&void 0!==r.count&&(s.count=r.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!o)for(let r of(s={...s},["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]))delete s[r];return s}static hasDefaultValue(r){let o="defaultValue";for(let s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&o===s.substring(0,o.length)&&void 0!==r[s])return!0;return!1}};function capitalize(r){return r.charAt(0).toUpperCase()+r.slice(1)}let LanguageUtil=class LanguageUtil{constructor(r){this.options=r,this.supportedLngs=this.options.supportedLngs||!1,this.logger=J.create("languageUtils")}getScriptPartFromCode(r){if(!(r=getCleanedCode(r))||0>r.indexOf("-"))return null;let o=r.split("-");return 2===o.length?null:(o.pop(),"x"===o[o.length-1].toLowerCase())?null:this.formatLanguageCode(o.join("-"))}getLanguagePartFromCode(r){if(!(r=getCleanedCode(r))||0>r.indexOf("-"))return r;let o=r.split("-");return this.formatLanguageCode(o[0])}formatLanguageCode(r){if("string"==typeof r&&r.indexOf("-")>-1){let o=["hans","hant","latn","cyrl","cans","mong","arab"],s=r.split("-");return this.options.lowerCaseLng?s=s.map(r=>r.toLowerCase()):2===s.length?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),o.indexOf(s[1].toLowerCase())>-1&&(s[1]=capitalize(s[1].toLowerCase()))):3===s.length&&(s[0]=s[0].toLowerCase(),2===s[1].length&&(s[1]=s[1].toUpperCase()),"sgn"!==s[0]&&2===s[2].length&&(s[2]=s[2].toUpperCase()),o.indexOf(s[1].toLowerCase())>-1&&(s[1]=capitalize(s[1].toLowerCase())),o.indexOf(s[2].toLowerCase())>-1&&(s[2]=capitalize(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}isSupportedCode(r){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}getBestMatchFromCodes(r){let o;return r?(r.forEach(r=>{if(o)return;let s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(o=s)}),!o&&this.options.supportedLngs&&r.forEach(r=>{if(o)return;let s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return o=s;o=this.options.supportedLngs.find(r=>{if(r===s||!(0>r.indexOf("-")&&0>s.indexOf("-"))&&0===r.indexOf(s))return r})}),o||(o=this.getFallbackCodes(this.options.fallbackLng)[0]),o):null}getFallbackCodes(r,o){if(!r)return[];if("function"==typeof r&&(r=r(o)),"string"==typeof r&&(r=[r]),"[object Array]"===Object.prototype.toString.apply(r))return r;if(!o)return r.default||[];let s=r[o];return s||(s=r[this.getScriptPartFromCode(o)]),s||(s=r[this.formatLanguageCode(o)]),s||(s=r[this.getLanguagePartFromCode(o)]),s||(s=r.default),s||[]}toResolveHierarchy(r,o){let s=this.getFallbackCodes(o||this.options.fallbackLng||[],r),a=[],addCode=r=>{r&&(this.isSupportedCode(r)?a.push(r):this.logger.warn(`rejecting language code not found in supportedLngs: ${r}`))};return"string"==typeof r&&(r.indexOf("-")>-1||r.indexOf("_")>-1)?("languageOnly"!==this.options.load&&addCode(this.formatLanguageCode(r)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&addCode(this.getScriptPartFromCode(r)),"currentOnly"!==this.options.load&&addCode(this.getLanguagePartFromCode(r))):"string"==typeof r&&addCode(this.formatLanguageCode(r)),s.forEach(r=>{0>a.indexOf(r)&&addCode(this.formatLanguageCode(r))}),a}};let ee=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],et={1:function(r){return Number(r>1)},2:function(r){return Number(1!=r)},3:function(r){return 0},4:function(r){return Number(r%10==1&&r%100!=11?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2)},5:function(r){return Number(0==r?0:1==r?1:2==r?2:r%100>=3&&r%100<=10?3:r%100>=11?4:5)},6:function(r){return Number(1==r?0:r>=2&&r<=4?1:2)},7:function(r){return Number(1==r?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2)},8:function(r){return Number(1==r?0:2==r?1:8!=r&&11!=r?2:3)},9:function(r){return Number(r>=2)},10:function(r){return Number(1==r?0:2==r?1:r<7?2:r<11?3:4)},11:function(r){return Number(1==r||11==r?0:2==r||12==r?1:r>2&&r<20?2:3)},12:function(r){return Number(r%10!=1||r%100==11)},13:function(r){return Number(0!==r)},14:function(r){return Number(1==r?0:2==r?1:3==r?2:3)},15:function(r){return Number(r%10==1&&r%100!=11?0:r%10>=2&&(r%100<10||r%100>=20)?1:2)},16:function(r){return Number(r%10==1&&r%100!=11?0:0!==r?1:2)},17:function(r){return Number(1==r||r%10==1&&r%100!=11?0:1)},18:function(r){return Number(0==r?0:1==r?1:2)},19:function(r){return Number(1==r?0:0==r||r%100>1&&r%100<11?1:r%100>10&&r%100<20?2:3)},20:function(r){return Number(1==r?0:0==r||r%100>0&&r%100<20?1:2)},21:function(r){return Number(r%100==1?1:r%100==2?2:r%100==3||r%100==4?3:0)},22:function(r){return Number(1==r?0:2==r?1:(r<0||r>10)&&r%10==0?2:3)}},er=["v1","v2","v3"],en=["v4"],ei={zero:0,one:1,two:2,few:3,many:4,other:5};let PluralResolver=class PluralResolver{constructor(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=r,this.options=o,this.logger=J.create("pluralResolver"),(!this.options.compatibilityJSON||en.includes(this.options.compatibilityJSON))&&("undefined"==typeof Intl||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){let r={};return ee.forEach(o=>{o.lngs.forEach(s=>{r[s]={numbers:o.nr,plurals:et[o.fc]}})}),r}()}addRule(r,o){this.rules[r]=o}getRule(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(getCleanedCode(r),{type:o.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}needsPlural(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.getRule(r,o);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}getPluralFormsOfKey(r,o){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(r,s).map(r=>`${o}${r}`)}getSuffixes(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.getRule(r,o);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort((r,o)=>ei[r]-ei[o]).map(r=>`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${r}`):s.numbers.map(s=>this.getSuffix(r,s,o)):[]}getSuffix(r,o){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this.getRule(r,s);return a?this.shouldUseIntlApi()?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${a.select(o)}`:this.getSuffixRetroCompatible(a,o):(this.logger.warn(`no plural rule found for: ${r}`),"")}getSuffixRetroCompatible(r,o){let s=r.noAbs?r.plurals(o):r.plurals(Math.abs(o)),a=r.numbers[s];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===a?a="plural":1===a&&(a=""));let returnSuffix=()=>this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString();return"v1"===this.options.compatibilityJSON?1===a?"":"number"==typeof a?`_plural_${a.toString()}`:returnSuffix():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]?returnSuffix():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}shouldUseIntlApi(){return!er.includes(this.options.compatibilityJSON)}};function deepFindWithDefaults(r,o,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",c=!(arguments.length>4)||void 0===arguments[4]||arguments[4],u=function(r,o,s){let a=getPath(r,s);return void 0!==a?a:getPath(o,s)}(r,o,s);return!u&&c&&"string"==typeof s&&void 0===(u=deepFind(r,s,a))&&(u=deepFind(o,s,a)),u}let Interpolator=class Interpolator{constructor(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=J.create("interpolator"),this.options=r,this.format=r.interpolation&&r.interpolation.format||(r=>r),this.init(r)}init(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});let o=r.interpolation;this.escape=void 0!==o.escape?o.escape:i18next_escape,this.escapeValue=void 0===o.escapeValue||o.escapeValue,this.useRawValueToEscape=void 0!==o.useRawValueToEscape&&o.useRawValueToEscape,this.prefix=o.prefix?regexEscape(o.prefix):o.prefixEscaped||"{{",this.suffix=o.suffix?regexEscape(o.suffix):o.suffixEscaped||"}}",this.formatSeparator=o.formatSeparator?o.formatSeparator:o.formatSeparator||",",this.unescapePrefix=o.unescapeSuffix?"":o.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":o.unescapeSuffix||"",this.nestingPrefix=o.nestingPrefix?regexEscape(o.nestingPrefix):o.nestingPrefixEscaped||regexEscape("$t("),this.nestingSuffix=o.nestingSuffix?regexEscape(o.nestingSuffix):o.nestingSuffixEscaped||regexEscape(")"),this.nestingOptionsSeparator=o.nestingOptionsSeparator?o.nestingOptionsSeparator:o.nestingOptionsSeparator||",",this.maxReplaces=o.maxReplaces?o.maxReplaces:1e3,this.alwaysFormat=void 0!==o.alwaysFormat&&o.alwaysFormat,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let r=`${this.prefix}(.+?)${this.suffix}`;this.regexp=RegExp(r,"g");let o=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=RegExp(o,"g");let s=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=RegExp(s,"g")}interpolate(r,o,s,a){let c,u,f;let p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function regexSafe(r){return r.replace(/\$/g,"$$$$")}let handleFormat=r=>{if(0>r.indexOf(this.formatSeparator)){let c=deepFindWithDefaults(o,p,r,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(c,void 0,s,{...a,...o,interpolationkey:r}):c}let c=r.split(this.formatSeparator),u=c.shift().trim(),f=c.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults(o,p,u,this.options.keySeparator,this.options.ignoreJSONStructure),f,s,{...a,...o,interpolationkey:u})};this.resetRegExp();let g=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,v=a&&a.interpolation&&void 0!==a.interpolation.skipOnVariables?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,m=[{regex:this.regexpUnescape,safeValue:r=>regexSafe(r)},{regex:this.regexp,safeValue:r=>this.escapeValue?regexSafe(this.escape(r)):regexSafe(r)}];return m.forEach(o=>{for(f=0;c=o.regex.exec(r);){let s=c[1].trim();if(void 0===(u=handleFormat(s))){if("function"==typeof g){let o=g(r,c,a);u="string"==typeof o?o:""}else if(a&&Object.prototype.hasOwnProperty.call(a,s))u="";else if(v){u=c[0];continue}else this.logger.warn(`missed to pass in variable ${s} for interpolating ${r}`),u=""}else"string"==typeof u||this.useRawValueToEscape||(u=makeString(u));let p=o.safeValue(u);if(r=r.replace(c[0],p),v?(o.regex.lastIndex+=u.length,o.regex.lastIndex-=c[0].length):o.regex.lastIndex=0,++f>=this.maxReplaces)break}}),r}nest(r,o){let s,a,c,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function handleHasOptions(r,o){let s=this.nestingOptionsSeparator;if(0>r.indexOf(s))return r;let a=r.split(RegExp(`${s}[ ]*{`)),u=`{${a[1]}`;r=a[0],u=this.interpolate(u,c);let f=u.match(/'/g),p=u.match(/"/g);(f&&f.length%2==0&&!p||p.length%2!=0)&&(u=u.replace(/'/g,'"'));try{c=JSON.parse(u),o&&(c={...o,...c})}catch(o){return this.logger.warn(`failed parsing options string in nesting for key ${r}`,o),`${r}${s}${u}`}return delete c.defaultValue,r}for(;s=this.nestingRegexp.exec(r);){let f=[];(c=(c={...u}).replace&&"string"!=typeof c.replace?c.replace:c).applyPostProcessor=!1,delete c.defaultValue;let p=!1;if(-1!==s[0].indexOf(this.formatSeparator)&&!/{.*}/.test(s[1])){let r=s[1].split(this.formatSeparator).map(r=>r.trim());s[1]=r.shift(),f=r,p=!0}if((a=o(handleHasOptions.call(this,s[1].trim(),c),c))&&s[0]===r&&"string"!=typeof a)return a;"string"!=typeof a&&(a=makeString(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${r}`),a=""),p&&(a=f.reduce((r,o)=>this.format(r,o,u.lng,{...u,interpolationkey:s[1].trim()}),a.trim())),r=r.replace(s[0],a),this.regexp.lastIndex=0}return r}};function createCachedFormatter(r){let o={};return function(s,a,c){let u=a+JSON.stringify(c),f=o[u];return f||(f=r(getCleanedCode(a),c),o[u]=f),f(s)}}let Formatter=class Formatter{constructor(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=J.create("formatter"),this.options=r,this.formats={number:createCachedFormatter((r,o)=>{let s=new Intl.NumberFormat(r,{...o});return r=>s.format(r)}),currency:createCachedFormatter((r,o)=>{let s=new Intl.NumberFormat(r,{...o,style:"currency"});return r=>s.format(r)}),datetime:createCachedFormatter((r,o)=>{let s=new Intl.DateTimeFormat(r,{...o});return r=>s.format(r)}),relativetime:createCachedFormatter((r,o)=>{let s=new Intl.RelativeTimeFormat(r,{...o});return r=>s.format(r,o.range||"day")}),list:createCachedFormatter((r,o)=>{let s=new Intl.ListFormat(r,{...o});return r=>s.format(r)})},this.init(r)}init(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},s=o.interpolation;this.formatSeparator=s.formatSeparator?s.formatSeparator:s.formatSeparator||","}add(r,o){this.formats[r.toLowerCase().trim()]=o}addCached(r,o){this.formats[r.toLowerCase().trim()]=createCachedFormatter(o)}format(r,o,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=o.split(this.formatSeparator),u=c.reduce((r,o)=>{let{formatName:c,formatOptions:u}=function(r){let o=r.toLowerCase().trim(),s={};if(r.indexOf("(")>-1){let a=r.split("(");o=a[0].toLowerCase().trim();let c=a[1].substring(0,a[1].length-1);if("currency"===o&&0>c.indexOf(":"))s.currency||(s.currency=c.trim());else if("relativetime"===o&&0>c.indexOf(":"))s.range||(s.range=c.trim());else{let r=c.split(";");r.forEach(r=>{if(!r)return;let[o,...a]=r.split(":"),c=a.join(":").trim().replace(/^'+|'+$/g,"");s[o.trim()]||(s[o.trim()]=c),"false"===c&&(s[o.trim()]=!1),"true"===c&&(s[o.trim()]=!0),isNaN(c)||(s[o.trim()]=parseInt(c,10))})}}return{formatName:o,formatOptions:s}}(o);if(this.formats[c]){let o=r;try{let f=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},p=f.locale||f.lng||a.locale||a.lng||s;o=this.formats[c](r,p,{...u,...a,...f})}catch(r){this.logger.warn(r)}return o}return this.logger.warn(`there was no format function for ${c}`),r},r);return u}};let Connector=class Connector extends EventEmitter{constructor(r,o,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=r,this.store=o,this.services=s,this.languageUtils=s.languageUtils,this.options=a,this.logger=J.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(s,a.backend,a)}queueLoad(r,o,s,a){let c={},u={},f={},p={};return r.forEach(r=>{let a=!0;o.forEach(o=>{let f=`${r}|${o}`;!s.reload&&this.store.hasResourceBundle(r,o)?this.state[f]=2:this.state[f]<0||(1===this.state[f]?void 0===u[f]&&(u[f]=!0):(this.state[f]=1,a=!1,void 0===u[f]&&(u[f]=!0),void 0===c[f]&&(c[f]=!0),void 0===p[o]&&(p[o]=!0)))}),a||(f[r]=!0)}),(Object.keys(c).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(c),pending:Object.keys(u),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(p)}}loaded(r,o,s){let a=r.split("|"),c=a[0],u=a[1];o&&this.emit("failedLoading",c,u,o),s&&this.store.addResourceBundle(c,u,s),this.state[r]=o?-1:2;let f={};this.queue.forEach(s=>{(function(r,o,s,a){let{obj:c,k:u}=getLastOfPath(r,o,Object);c[u]=c[u]||[],a&&(c[u]=c[u].concat(s)),a||c[u].push(s)})(s.loaded,[c],u),void 0!==s.pending[r]&&(delete s.pending[r],s.pendingCount--),o&&s.errors.push(o),0!==s.pendingCount||s.done||(Object.keys(s.loaded).forEach(r=>{f[r]||(f[r]={});let o=s.loaded[r];o.length&&o.forEach(o=>{void 0===f[r][o]&&(f[r][o]=!0)})}),s.done=!0,s.errors.length?s.callback(s.errors):s.callback())}),this.emit("loaded",f),this.queue=this.queue.filter(r=>!r.done)}read(r,o,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!r.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:o,fcName:s,tried:a,wait:c,callback:u});return}this.readingCalls++;let resolver=(f,p)=>{if(this.readingCalls--,this.waitingReads.length>0){let r=this.waitingReads.shift();this.read(r.lng,r.ns,r.fcName,r.tried,r.wait,r.callback)}if(f&&p&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,r,o,s,a+1,2*c,u)},c);return}u(f,p)},f=this.backend[s].bind(this.backend);if(2===f.length){try{let s=f(r,o);s&&"function"==typeof s.then?s.then(r=>resolver(null,r)).catch(resolver):resolver(null,s)}catch(r){resolver(r)}return}return f(r,o,resolver)}prepareLoading(r,o){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();"string"==typeof r&&(r=this.languageUtils.toResolveHierarchy(r)),"string"==typeof o&&(o=[o]);let c=this.queueLoad(r,o,s,a);if(!c.toLoad.length)return c.pending.length||a(),null;c.toLoad.forEach(r=>{this.loadOne(r)})}load(r,o,s){this.prepareLoading(r,o,{},s)}reload(r,o,s){this.prepareLoading(r,o,{reload:!0},s)}loadOne(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=r.split("|"),a=s[0],c=s[1];this.read(a,c,"read",void 0,void 0,(s,u)=>{s&&this.logger.warn(`${o}loading namespace ${c} for language ${a} failed`,s),!s&&u&&this.logger.log(`${o}loaded namespace ${c} for language ${a}`,u),this.loaded(r,s,u)})}saveMissing(r,o,s,a,c){let u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(o)){this.logger.warn(`did not save key "${s}" as the namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(null!=s&&""!==s){if(this.backend&&this.backend.create){let p={...u,isUpdate:c},g=this.backend.create.bind(this.backend);if(g.length<6)try{let c;(c=5===g.length?g(r,o,s,a,p):g(r,o,s,a))&&"function"==typeof c.then?c.then(r=>f(null,r)).catch(f):f(null,c)}catch(r){f(r)}else g(r,o,s,a,f,p)}r&&r[0]&&this.store.addResource(r[0],o,s,a)}}};function get(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(r){let o={};if("object"==typeof r[1]&&(o=r[1]),"string"==typeof r[1]&&(o.defaultValue=r[1]),"string"==typeof r[2]&&(o.tDescription=r[2]),"object"==typeof r[2]||"object"==typeof r[3]){let s=r[3]||r[2];Object.keys(s).forEach(r=>{o[r]=s[r]})}return o},interpolation:{escapeValue:!0,format:(r,o,s,a)=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function transformOptions(r){return"string"==typeof r.ns&&(r.ns=[r.ns]),"string"==typeof r.fallbackLng&&(r.fallbackLng=[r.fallbackLng]),"string"==typeof r.fallbackNS&&(r.fallbackNS=[r.fallbackNS]),r.supportedLngs&&0>r.supportedLngs.indexOf("cimode")&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),r}function noop(){}let I18n=class I18n extends EventEmitter{constructor(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(super(),this.options=transformOptions(r),this.services={},this.logger=J,this.modules={external:[]},!function(r){let o=Object.getOwnPropertyNames(Object.getPrototypeOf(r));o.forEach(o=>{"function"==typeof r[o]&&(r[o]=r[o].bind(r))})}(this),o&&!this.isInitialized&&!r.isClone){if(!this.options.initImmediate)return this.init(r,o),this;setTimeout(()=>{this.init(r,o)},0)}}init(){var r=this;let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;"function"==typeof o&&(s=o,o={}),!o.defaultNS&&!1!==o.defaultNS&&o.ns&&("string"==typeof o.ns?o.defaultNS=o.ns:0>o.ns.indexOf("translation")&&(o.defaultNS=o.ns[0]));let a=get();function createClassOnDemand(r){return r?"function"==typeof r?new r:r:null}if(this.options={...a,...this.options,...transformOptions(o)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...a.interpolation,...this.options.interpolation}),void 0!==o.keySeparator&&(this.options.userDefinedKeySeparator=o.keySeparator),void 0!==o.nsSeparator&&(this.options.userDefinedNsSeparator=o.nsSeparator),!this.options.isClone){let o;this.modules.logger?J.init(createClassOnDemand(this.modules.logger),this.options):J.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=Formatter);let s=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);let c=this.services;c.logger=J,c.resourceStore=this.store,c.languageUtils=s,c.pluralResolver=new PluralResolver(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),o&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(c.formatter=createClassOnDemand(o),c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new Interpolator(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new Connector(createClassOnDemand(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",function(o){for(var s=arguments.length,a=Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];r.emit(o,...a)}),this.modules.languageDetector&&(c.languageDetector=createClassOnDemand(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=createClassOnDemand(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(o){for(var s=arguments.length,a=Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];r.emit(o,...a)}),this.modules.external.forEach(r=>{r.init&&r.init(this)})}if(this.format=this.options.interpolation.format,s||(s=noop),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let r=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);r.length>0&&"dev"!==r[0]&&(this.options.lng=r[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(o=>{this[o]=function(){return r.store[o](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(o=>{this[o]=function(){return r.store[o](...arguments),r}});let c=defer(),load=()=>{let finish=(r,o)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(o),s(r,o)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return finish(null,this.t.bind(this));this.changeLanguage(this.options.lng,finish)};return this.options.resources||!this.options.initImmediate?load():setTimeout(load,0),c}loadResources(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop,s=o,a="string"==typeof r?r:this.language;if("function"==typeof r&&(s=r),!this.options.resources||this.options.partialBundledLanguages){if(a&&"cimode"===a.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return s();let r=[],append=o=>{if(!o||"cimode"===o)return;let s=this.services.languageUtils.toResolveHierarchy(o);s.forEach(o=>{"cimode"!==o&&0>r.indexOf(o)&&r.push(o)})};if(a)append(a);else{let r=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);r.forEach(r=>append(r))}this.options.preload&&this.options.preload.forEach(r=>append(r)),this.services.backendConnector.load(r,this.options.ns,r=>{r||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),s(r)})}else s(null)}reloadResources(r,o,s){let a=defer();return r||(r=this.languages),o||(o=this.options.ns),s||(s=noop),this.services.backendConnector.reload(r,o,r=>{a.resolve(),s(r)}),a}use(r){if(!r)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===r.type&&(this.modules.backend=r),("logger"===r.type||r.log&&r.warn&&r.error)&&(this.modules.logger=r),"languageDetector"===r.type&&(this.modules.languageDetector=r),"i18nFormat"===r.type&&(this.modules.i18nFormat=r),"postProcessor"===r.type&&Q.addPostProcessor(r),"formatter"===r.type&&(this.modules.formatter=r),"3rdParty"===r.type&&this.modules.external.push(r),this}setResolvedLanguage(r){if(r&&this.languages&&!(["cimode","dev"].indexOf(r)>-1))for(let r=0;r<this.languages.length;r++){let o=this.languages[r];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}changeLanguage(r,o){var s=this;this.isLanguageChangingTo=r;let a=defer();this.emit("languageChanging",r);let setLngProps=r=>{this.language=r,this.languages=this.services.languageUtils.toResolveHierarchy(r),this.resolvedLanguage=void 0,this.setResolvedLanguage(r)},done=(r,c)=>{c?(setLngProps(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,a.resolve(function(){return s.t(...arguments)}),o&&o(r,function(){return s.t(...arguments)})},setLng=o=>{r||o||!this.services.languageDetector||(o=[]);let s="string"==typeof o?o:this.services.languageUtils.getBestMatchFromCodes(o);s&&(this.language||setLngProps(s),this.translator.language||this.translator.changeLanguage(s),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(s)),this.loadResources(s,r=>{done(r,s)})};return r||!this.services.languageDetector||this.services.languageDetector.async?!r&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(setLng):this.services.languageDetector.detect(setLng):setLng(r):setLng(this.services.languageDetector.detect()),a}getFixedT(r,o,s){var a=this;let fixedT=function(r,o){let c,u;if("object"!=typeof o){for(var f=arguments.length,p=Array(f>2?f-2:0),g=2;g<f;g++)p[g-2]=arguments[g];c=a.options.overloadTranslationOptionHandler([r,o].concat(p))}else c={...o};c.lng=c.lng||fixedT.lng,c.lngs=c.lngs||fixedT.lngs,c.ns=c.ns||fixedT.ns,c.keyPrefix=c.keyPrefix||s||fixedT.keyPrefix;let v=a.options.keySeparator||".";return u=c.keyPrefix&&Array.isArray(r)?r.map(r=>`${c.keyPrefix}${v}${r}`):c.keyPrefix?`${c.keyPrefix}${v}${r}`:r,a.t(u,c)};return"string"==typeof r?fixedT.lng=r:fixedT.lngs=r,fixedT.ns=o,fixedT.keyPrefix=s,fixedT}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(r){this.options.defaultNS=r}hasLoadedNamespace(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let s=o.lng||this.resolvedLanguage||this.languages[0],a=!!this.options&&this.options.fallbackLng,c=this.languages[this.languages.length-1];if("cimode"===s.toLowerCase())return!0;let loadNotPending=(r,o)=>{let s=this.services.backendConnector.state[`${r}|${o}`];return -1===s||2===s};if(o.precheck){let r=o.precheck(this,loadNotPending);if(void 0!==r)return r}return!!(this.hasResourceBundle(s,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||loadNotPending(s,r)&&(!a||loadNotPending(c,r)))}loadNamespaces(r,o){let s=defer();return this.options.ns?("string"==typeof r&&(r=[r]),r.forEach(r=>{0>this.options.ns.indexOf(r)&&this.options.ns.push(r)}),this.loadResources(r=>{s.resolve(),o&&o(r)}),s):(o&&o(),Promise.resolve())}loadLanguages(r,o){let s=defer();"string"==typeof r&&(r=[r]);let a=this.options.preload||[],c=r.filter(r=>0>a.indexOf(r));return c.length?(this.options.preload=a.concat(c),this.loadResources(r=>{s.resolve(),o&&o(r)}),s):(o&&o(),Promise.resolve())}dir(r){if(r||(r=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!r)return"rtl";let o=this.services&&this.services.languageUtils||new LanguageUtil(get());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(o.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return new I18n(r,o)}cloneInstance(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop,s=r.forkResourceStore;s&&delete r.forkResourceStore;let a={...this.options,...r,isClone:!0},c=new I18n(a);return(void 0!==r.debug||void 0!==r.prefix)&&(c.logger=c.logger.clone(r)),["store","services","language"].forEach(r=>{c[r]=this[r]}),c.services={...this.services},c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},s&&(c.store=new ResourceStore(this.store.data,a),c.services.resourceStore=c.store),c.translator=new Translator(c.services,a),c.translator.on("*",function(r){for(var o=arguments.length,s=Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];c.emit(r,...s)}),c.init(a,o),c.translator.options=a,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}};let eo=I18n.createInstance();eo.createInstance=I18n.createInstance,eo.createInstance,eo.dir,eo.init,eo.loadResources,eo.reloadResources,eo.use,eo.changeLanguage,eo.getFixedT,eo.t,eo.exists,eo.setDefaultNamespace,eo.hasLoadedNamespace,eo.loadNamespaces,eo.loadLanguages;var es=s(27484),ea=s.n(es);function ownKeys(r,o){var s=z()(r);if(u()){var a=u()(r);o&&(a=G()(a).call(a,function(o){return p()(r,o).enumerable})),s.push.apply(s,a)}return s}function _objectSpread(r){for(var o=1;o<arguments.length;o++){var s,a,c=null!=arguments[o]?arguments[o]:{};o%2?v()(s=ownKeys(Object(c),!0)).call(s,function(o){(0,j.Z)(r,o,c[o])}):_()?b()(r,_()(c)):v()(a=ownKeys(Object(c))).call(a,function(o){x()(r,o,p()(c,o))})}return r}var ec=((a={}).de="de",a.fr="fr",a.it="it",a.en="en",a),isSupportedLanguage=function(r){var o;return H()(o=z()(ec)).call(o,r)},eu=function(){function I18nextTranslator(){var r,o,s=this;(0,A.Z)(this,I18nextTranslator),(0,j.Z)(this,"_i18next",void 0),(0,j.Z)(this,"namespaces",[]),(0,j.Z)(this,"init",(r=(0,C.Z)(N().mark(function _callee(r,o,a){return N().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return s.namespaces=o,c.next=3,s._i18next.init({ns:o,supportedLngs:z()(ec),lng:r,fallbackLng:ec.de,resources:(0,j.Z)({},r,a)});case 3:ea().locale(r);case 4:case"end":return c.stop()}},_callee)})),function(o,s,a){return r.apply(this,arguments)})),(0,j.Z)(this,"getNamespaces",function(){return s.namespaces}),(0,j.Z)(this,"getLanguage",function(){return isSupportedLanguage(s._i18next.language)?s._i18next.language:ec.de}),(0,j.Z)(this,"isInitialized",function(){return s._i18next.isInitialized}),(0,j.Z)(this,"getI18next",function(){return s._i18next}),(0,j.Z)(this,"t",function(r,o){var a;return s._i18next.t(r,_objectSpread(_objectSpread({},o),{},{ns:null!==(a=null==o?void 0:o.ns)&&void 0!==a?a:s.namespaces}))}),(0,j.Z)(this,"updateNamespaces",(o=(0,C.Z)(N().mark(function _callee2(r){var o;return N().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s._i18next.loadNamespaces(r);case 2:s.namespaces=W()(o=[]).call(o,_toConsumableArray(s.namespaces),_toConsumableArray(G()(r).call(r,function(r){var o;return!H()(o=s.namespaces).call(o,r)})));case 3:case"end":return a.stop()}},_callee2)})),function(r){return o.apply(this,arguments)})),(0,j.Z)(this,"addTranslations",function(r,o,a){s._i18next.addResourceBundle(r,o,a)}),this._i18next=eo}return(0,R.Z)(I18nextTranslator,null,[{key:"getInstance",value:function(){return I18nextTranslator.instance||(I18nextTranslator.instance=new I18nextTranslator),I18nextTranslator.instance}}]),I18nextTranslator}();(0,j.Z)(eu,"instance",void 0);var el=eu.getInstance()},74071:function(r,o,s){"use strict";s.r(o),s.d(o,{messenger:function(){return f.d}});var a=s(41323),c={};for(var u in a)"default"!==u&&(c[u]=(function(r){return a[r]}).bind(0,u));s.d(o,c);var f=s(32363)},32363:function(r,o,s){"use strict";s.d(o,{d:function(){return g}});var a,c,u=s(44845);function ownKeys(r,o){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);o&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),s.push.apply(s,a)}return s}function _objectSpread(r){for(var o=1;o<arguments.length;o++){var s=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(s),!0).forEach(function(o){(0,u.Z)(r,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(s,o))})}return r}let Messenger=class Messenger{constructor(){var r;(0,u.Z)(this,"emitter",void 0),(0,u.Z)(this,"currentData",{"stores:locate":null,"community:add-review":null,"community:edit-review":null,"community:add-comment":null,"community:edit-comment":null,"community:load-more-reviews":null,"community:toggle-review-form":null,"community:add-question":null,"community:add-discussion":null,"community:edit-question":null,"community:edit-discussion":null,"community:add-answer":null,"community:edit-answer":null,"community:load-more-questions":null,"community:load-more-discussions":null,"community:toggle-question-form":null,"community:toggle-discussion-form":null,"community:add-like":null,"community:delete-like":null,"community:add-kudo":null,"community:delete-kudo":null,"community:set-alias":null,"login:authenticate":{isManualLogin:!1,loggedIn:!1,error:null},"login:token-renew":{token:""},"login:toggle-flyout":null,"articles:product-not-found":null,"router:navigate":null}),(0,u.Z)(this,"unsubscribe",(r,o)=>this.emitter.off(r,o)),(0,u.Z)(this,"get",r=>this.currentData[r]),this.emitter={all:r=r||new Map,on:function(o,s){var a=r.get(o);a?a.push(s):r.set(o,[s])},off:function(o,s){var a=r.get(o);a&&(s?a.splice(a.indexOf(s)>>>0,1):r.set(o,[]))},emit:function(o,s){var a=r.get(o);a&&a.slice().map(function(r){r(s)}),(a=r.get("*"))&&a.slice().map(function(r){r(o,s)})}}}static getInstance(){return void 0===Messenger.instance&&(Messenger.instance=new Messenger),Messenger.instance}publish(r,o){this.currentData=_objectSpread(_objectSpread({},this.currentData),{},{[r]:o}),this.emitter.emit(r,o)}subscribe(r,o){this.emitter.on(r,o)}};(0,u.Z)(Messenger,"instance",void 0);let f="undefined"!=typeof window,p=f?null===(a=window.msrc)||void 0===a?void 0:null===(c=a.messenger)||void 0===c?void 0:c._current:void 0,g=p||Messenger.getInstance();f&&void 0===p&&(window.msrc=window.msrc||{},window.msrc.messenger=_objectSpread(_objectSpread({},window.msrc.messenger),{},{_current:g}))},41323:function(r,o,s){"use strict";s.r(o),s.d(o,{MessageTypes:function(){return g.u}});var a=s(46972),c={};for(var u in a)"default"!==u&&(c[u]=(function(r){return a[r]}).bind(0,u));s.d(o,c);var f=s(64476),c={};for(var u in f)"default"!==u&&(c[u]=(function(r){return f[r]}).bind(0,u));s.d(o,c);var p=s(26441),c={};for(var u in p)"default"!==u&&(c[u]=(function(r){return p[r]}).bind(0,u));s.d(o,c);var g=s(84027),v=s(62906),c={};for(var u in v)0>["default","MessageTypes"].indexOf(u)&&(c[u]=(function(r){return v[r]}).bind(0,u));s.d(o,c);var m=s(86855),c={};for(var u in m)0>["default","MessageTypes"].indexOf(u)&&(c[u]=(function(r){return m[r]}).bind(0,u));s.d(o,c)},46972:function(){},64476:function(){},26441:function(){},84027:function(r,o,s){"use strict";var a;s.d(o,{u:function(){return c}});let c=((a={}).StoresLocate="stores:locate",a.CommunityAddReview="community:add-review",a.CommunityEditReview="community:edit-review",a.CommunityAddComment="community:add-comment",a.CommunityEditComment="community:edit-comment",a.CommunityLoadMoreReviews="community:load-more-reviews",a.CommunityToggleReviewForm="community:toggle-review-form",a.CommunityAddQuestion="community:add-question",a.CommunityEditQuestion="community:edit-question",a.CommunityAddDiscussion="community:add-discussion",a.CommunityEditDiscussion="community:edit-discussion",a.CommunityAddAnswer="community:add-answer",a.CommunityEditAnswer="community:edit-answer",a.CommunityLoadMoreQuestions="community:load-more-questions",a.CommunityToggleQuestionForm="community:toggle-question-form",a.CommunityLoadMoreDiscussions="community:load-more-discussions",a.CommunityToggleDiscussionForm="community:toggle-discussion-form",a.CommunityAddLike="community:add-like",a.CommunityDeleteLike="community:delete-like",a.CommunityAddKudo="community:add-kudo",a.CommunityDeleteKudo="community:delete-kudo",a.CommunitySetAlias="community:set-alias",a.LoginAuthenticate="login:authenticate",a.LoginTokenRenew="login:token-renew",a.LoginToggleFlyout="login:toggle-flyout",a.ArticlesProductNotFound="articles:product-not-found",a.RouterNavigate="router:navigate",a)},62906:function(){},86855:function(){},6601:function(r,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AccessToken=void 0,o.AccessToken=function(r,o,s,a){this.token=r,this.expiresAt=o,this.scope=s,this.payload=a}},74359:function(r,o,s){"use strict";var a=this&&this.__awaiter||function(r,o,s,a){return new(s||(s=Promise))(function(c,u){function fulfilled(r){try{step(a.next(r))}catch(r){u(r)}}function rejected(r){try{step(a.throw(r))}catch(r){u(r)}}function step(r){var o;r.done?c(r.value):((o=r.value)instanceof s?o:new s(function(r){r(o)})).then(fulfilled,rejected)}step((a=a.apply(r,o||[])).next())})},c=this&&this.__generator||function(r,o){var s,a,c,u,f={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return u={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function verb(p){return function(g){return function(p){if(s)throw TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(f=0)),f;)try{if(s=1,a&&(c=2&p[0]?a.return:p[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,p[1])).done)return c;switch(a=0,c&&(p=[2&p[0],c.value]),p[0]){case 0:case 1:c=p;break;case 4:return f.label++,{value:p[1],done:!1};case 5:f.label++,a=p[1],p=[0];continue;case 7:p=f.ops.pop(),f.trys.pop();continue;default:if(!(c=(c=f.trys).length>0&&c[c.length-1])&&(6===p[0]||2===p[0])){f=0;continue}if(3===p[0]&&(!c||p[1]>c[0]&&p[1]<c[3])){f.label=p[1];break}if(6===p[0]&&f.label<c[1]){f.label=c[1],c=p;break}if(c&&f.label<c[2]){f.label=c[2],f.ops.push(p);break}c[2]&&f.ops.pop(),f.trys.pop();continue}p=o.call(r,f)}catch(r){p=[6,r],a=0}finally{s=c=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([p,g])}}};Object.defineProperty(o,"__esModule",{value:!0}),o.BackendStorage=void 0;var u=s(84284),f=s(61968),p=s(42831),g=function(){function BackendStorage(r,o){void 0===o&&(o=new u.BrowserStorage(new f.MemoryStore)),this.api=r,this.storage=o,this.refreshPromise=null}return BackendStorage.prototype.get=function(r){return a(this,void 0,void 0,function(){var o,s,a=this;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,5]),[4,this.storage.get(r)];case 1:return[2,c.sent()];case 2:if((o=c.sent())!==p.TokenError.Expired)return[3,4];return this.refreshPromise||(this.refreshPromise=this.api.refreshToken().then(function(r){return a.set(r)})),[4,this.refreshPromise];case 3:return s=c.sent(),this.refreshPromise=null,[2,s];case 4:throw o;case 5:return[2]}})})},BackendStorage.prototype.remove=function(r){return a(this,void 0,void 0,function(){return c(this,function(o){switch(o.label){case 0:return[4,this.storage.remove(r)];case 1:return[2,o.sent()]}})})},BackendStorage.prototype.set=function(r,o){return a(this,void 0,void 0,function(){return c(this,function(s){switch(s.label){case 0:return[4,this.storage.set(r,o)];case 1:return[2,s.sent()]}})})},BackendStorage}();o.BackendStorage=g},84284:function(r,o,s){"use strict";var a=this&&this.__awaiter||function(r,o,s,a){return new(s||(s=Promise))(function(c,u){function fulfilled(r){try{step(a.next(r))}catch(r){u(r)}}function rejected(r){try{step(a.throw(r))}catch(r){u(r)}}function step(r){var o;r.done?c(r.value):((o=r.value)instanceof s?o:new s(function(r){r(o)})).then(fulfilled,rejected)}step((a=a.apply(r,o||[])).next())})},c=this&&this.__generator||function(r,o){var s,a,c,u,f={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return u={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function verb(p){return function(g){return function(p){if(s)throw TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(f=0)),f;)try{if(s=1,a&&(c=2&p[0]?a.return:p[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,p[1])).done)return c;switch(a=0,c&&(p=[2&p[0],c.value]),p[0]){case 0:case 1:c=p;break;case 4:return f.label++,{value:p[1],done:!1};case 5:f.label++,a=p[1],p=[0];continue;case 7:p=f.ops.pop(),f.trys.pop();continue;default:if(!(c=(c=f.trys).length>0&&c[c.length-1])&&(6===p[0]||2===p[0])){f=0;continue}if(3===p[0]&&(!c||p[1]>c[0]&&p[1]<c[3])){f.label=p[1];break}if(6===p[0]&&f.label<c[1]){f.label=c[1],c=p;break}if(c&&f.label<c[2]){f.label=c[2],f.ops.push(p);break}c[2]&&f.ops.pop(),f.trys.pop();continue}p=o.call(r,f)}catch(r){p=[6,r],a=0}finally{s=c=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([p,g])}}};Object.defineProperty(o,"__esModule",{value:!0}),o.BrowserStorage=void 0;var u=s(42831),f=s(55452),p=function(){function BrowserStorage(r,o){void 0===r&&(r=sessionStorage),void 0===o&&(o=f.now),this.store=r,this.nowFn=o}return BrowserStorage.prototype.get=function(r){return a(this,void 0,void 0,function(){var o,s;return c(this,function(a){if(null===(o=this.store.getItem(BrowserStorage.KEY)))throw u.TokenError.NotFound;if(s=JSON.parse(o),r&&!r.every(function(r){return s.scope.includes(r)}))throw u.TokenError.Scopes;if(!(0,f.isValid)(s,this.nowFn))throw u.TokenError.Expired;return[2,s]})})},BrowserStorage.prototype.remove=function(r){return a(this,void 0,void 0,function(){return c(this,function(r){return this.store.removeItem(BrowserStorage.KEY),[2,!0]})})},BrowserStorage.prototype.set=function(r,o){return a(this,void 0,void 0,function(){var s;return c(this,function(a){if(s=(0,f.createFromJWT)(r,o),!(0,f.isValid)(s,this.nowFn))throw u.TokenError.Expired;return this.store.setItem(BrowserStorage.KEY,JSON.stringify(s)),[2,s]})})},BrowserStorage.KEY="migros:oidc",BrowserStorage}();o.BrowserStorage=p},61968:function(r,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MemoryStore=void 0;var s=function(){function MemoryStore(){this.data=new Map}return Object.defineProperty(MemoryStore.prototype,"length",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),MemoryStore.prototype.clear=function(){this.data.clear()},MemoryStore.prototype.getItem=function(r){return this.data.get(r)||null},MemoryStore.prototype.key=function(r){return Array.from(this.data.keys())[r]||null},MemoryStore.prototype.removeItem=function(r){this.data.delete(r)},MemoryStore.prototype.setItem=function(r,o){this.data.set(r,o)},MemoryStore}();o.MemoryStore=s},65612:function(r,o,s){"use strict";var a=this&&this.__awaiter||function(r,o,s,a){return new(s||(s=Promise))(function(c,u){function fulfilled(r){try{step(a.next(r))}catch(r){u(r)}}function rejected(r){try{step(a.throw(r))}catch(r){u(r)}}function step(r){var o;r.done?c(r.value):((o=r.value)instanceof s?o:new s(function(r){r(o)})).then(fulfilled,rejected)}step((a=a.apply(r,o||[])).next())})},c=this&&this.__generator||function(r,o){var s,a,c,u,f={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return u={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function verb(p){return function(g){return function(p){if(s)throw TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(f=0)),f;)try{if(s=1,a&&(c=2&p[0]?a.return:p[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,p[1])).done)return c;switch(a=0,c&&(p=[2&p[0],c.value]),p[0]){case 0:case 1:c=p;break;case 4:return f.label++,{value:p[1],done:!1};case 5:f.label++,a=p[1],p=[0];continue;case 7:p=f.ops.pop(),f.trys.pop();continue;default:if(!(c=(c=f.trys).length>0&&c[c.length-1])&&(6===p[0]||2===p[0])){f=0;continue}if(3===p[0]&&(!c||p[1]>c[0]&&p[1]<c[3])){f.label=p[1];break}if(6===p[0]&&f.label<c[1]){f.label=c[1],c=p;break}if(c&&f.label<c[2]){f.label=c[2],f.ops.push(p);break}c[2]&&f.ops.pop(),f.trys.pop();continue}p=o.call(r,f)}catch(r){p=[6,r],a=0}finally{s=c=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([p,g])}}};Object.defineProperty(o,"__esModule",{value:!0}),o.MigrosTokenProvider=void 0;var u=s(84284),f=s(55452),p=function(){function MigrosTokenProvider(r,o){void 0===r&&(r=(0,f.getGlobal)()),void 0===o&&(o=new u.BrowserStorage),this.global=r,this.defaultStorage=o,this.listeners=[],r.AppTokenStorage?this.tokenStorage=r.AppTokenStorage:this.tokenStorage=o,this.lastToken=null}return MigrosTokenProvider.prototype.getAccessToken=function(r){return a(this,void 0,void 0,function(){var o;return c(this,function(s){switch(s.label){case 0:return[4,this.tokenStorage.get(r)];case 1:return o=s.sent(),this.lastToken&&this.lastToken.token===o.token||(this.lastToken=o,this.triggerChange(o)),[2,o]}})})},MigrosTokenProvider.prototype.onTokenChanged=function(r){var o=this;return -1===this.listeners.indexOf(r)&&this.listeners.push(r),function(){var s=o.listeners.indexOf(r);s>=0&&o.listeners.splice(s,1)}},MigrosTokenProvider.prototype.removeAccessToken=function(){var r=this.lastToken;if(this.lastToken=null,null!==r){var o=this.tokenStorage.remove(r.token);return this.triggerChange(null),o}return Promise.resolve(!0)},MigrosTokenProvider.prototype.setAccessToken=function(r,o){return a(this,void 0,void 0,function(){var s;return c(this,function(a){switch(a.label){case 0:if(!(!this.lastToken||this.lastToken.token!==r||this.lastToken.payload!==o))return[3,2];return[4,this.tokenStorage.set(r,o)];case 1:return s=a.sent(),this.lastToken=s,this.triggerChange(s),[2,s];case 2:return[2,this.lastToken]}})})},MigrosTokenProvider.prototype.setStorage=function(r){this.tokenStorage=r},MigrosTokenProvider.prototype.triggerChange=function(r){this.listeners.forEach(function(o){return o(r)})},MigrosTokenProvider}();o.MigrosTokenProvider=p},42831:function(r,o){"use strict";var s;Object.defineProperty(o,"__esModule",{value:!0}),o.TokenError=void 0,(s=o.TokenError||(o.TokenError={})).User="user",s.Domain="domain",s.Scopes="scopes",s.Network="network",s.Expired="expired",s.NotFound="not_found",s.Invalid="invalid"},21909:function(r,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.hasTokenProvider=o.getTokenProvider=o.TokenError=o.MigrosTokenProvider=o.AccessToken=o.MemoryStore=o.BrowserStorage=o.BackendStorage=void 0;var a=s(74359);Object.defineProperty(o,"BackendStorage",{enumerable:!0,get:function(){return a.BackendStorage}});var c=s(84284);Object.defineProperty(o,"BrowserStorage",{enumerable:!0,get:function(){return c.BrowserStorage}});var u=s(61968);Object.defineProperty(o,"MemoryStore",{enumerable:!0,get:function(){return u.MemoryStore}});var f=s(6601);Object.defineProperty(o,"AccessToken",{enumerable:!0,get:function(){return f.AccessToken}});var p=s(65612);Object.defineProperty(o,"MigrosTokenProvider",{enumerable:!0,get:function(){return p.MigrosTokenProvider}});var g=s(42831);Object.defineProperty(o,"TokenError",{enumerable:!0,get:function(){return g.TokenError}});var v=s(55452);Object.defineProperty(o,"getTokenProvider",{enumerable:!0,get:function(){return v.getTokenProvider}}),Object.defineProperty(o,"hasTokenProvider",{enumerable:!0,get:function(){return v.hasTokenProvider}})},55452:function(r,o,s){"use strict";var a=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(o,"__esModule",{value:!0}),o.getTokenProvider=o.hasTokenProvider=o.getGlobal=o.isValid=o.createFromJWT=o.now=void 0;var c=a(s(96245)),u=s(6601),f=s(65612),p=s(42831),g={};function now(){return Math.floor(Date.now()/1e3)}function getGlobal(){return"undefined"!=typeof window?window:g}function hasTokenProvider(){return!!getGlobal().MigrosTokenProvider}o.now=now,o.createFromJWT=function(r,o){try{var s=(0,c.default)(r),a=s.scope,f=s.exp;return new u.AccessToken(r,f,a,o)}catch(r){throw p.TokenError.Invalid}},o.isValid=function(r,o){return void 0===o&&(o=now),null!==r&&o()<r.expiresAt},o.getGlobal=getGlobal,o.hasTokenProvider=hasTokenProvider,o.getTokenProvider=function(r,o){void 0===r&&(r=new f.MigrosTokenProvider);var s=getGlobal();return(!hasTokenProvider()||o)&&(s.MigrosTokenProvider=r),s.MigrosTokenProvider}},69705:function(r,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.WEB_API_URLS=void 0,o.WEB_API_URLS={production:"https://web-api.migros.ch",test:"https://test-web-api.migros.ch",development:"https://dev-web-api.migros.ch",local:"http://localhost:8000"}},47209:function(r,o,s){"use strict";var a=this&&this.__createBinding||(Object.create?function(r,o,s,a){void 0===a&&(a=s);var c=Object.getOwnPropertyDescriptor(o,s);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(r,a,c)}:function(r,o,s,a){void 0===a&&(a=s),r[a]=o[s]}),c=this&&this.__exportStar||function(r,o){for(var s in r)"default"===s||Object.prototype.hasOwnProperty.call(o,s)||a(o,r,s)};Object.defineProperty(o,"__esModule",{value:!0}),c(s(69705),o),c(s(19811),o)},19811:function(r,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.WebApiService=void 0;let a=s(86644),c=s(69705),u="undefined"!=typeof window?window:s.g;let WebApiService=class WebApiService{apiUri;additionalParams;constructor(r,o={}){this.apiUri=r,this.additionalParams=o}static getInstance(){if(void 0===u.MigrosSharedWebApiService)throw Error("Not initialized");return u.MigrosSharedWebApiService}static init(r=c.WEB_API_URLS.production,o={}){void 0===u.MigrosSharedWebApiService?u.MigrosSharedWebApiService=new WebApiService(r,o):console.warn("MigrosSharedWebApiService is already initialized. Make sure `WebApiService.init` is only called once.")}setWebApiUri(r){this.apiUri=r}getWebApiUri(){return this.apiUri}buildWidgetsUrl(r,o={}){return`widgets/${r}${r.includes("?")?"&":"?"}${new URLSearchParams(o).toString()}`}async fetch(r,o={},s=!1){if(s){let r=await a.Authenticator.getInstance().getToken();r&&(o.headers={...o.headers||{},Authorization:`Bearer ${r}`})}let c=new URL(`${this.apiUri}/${r}`);return Object.keys(this.additionalParams).forEach(r=>c.searchParams.append(r,this.additionalParams[r])),fetch(c.toString(),o)}sendBeacon(r,o){let s=new URL(`${this.apiUri}/${r}`);return Object.keys(this.additionalParams).forEach(r=>s.searchParams.append(r,this.additionalParams[r])),"undefined"!=typeof window&&!!navigator.sendBeacon&&navigator.sendBeacon(s.toString(),o)}};o.WebApiService=WebApiService},78249:function(r,o,s){var a;r.exports=a||function(r,o){if("undefined"!=typeof window&&window.crypto&&(a=window.crypto),"undefined"!=typeof self&&self.crypto&&(a=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(a=globalThis.crypto),!a&&"undefined"!=typeof window&&window.msCrypto&&(a=window.msCrypto),!a&&void 0!==s.g&&s.g.crypto&&(a=s.g.crypto),!a)try{a=s(42480)}catch(r){}var a,cryptoSecureRandomInt=function(){if(a){if("function"==typeof a.getRandomValues)try{return a.getRandomValues(new Uint32Array(1))[0]}catch(r){}if("function"==typeof a.randomBytes)try{return a.randomBytes(4).readInt32LE()}catch(r){}}throw Error("Native crypto module could not be used to get secure random number.")},c=Object.create||function(){function F(){}return function(r){var o;return F.prototype=r,o=new F,F.prototype=null,o}}(),u={},f=u.lib={},p=f.Base={extend:function(r){var o=c(this);return r&&o.mixIn(r),o.hasOwnProperty("init")&&this.init!==o.init||(o.init=function(){o.$super.init.apply(this,arguments)}),o.init.prototype=o,o.$super=this,o},create:function(){var r=this.extend();return r.init.apply(r,arguments),r},init:function(){},mixIn:function(r){for(var o in r)r.hasOwnProperty(o)&&(this[o]=r[o]);r.hasOwnProperty("toString")&&(this.toString=r.toString)},clone:function(){return this.init.prototype.extend(this)}},g=f.WordArray=p.extend({init:function(r,o){r=this.words=r||[],void 0!=o?this.sigBytes=o:this.sigBytes=4*r.length},toString:function(r){return(r||m).stringify(this)},concat:function(r){var o=this.words,s=r.words,a=this.sigBytes,c=r.sigBytes;if(this.clamp(),a%4)for(var u=0;u<c;u++){var f=s[u>>>2]>>>24-u%4*8&255;o[a+u>>>2]|=f<<24-(a+u)%4*8}else for(var p=0;p<c;p+=4)o[a+p>>>2]=s[p>>>2];return this.sigBytes+=c,this},clamp:function(){var o=this.words,s=this.sigBytes;o[s>>>2]&=4294967295<<32-s%4*8,o.length=r.ceil(s/4)},clone:function(){var r=p.clone.call(this);return r.words=this.words.slice(0),r},random:function(r){for(var o=[],s=0;s<r;s+=4)o.push(cryptoSecureRandomInt());return new g.init(o,r)}}),v=u.enc={},m=v.Hex={stringify:function(r){for(var o=r.words,s=r.sigBytes,a=[],c=0;c<s;c++){var u=o[c>>>2]>>>24-c%4*8&255;a.push((u>>>4).toString(16)),a.push((15&u).toString(16))}return a.join("")},parse:function(r){for(var o=r.length,s=[],a=0;a<o;a+=2)s[a>>>3]|=parseInt(r.substr(a,2),16)<<24-a%8*4;return new g.init(s,o/2)}},_=v.Latin1={stringify:function(r){for(var o=r.words,s=r.sigBytes,a=[],c=0;c<s;c++){var u=o[c>>>2]>>>24-c%4*8&255;a.push(String.fromCharCode(u))}return a.join("")},parse:function(r){for(var o=r.length,s=[],a=0;a<o;a++)s[a>>>2]|=(255&r.charCodeAt(a))<<24-a%4*8;return new g.init(s,o)}},w=v.Utf8={stringify:function(r){try{return decodeURIComponent(escape(_.stringify(r)))}catch(r){throw Error("Malformed UTF-8 data")}},parse:function(r){return _.parse(unescape(encodeURIComponent(r)))}},b=f.BufferedBlockAlgorithm=p.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(r){"string"==typeof r&&(r=w.parse(r)),this._data.concat(r),this._nDataBytes+=r.sigBytes},_process:function(o){var s,a=this._data,c=a.words,u=a.sigBytes,f=this.blockSize,p=u/(4*f),v=(p=o?r.ceil(p):r.max((0|p)-this._minBufferSize,0))*f,m=r.min(4*v,u);if(v){for(var _=0;_<v;_+=f)this._doProcessBlock(c,_);s=c.splice(0,v),a.sigBytes-=m}return new g.init(s,m)},clone:function(){var r=p.clone.call(this);return r._data=this._data.clone(),r},_minBufferSize:0});f.Hasher=b.extend({cfg:p.extend(),init:function(r){this.cfg=this.cfg.extend(r),this.reset()},reset:function(){b.reset.call(this),this._doReset()},update:function(r){return this._append(r),this._process(),this},finalize:function(r){return r&&this._append(r),this._doFinalize()},blockSize:16,_createHelper:function(r){return function(o,s){return new r.init(s).finalize(o)}},_createHmacHelper:function(r){return function(o,s){return new S.HMAC.init(r,s).finalize(o)}}});var S=u.algo={};return u}(Math)},98269:function(r,o,s){var a,c;r.exports=(c=(a=s(78249)).lib.WordArray,a.enc.Base64={stringify:function(r){var o=r.words,s=r.sigBytes,a=this._map;r.clamp();for(var c=[],u=0;u<s;u+=3)for(var f=(o[u>>>2]>>>24-u%4*8&255)<<16|(o[u+1>>>2]>>>24-(u+1)%4*8&255)<<8|o[u+2>>>2]>>>24-(u+2)%4*8&255,p=0;p<4&&u+.75*p<s;p++)c.push(a.charAt(f>>>6*(3-p)&63));var g=a.charAt(64);if(g)for(;c.length%4;)c.push(g);return c.join("")},parse:function(r){var o=r.length,s=this._map,a=this._reverseMap;if(!a){a=this._reverseMap=[];for(var u=0;u<s.length;u++)a[s.charCodeAt(u)]=u}var f=s.charAt(64);if(f){var p=r.indexOf(f);-1!==p&&(o=p)}return function(r,o,s){for(var a=[],u=0,f=0;f<o;f++)if(f%4){var p=s[r.charCodeAt(f-1)]<<f%4*2|s[r.charCodeAt(f)]>>>6-f%4*2;a[u>>>2]|=p<<24-u%4*8,u++}return c.create(a,u)}(r,o,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},a.enc.Base64)},55743:function(r,o,s){r.exports=s(78249).enc.Utf8},52153:function(r,o,s){var a,c,u,f,p,g,v,m,_,w;r.exports=(a=s(78249),c=Math,f=(u=a.lib).WordArray,p=u.Hasher,g=a.algo,v=[],m=[],function(){function getFractionalBits(r){return(r-(0|r))*4294967296|0}for(var r=2,o=0;o<64;)(function(r){for(var o=c.sqrt(r),s=2;s<=o;s++)if(!(r%s))return!1;return!0})(r)&&(o<8&&(v[o]=getFractionalBits(c.pow(r,.5))),m[o]=getFractionalBits(c.pow(r,1/3)),o++),r++}(),_=[],w=g.SHA256=p.extend({_doReset:function(){this._hash=new f.init(v.slice(0))},_doProcessBlock:function(r,o){for(var s=this._hash.words,a=s[0],c=s[1],u=s[2],f=s[3],p=s[4],g=s[5],v=s[6],w=s[7],b=0;b<64;b++){if(b<16)_[b]=0|r[o+b];else{var S=_[b-15],x=(S<<25|S>>>7)^(S<<14|S>>>18)^S>>>3,k=_[b-2],O=(k<<15|k>>>17)^(k<<13|k>>>19)^k>>>10;_[b]=x+_[b-7]+O+_[b-16]}var T=p&g^~p&v,E=a&c^a&u^c&u,P=(a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22),I=w+((p<<26|p>>>6)^(p<<21|p>>>11)^(p<<7|p>>>25))+T+m[b]+_[b],C=P+E;w=v,v=g,g=p,p=f+I|0,f=u,u=c,c=a,a=I+C|0}s[0]=s[0]+a|0,s[1]=s[1]+c|0,s[2]=s[2]+u|0,s[3]=s[3]+f|0,s[4]=s[4]+p|0,s[5]=s[5]+g|0,s[6]=s[6]+v|0,s[7]=s[7]+w|0},_doFinalize:function(){var r=this._data,o=r.words,s=8*this._nDataBytes,a=8*r.sigBytes;return o[a>>>5]|=128<<24-a%32,o[(a+64>>>9<<4)+14]=c.floor(s/4294967296),o[(a+64>>>9<<4)+15]=s,r.sigBytes=4*o.length,this._process(),this._hash},clone:function(){var r=p.clone.call(this);return r._hash=this._hash.clone(),r}}),a.SHA256=p._createHelper(w),a.HmacSHA256=p._createHmacHelper(w),a.SHA256)},27484:function(r){var o,s,a,c,u,f,p,g,v,m,_,w,b,S,x,k,O,T,E,P,I,C;r.exports=(o="millisecond",s="second",a="minute",c="hour",u="week",f="month",p="quarter",g="year",v="date",m="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b=function(r,o,s){var a=String(r);return!a||a.length>=o?r:""+Array(o+1-a.length).join(s)+r},(x={})[S="en"]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(r){var o=["th","st","nd","rd"],s=r%100;return"["+r+(o[(s-20)%10]||o[s]||"th")+"]"}},k="$isDayjsObject",O=function(r){return r instanceof I||!(!r||!r[k])},T=function t(r,o,s){var a;if(!r)return S;if("string"==typeof r){var c=r.toLowerCase();x[c]&&(a=c),o&&(x[c]=o,a=c);var u=r.split("-");if(!a&&u.length>1)return t(u[0])}else{var f=r.name;x[f]=r,a=f}return!s&&a&&(S=a),a||!s&&S},E=function(r,o){if(O(r))return r.clone();var s="object"==typeof o?o:{};return s.date=r,s.args=arguments,new I(s)},(P={s:b,z:function(r){var o=-r.utcOffset(),s=Math.abs(o);return(o<=0?"+":"-")+b(Math.floor(s/60),2,"0")+":"+b(s%60,2,"0")},m:function t(r,o){if(r.date()<o.date())return-t(o,r);var s=12*(o.year()-r.year())+(o.month()-r.month()),a=r.clone().add(s,f),c=o-a<0,u=r.clone().add(s+(c?-1:1),f);return+(-(s+(o-a)/(c?a-u:u-a))||0)},a:function(r){return r<0?Math.ceil(r)||0:Math.floor(r)},p:function(r){return({M:f,y:g,w:u,d:"day",D:v,h:c,m:a,s:s,ms:o,Q:p})[r]||String(r||"").toLowerCase().replace(/s$/,"")},u:function(r){return void 0===r}}).l=T,P.i=O,P.w=function(r,o){return E(r,{locale:o.$L,utc:o.$u,x:o.$x,$offset:o.$offset})},C=(I=function(){function M(r){this.$L=T(r.locale,null,!0),this.parse(r),this.$x=this.$x||r.x||{},this[k]=!0}var r=M.prototype;return r.parse=function(r){this.$d=function(r){var o=r.date,s=r.utc;if(null===o)return new Date(NaN);if(P.u(o))return new Date;if(o instanceof Date)return new Date(o);if("string"==typeof o&&!/Z$/i.test(o)){var a=o.match(_);if(a){var c=a[2]-1||0,u=(a[7]||"0").substring(0,3);return s?new Date(Date.UTC(a[1],c,a[3]||1,a[4]||0,a[5]||0,a[6]||0,u)):new Date(a[1],c,a[3]||1,a[4]||0,a[5]||0,a[6]||0,u)}}return new Date(o)}(r),this.init()},r.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},r.$utils=function(){return P},r.isValid=function(){return this.$d.toString()!==m},r.isSame=function(r,o){var s=E(r);return this.startOf(o)<=s&&s<=this.endOf(o)},r.isAfter=function(r,o){return E(r)<this.startOf(o)},r.isBefore=function(r,o){return this.endOf(o)<E(r)},r.$g=function(r,o,s){return P.u(r)?this[o]:this.set(s,r)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(r,o){var p=this,m=!!P.u(o)||o,_=P.p(r),l=function(r,o){var s=P.w(p.$u?Date.UTC(p.$y,o,r):new Date(p.$y,o,r),p);return m?s:s.endOf("day")},$=function(r,o){return P.w(p.toDate()[r].apply(p.toDate("s"),(m?[0,0,0,0]:[23,59,59,999]).slice(o)),p)},w=this.$W,b=this.$M,S=this.$D,x="set"+(this.$u?"UTC":"");switch(_){case g:return m?l(1,0):l(31,11);case f:return m?l(1,b):l(0,b+1);case u:var k=this.$locale().weekStart||0,O=(w<k?w+7:w)-k;return l(m?S-O:S+(6-O),b);case"day":case v:return $(x+"Hours",0);case c:return $(x+"Minutes",1);case a:return $(x+"Seconds",2);case s:return $(x+"Milliseconds",3);default:return this.clone()}},r.endOf=function(r){return this.startOf(r,!1)},r.$set=function(r,u){var p,m=P.p(r),_="set"+(this.$u?"UTC":""),w=((p={}).day=_+"Date",p[v]=_+"Date",p[f]=_+"Month",p[g]=_+"FullYear",p[c]=_+"Hours",p[a]=_+"Minutes",p[s]=_+"Seconds",p[o]=_+"Milliseconds",p)[m],b="day"===m?this.$D+(u-this.$W):u;if(m===f||m===g){var S=this.clone().set(v,1);S.$d[w](b),S.init(),this.$d=S.set(v,Math.min(this.$D,S.daysInMonth())).$d}else w&&this.$d[w](b);return this.init(),this},r.set=function(r,o){return this.clone().$set(r,o)},r.get=function(r){return this[P.p(r)]()},r.add=function(r,o){var p,v=this;r=Number(r);var m=P.p(o),y=function(o){var s=E(v);return P.w(s.date(s.date()+Math.round(o*r)),v)};if(m===f)return this.set(f,this.$M+r);if(m===g)return this.set(g,this.$y+r);if("day"===m)return y(1);if(m===u)return y(7);var _=((p={})[a]=6e4,p[c]=36e5,p[s]=1e3,p)[m]||1,w=this.$d.getTime()+r*_;return P.w(w,this)},r.subtract=function(r,o){return this.add(-1*r,o)},r.format=function(r){var o=this,s=this.$locale();if(!this.isValid())return s.invalidDate||m;var a=r||"YYYY-MM-DDTHH:mm:ssZ",c=P.z(this),u=this.$H,f=this.$m,p=this.$M,g=s.weekdays,v=s.months,_=s.meridiem,h=function(r,s,c,u){return r&&(r[s]||r(o,a))||c[s].slice(0,u)},d=function(r){return P.s(u%12||12,r,"0")},b=_||function(r,o,s){var a=r<12?"AM":"PM";return s?a.toLowerCase():a};return a.replace(w,function(r,a){return a||function(r){switch(r){case"YY":return String(o.$y).slice(-2);case"YYYY":return P.s(o.$y,4,"0");case"M":return p+1;case"MM":return P.s(p+1,2,"0");case"MMM":return h(s.monthsShort,p,v,3);case"MMMM":return h(v,p);case"D":return o.$D;case"DD":return P.s(o.$D,2,"0");case"d":return String(o.$W);case"dd":return h(s.weekdaysMin,o.$W,g,2);case"ddd":return h(s.weekdaysShort,o.$W,g,3);case"dddd":return g[o.$W];case"H":return String(u);case"HH":return P.s(u,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return b(u,f,!0);case"A":return b(u,f,!1);case"m":return String(f);case"mm":return P.s(f,2,"0");case"s":return String(o.$s);case"ss":return P.s(o.$s,2,"0");case"SSS":return P.s(o.$ms,3,"0");case"Z":return c}return null}(r)||c.replace(":","")})},r.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},r.diff=function(r,o,v){var m,_=this,w=P.p(o),b=E(r),S=(b.utcOffset()-this.utcOffset())*6e4,x=this-b,D=function(){return P.m(_,b)};switch(w){case g:m=D()/12;break;case f:m=D();break;case p:m=D()/3;break;case u:m=(x-S)/6048e5;break;case"day":m=(x-S)/864e5;break;case c:m=x/36e5;break;case a:m=x/6e4;break;case s:m=x/1e3;break;default:m=x}return v?m:P.a(m)},r.daysInMonth=function(){return this.endOf(f).$D},r.$locale=function(){return x[this.$L]},r.locale=function(r,o){if(!r)return this.$L;var s=this.clone(),a=T(r,o,!0);return a&&(s.$L=a),s},r.clone=function(){return P.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},M}()).prototype,E.prototype=C,[["$ms",o],["$s",s],["$m",a],["$H",c],["$W","day"],["$M",f],["$y",g],["$D",v]].forEach(function(r){C[r[1]]=function(o){return this.$g(o,r[0],r[1])}}),E.extend=function(r,o){return r.$i||(r(o,I,E),r.$i=!0),E},E.locale=T,E.isDayjs=O,E.unix=function(r){return E(1e3*r)},E.en=x[S],E.Ls=x,E.p={},E)},96245:function(r,o,s){"use strict";function e(r){this.message=r}s.r(o),s.d(o,{InvalidTokenError:function(){return n}}),e.prototype=Error(),e.prototype.name="InvalidCharacterError";var a="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(r){var o=String(r).replace(/=+$/,"");if(o.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var s,a,c=0,u=0,f="";a=o.charAt(u++);~a&&(s=c%4?64*s+a:a,c++%4)&&(f+=String.fromCharCode(255&s>>(-2*c&6))))a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a);return f};function n(r){this.message=r}n.prototype=Error(),n.prototype.name="InvalidTokenError",o.default=function(r,o){if("string"!=typeof r)throw new n("Invalid token specified");var s=!0===(o=o||{}).header?0:1;try{return JSON.parse(function(r){var o,s=r.replace(/-/g,"+").replace(/_/g,"/");switch(s.length%4){case 0:break;case 2:s+="==";break;case 3:s+="=";break;default:throw"Illegal base64url string!"}try{return o=s,decodeURIComponent(a(o).replace(/(.)/g,function(r,o){var s=o.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}catch(r){return a(s)}}(r.split(".")[s]))}catch(r){throw new n("Invalid token specified: "+r.message)}}},7544:function(r,o,s){r.exports=s(21337)},6840:function(r,o,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return s(64807)}])},61267:function(r,o,s){"use strict";s.d(o,{FT:function(){return u},L4:function(){return c}});var a=s(74459);let c="https://cdn.migros.ch/ch.migros",u=[a.iu.de,a.iu.fr,a.iu.it]},89048:function(r,o,s){"use strict";s.d(o,{H:function(){return InternalServerError},d:function(){return NotFoundError}});let NotFoundError=class NotFoundError extends Error{get statusCode(){return NotFoundError.statusCode}constructor(r){super("Content not found: ".concat(r)),Object.setPrototypeOf(this,NotFoundError.prototype)}};NotFoundError.statusCode=404,NotFoundError.errorName="Not Found";let InternalServerError=class InternalServerError extends Error{get statusCode(){return InternalServerError.statusCode}constructor(){super("Internal server error."),Object.setPrototypeOf(this,InternalServerError.prototype)}};InternalServerError.statusCode=500,InternalServerError.errorName="Internal Server Error"},41396:function(r,o,s){"use strict";s.d(o,{v:function(){return getLanguageFromQuery},x:function(){return throwIfUndefined}});var a=s(61267),c=s(89048);let isValidLanguage=r=>a.FT.includes(r),getLanguageFromQuery=r=>{let{lang:o=a.FT[0]}=r,s=o.toString();if("_next"===s)return a.FT[0];if(!isValidLanguage(s))throw new c.d('Language "'.concat(s,'" is not supported.'));return s},throwIfUndefined=(r,o)=>{if(!r)throw Error("The variable ".concat(o," was undefined."));return r}},64807:function(r,o,s){"use strict";s.r(o);var a=s(85893),c=s(86644),u=s(32363),f=s(47209),p=s(7544),g=s.n(p),v=s(9008),m=s.n(v),_=s(67294),w=s(61267),b=s(41396),S=s(19146);let App=r=>{let{Component:o,pageProps:s,language:p,origin:g}=r,{storefinder:{head:v}}=S.Z[p];return(0,_.useEffect)(()=>{f.WebApiService.init(f.WEB_API_URLS[(0,b.x)("production","WEB_API_ENV")],{key:(0,b.x)("loh7Diephiengaiv","WEB_API_KEY")}),c.Authenticator.init(JSON.parse(document.getElementsByTagName("html")[0].getAttribute("data-setup")||"{}")).catch(console.error),window.msrc={...window.msrc||{},messenger:{...(window.msrc||{}).messenger||{},getInstance:()=>u.d},utilities:{login:{setup:()=>{},autologin:()=>{},getUser:()=>c.Authenticator.getInstance().getUser()}}}},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(m(),{children:[(0,a.jsx)("meta",{name:"application-name",content:v.title},"meta-application-name"),(0,a.jsx)("meta",{name:"description",content:v.description},"meta-descritpion"),(0,a.jsx)("meta",{property:"og:title",content:v.title},"og-title"),(0,a.jsx)("meta",{property:"og:description",content:v.description},"og-description"),(0,a.jsx)("meta",{property:"og:type",content:"website"}),(0,a.jsx)("meta",{property:"og:image",content:"".concat(w.L4,"/static/img/migros_m_1200x630.png")}),(0,a.jsx)("title",{children:v.title},"title")]}),(0,a.jsx)(o,{...s,origin:g})]})};App.getInitialProps=async r=>{let{router:o,ctx:s}=r,a=(0,b.v)(o.query),c=await g().getInitialProps(r),u=s.req?"//".concat(s.req.headers["x-forwarded-host"]||s.req.headers.host,"/").concat(a):"".concat(window.location.origin,"/").concat(a);return{...c,language:a,origin:u}},o.default=App},19146:function(r,o,s){"use strict";s.d(o,{Z:function(){return a}});var a={de:{content:{cdn_down:"Es ist ein Problem aufgetreten. Wir arbeiten bereits an einer L\xf6sung des Problems, damit Sie so bald wie m\xf6glich unseren Service wieder nutzen k\xf6nnen."},pagination:{previous:"Vorherige Seite",next:"N\xe4chste Seite",from:"von",page:"Seite %page%"},breadcrumb:{title:"Sie sind hier:",crumb:{home:"Startseite",storefinder:"Filialsuche",storefinder_list:"Filialenliste"}},urls:{ch_migros:"//www.migros.ch/de",test_ch_migros:"//test-www.migros.ch/de"},store:{opening_hours:{day:{0:"So",1:"Mo",2:"Di",3:"Mi",4:"Do",5:"Fr",6:"Sa"}}},storefinder:{head:{title:"Migros Filialen",description:"Hier k\xf6nnen Sie alle Standorte, Filialen sowie deren \xd6ffnungszeiten an Werk-, Sonn- und Feiertagen nachschlagen."},store_detail:{head:{description:"Hier finden sie alle Infos zu \xd6ffnungszeiten, aktuellen Aktionen, Adresse und Telefonnummer sowie weitere Details zum %{market_name}."},phone_label:"Tel.",special_dates:{title:"Sonder\xf6ffnungszeiten"},opening_hours:{title:"Regul\xe4re \xd6ffnungszeiten",closed:"geschlossen",day:{1:"Montag",2:"Dienstag",3:"Mittwoch",4:"Donnerstag",5:"Freitag",6:"Samstag",7:"Sonntag"}},market_upcoming_opening_date:"Diese Filiale wird am %{opening_date} er\xf6ffnet.",market_upcoming_opening_hours:"Ab %{from_date} gelten folgende \xd6ffnungszeiten:",currently_closed:"Zur Zeit geschlossen.",cooperative_info_text:"Eine Filiale der Genossenschaft Migros %{cooperative}.",market_services:{title:"Services und Dienstleistungen"},distance_info:{user_location:"Distanz in Luftlinie zwischen Filiale und Ihrem aktuellen Standort.",search:'Distanz in Luftlinie zwischen Filiale und geografischem Mittelpunkt von "%{searchTerm}"'},blocks:{assortments_title:"Sortiment"}},filters:{quick_group_filters:{holiday_season:"Offene Filialen um die Festtage"},additional_openon_filters:{sunday1124:"Sonntag 24.11.",sunday1201:"Sonntag 01.12.",sunday1208:"Sonntag 08.12.",sunday1215:"Sonntag 15.12.",sunday1222:"Sonntag 22.12.",sunday1229:"Sonntag 29.12.",sunday1224:"Heiliger Abend 24.12.",sunday1225:"Weihnachten 25.12.",sunday1226:"Stephanstag 26.12.",sunday1231:"Silvester 31.12.",sunday0101:"Neujahr 1.1.",sunday0102:"Berchtoldstag 2.1.",sunday0330:"Karfreitag 30.3.",sunday0401:"Ostern 1.4.",sunday0402:"Ostermontag 2.4.",sunday0501:"Tag der Arbeit 1.5.",sunday0510:"Christi Himmelfahrt 10.5.",sunday0520:"Pfingsten 20.5.",sunday0521:"Pfingstmontag 21.5."}}},error:{404:{meta:{title:"404",description:"Seite nicht gefunden"},title:"Hier hat jemand aufger\xe4umt.",intro:"Gehen Sie zur Startseite oder benutzen Sie die Suche, um \xe4hnliche Inhalte zu finden ...",search:{placeholder:"Suchen Sie hier nach Produkten, Themen, Stellen etc.",title:"Suchen",reset:"Eingabe zur\xfccksetzen"},teasersLabel:"... oder besuchen Sie eines der anderen Unternehmen der Migros-Gruppe"}}},fr:{content:{cdn_down:"Une erreur sest produite. Nous faisons tout notre possible pour r\xe9soudre le probl\xe8me afin que vous puissiez \xe0 nouveau utiliser nos services d\xe8s que possible."},pagination:{previous:"Page pr\xe9c\xe9dente",next:"Page suivante",from:"de",page:"Page %{page}"},breadcrumb:{title:"Vous \xeates ici:",crumb:{home:"Accueil",storefinder:"Chercher magasin",storefinder_list:"Filialenliste"}},urls:{ch_migros:"//www.migros.ch/fr",test_ch_migros:"//test-www.migros.ch/fr"},store:{opening_hours:{day:{0:"Dim",1:"Lun",2:"Mar",3:"Mer",4:"Jeu",5:"Ven",6:"Sam"}}},storefinder:{head:{title:"Migros magasins",description:"Recherche des magasins Migros: trouvez tous les emplacements, les magasins et leurs heures douverture durant les jours ouvrables et les jours f\xe9ri\xe9s."},store_detail:{head:{description:"Vous trouverez ici toutes les informations sur les heures d'ouverture, les promotions en cours, l'adresse et le num\xe9ro de t\xe9l\xe9phone ainsi que d'autres d\xe9tails sur le magasin %{market_name}."},phone_label:"Tel.",special_dates:{title:"Heures douverture exceptionnelles"},opening_hours:{title:"Heures douverture r\xe9guli\xe8res",closed:"Ferm\xe9",day:{1:"lundi",2:"mardi",3:"mercredi",4:"jeudi",5:"vendredi",6:"samedi",7:"dimanche"}},market_upcoming_opening_date:"Ce magasin ouvrira le %{opening_date}.",market_upcoming_opening_hours:"Horaires douverture valables \xe0 partir du %{from_date}:",currently_closed:"Actuellement ferm\xe9.",cooperative_info_text:"Un magasin de la coop\xe9rative Migros %{cooperative}.",market_services:{title:"Services et prestations "},distance_info:{user_location:"Distance \xe0 vol doiseau entre le magasin et votre emplacement actuel. ",search:'Distance \xe0 vol entre le magasin et le centre g\xe9ographique de "%{searchTerm}"'},blocks:{assortments_title:"Assortiment"}},filters:{quick_group_filters:{holiday_season:"Magasins ouverts \xe0 loccasion des f\xeates"},additional_openon_filters:{sunday1124:"Dimanche 24.11.",sunday1201:"Dimanche 01.12.",sunday1208:"Dimanche 08.12.",sunday1215:"Dimanche 15.12.",sunday1222:"Dimanche 22.12.",sunday1229:"Dimanche 29.12.",sunday1224:"Veill\xe9e de No\xebl 24.12.",sunday1225:"No\xebl 25.12.",sunday1226:"Saint Etienne 26.12.",sunday1231:"Saint Sylvestre 31.12.",sunday0101:"Jour de lan 1.1.",sunday0102:"Saint Berchtold 2.1.",sunday0330:"Vendredi Saint 30.3.",sunday0401:"P\xe2ques 1.4.",sunday0402:"Lundi de P\xe2ques 2.4.",sunday0501:"F\xeate du travail 1.5.",sunday0510:"Ascension 10.5.",sunday0520:"Pentec\xf4te 20.5.",sunday0521:"Lundi de Pentec\xf4te 21.5."}}},error:{404:{meta:{title:"404",description:"Impossible de trouver la page"},title:"Le m\xe9nage a \xe9t\xe9 fait.",intro:"Acc\xe9dez \xe0 la page daccueil ou utilisez la recherche pour trouver des contenus similaires...",search:{placeholder:"Ici, recherchez des produits, des sujets, des emplois, etc.",title:"Rechercher",reset:"R\xe9initialiser la saisie"},teasersLabel:"... ou rendez-vous sur la page dune autre entreprise du Groupe Migros "}}},it:{content:{cdn_down:"Si \xe8 verificato un errore. Stiamo cercando di risolvere il problema per permetterti di usufruire nuovamente del nostro servizio il pi\xf9 presto possibile."},pagination:{previous:"Pagina precedente",next:"Prossima pagina",from:"di",page:"Pagina %page%"},breadcrumb:{title:"Ti trovi qui:",crumb:{home:"Pagina iniziale",storefinder:"Ricerca filiali",storefinder_list:"Filialenliste"}},urls:{ch_migros:"//www.migros.ch/it",test_ch_migros:"//test-www.migros.ch/it"},store:{opening_hours:{day:{0:"Do",1:"Lu",2:"Ma",3:"Me",4:"Gio",5:"Ve",6:"Sa"}}},storefinder:{head:{title:"Migros filiali",description:"Ricerca filiali Migros: tutte le sedi, le filiali e gli orari di apertura dei giorni feriali e festivi. Consulta subito il nostro servizio!"},store_detail:{head:{description:"Qui trovate tutte le informazioni sugli orari di apertura, le promozioni in corso, l'indirizzo e il numero di telefono nonch\xe9 ulteriori dettagli sulla filiale %{market_name}."},phone_label:"Tel.",special_dates:{title:"Orari dapertura speciali"},opening_hours:{title:"Orari dapertura normali",closed:"chiuso",day:{1:"lunedi",2:"martedi",3:"mercoledi",4:"giovedi",5:"venerdi",6:"sabato",7:"domenica"}},market_upcoming_opening_date:"Questa filiale aprir\xe0 il %{opening_date}.",market_upcoming_opening_hours:"Orari di apertura validi dal %{from_date}:",currently_closed:"Attualmente chiusa.",cooperative_info_text:"Una filiale della cooperativa Migros %{cooperative}.",market_services:{title:"Servizi e prestazioni"},distance_info:{user_location:"Distanza in linea daria dalla filiale alla tua posizione attuale.",search:'Distanza in linea daria dalla filiale al centro geografico di "%{searchTerm}"'},blocks:{assortments_title:"Assortimento"}},filters:{quick_group_filters:{holiday_season:"Filiali aperte nei giorni festivi"},additional_openon_filters:{sunday1124:"Domenica 24.11.",sunday1201:"Domenica 01.12.",sunday1208:"Domenica 08.12.",sunday1215:"Domenica 15.12.",sunday1222:"Domenica 22.12.",sunday1229:"Domenica 29.12.",sunday1224:"Vigilia di Natale 24.12.",sunday1225:"Natale 25.12.",sunday1226:"Santo Stefano 26.12.",sunday1231:"San Silvestro 31.12.",sunday0101:"Capodanno 1.1.",sunday0102:"San Basilio 2.1.",sunday0330:"Venerd\xec santo 30.3.",sunday0401:"Pasqua 1.4.",sunday0402:"Luned\xec di Pasqua (Pasquetta) 2.4.",sunday0501:"Festa del lavoro 1.5.",sunday0510:"Ascensione 10.5.",sunday0520:"Pentecoste 20.5.",sunday0521:"Luned\xec di Pentecoste 21.5."}}},error:{404:{meta:{title:"404",description:"Pagina non trovata!"},title:"Qui qualcuno ha fatto ordine.",intro:"Vai alla pagina iniziale o utilizza la funzione di ricerca per trovare contenuti simili ...",search:{placeholder:"Qui puoi cercare prodotti, temi, posti di lavoro vacanti, ecc.",title:"Cerca",reset:"Reimposta inserimento"},teasersLabel:"... oppure visita un'altra impresa del Gruppo Migros."}}}}},9008:function(r,o,s){r.exports=s(79201)},29527:function(r,o,s){"use strict";var a,c,u,f,p=Object.create,g=Object.defineProperty,v=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,_=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,__copyProps=(r,o,s,a)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let c of m(o))w.call(r,c)||c===s||g(r,c,{get:()=>o[c],enumerable:!(a=v(o,c))||a.enumerable});return r},__toESM=(r,o,s)=>(s=null!=r?p(_(r)):{},__copyProps(!o&&r&&r.__esModule?s:g(s,"default",{value:r,enumerable:!0}),r)),b={};((r,o)=>{for(var s in o)g(r,s,{get:o[s],enumerable:!0})})(b,{AccessTokenEvents:()=>B,CheckSessionIFrame:()=>z,ErrorResponse:()=>U,ErrorTimeout:()=>H,InMemoryWebStorage:()=>q,Log:()=>E,Logger:()=>P,MetadataService:()=>K,OidcClient:()=>ea,OidcClientSettingsStore:()=>V,SessionMonitor:()=>ec,SigninResponse:()=>et,SigninState:()=>X,SignoutResponse:()=>en,State:()=>Q,User:()=>eu,UserManager:()=>ex,UserManagerSettingsStore:()=>ep,Version:()=>ek,WebStorageStateStore:()=>G}),r.exports=__copyProps(g({},"__esModule",{value:!0}),b);var S=__toESM(s(78249)),x=__toESM(s(52153)),k=__toESM(s(98269)),O=__toESM(s(55743)),T={debug:()=>void 0,info:()=>void 0,warn:()=>void 0,error:()=>void 0},E=((a=E||{})[a.NONE=0]="NONE",a[a.ERROR=1]="ERROR",a[a.WARN=2]="WARN",a[a.INFO=3]="INFO",a[a.DEBUG=4]="DEBUG",a);(c=E||(E={})).reset=function(){u=3,f=T},c.setLevel=function(r){if(!(0<=r&&r<=4))throw Error("Invalid log level");u=r},c.setLogger=function(r){f=r};var P=class{constructor(r){this._name=r}debug(...r){u>=4&&f.debug(P._format(this._name,this._method),...r)}info(...r){u>=3&&f.info(P._format(this._name,this._method),...r)}warn(...r){u>=2&&f.warn(P._format(this._name,this._method),...r)}error(...r){u>=1&&f.error(P._format(this._name,this._method),...r)}throw(r){throw this.error(r),r}create(r){let o=Object.create(this);return o._method=r,o.debug("begin"),o}static createStatic(r,o){let s=new P(`${r}.${o}`);return s.debug("begin"),s}static _format(r,o){let s=`[${r}]`;return o?`${s} ${o}:`:s}static debug(r,...o){u>=4&&f.debug(P._format(r),...o)}static info(r,...o){u>=3&&f.info(P._format(r),...o)}static warn(r,...o){u>=2&&f.warn(P._format(r),...o)}static error(r,...o){u>=1&&f.error(P._format(r),...o)}};E.reset();var I=class{static _randomWord(){return S.default.lib.WordArray.random(1).words[0]}static generateUUIDv4(){let r="10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^I._randomWord()&15>>+r/4).toString(16));return r.replace(/-/g,"")}static generateCodeVerifier(){return I.generateUUIDv4()+I.generateUUIDv4()+I.generateUUIDv4()}static generateCodeChallenge(r){try{let o=(0,x.default)(r);return k.default.stringify(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(r){throw P.error("CryptoUtils.generateCodeChallenge",r),r}}static generateBasicAuth(r,o){let s=O.default.parse([r,o].join(":"));return k.default.stringify(s)}},C=class{constructor(r){this._name=r,this._logger=new P(`Event('${this._name}')`),this._callbacks=[]}addHandler(r){return this._callbacks.push(r),()=>this.removeHandler(r)}removeHandler(r){let o=this._callbacks.lastIndexOf(r);o>=0&&this._callbacks.splice(o,1)}raise(...r){for(let o of(this._logger.debug("raise:",...r),this._callbacks))o(...r)}},A=__toESM(s(96245)),R=class{static decode(r){try{return(0,A.default)(r)}catch(r){throw P.error("JwtUtils.decode",r),r}}},j=class{static center({...r}){var o;return null==r.width&&(r.width=null!=(o=[800,720,600,480].find(r=>r<=window.outerWidth/1.618))?o:360),null!=r.left||(r.left=Math.max(0,Math.round(window.screenX+(window.outerWidth-r.width)/2))),null!=r.height&&(null!=r.top||(r.top=Math.max(0,Math.round(window.screenY+(window.outerHeight-r.height)/2)))),r}static serialize(r){return Object.entries(r).filter(([,r])=>null!=r).map(([r,o])=>`${r}=${"boolean"!=typeof o?o:o?"yes":"no"}`).join(",")}},L=class extends C{constructor(){super(...arguments),this._logger=new P(`Timer('${this._name}')`),this._timerHandle=null,this._expiration=0,this._callback=()=>{let r=this._expiration-L.getEpochTime();this._logger.debug("timer completes in",r),this._expiration<=L.getEpochTime()&&(this.cancel(),super.raise())}}static getEpochTime(){return Math.floor(Date.now()/1e3)}init(r){let o=this._logger.create("init");r=Math.max(Math.floor(r),1);let s=L.getEpochTime()+r;if(this.expiration===s&&this._timerHandle){o.debug("skipping since already initialized for expiration at",this.expiration);return}this.cancel(),o.debug("using duration",r),this._expiration=s;let a=Math.min(r,5);this._timerHandle=setInterval(this._callback,1e3*a)}get expiration(){return this._expiration}cancel(){this._logger.create("cancel"),this._timerHandle&&(clearInterval(this._timerHandle),this._timerHandle=null)}},N=class{static readParams(r,o="query"){if(!r)throw TypeError("Invalid URL");let s=new URL(r,"http://127.0.0.1"),a=s["fragment"===o?"hash":"search"];return new URLSearchParams(a.slice(1))}},U=class extends Error{constructor(r,o){var s,a,c;if(super(r.error_description||r.error||""),this.form=o,this.name="ErrorResponse",!r.error)throw P.error("ErrorResponse","No error passed"),Error("No error passed");this.error=r.error,this.error_description=null!=(s=r.error_description)?s:null,this.error_uri=null!=(a=r.error_uri)?a:null,this.state=r.userState,this.session_state=null!=(c=r.session_state)?c:null,this.url_state=r.url_state}},H=class extends Error{constructor(r){super(r),this.name="ErrorTimeout"}},B=class{constructor(r){this._logger=new P("AccessTokenEvents"),this._expiringTimer=new L("Access token expiring"),this._expiredTimer=new L("Access token expired"),this._expiringNotificationTimeInSeconds=r.expiringNotificationTimeInSeconds}load(r){let o=this._logger.create("load");if(r.access_token&&void 0!==r.expires_in){let s=r.expires_in;if(o.debug("access token present, remaining duration:",s),s>0){let r=s-this._expiringNotificationTimeInSeconds;r<=0&&(r=1),o.debug("registering expiring timer, raising in",r,"seconds"),this._expiringTimer.init(r)}else o.debug("canceling existing expiring timer because we're past expiration."),this._expiringTimer.cancel();let a=s+1;o.debug("registering expired timer, raising in",a,"seconds"),this._expiredTimer.init(a)}else this._expiringTimer.cancel(),this._expiredTimer.cancel()}unload(){this._logger.debug("unload: canceling existing access token timers"),this._expiringTimer.cancel(),this._expiredTimer.cancel()}addAccessTokenExpiring(r){return this._expiringTimer.addHandler(r)}removeAccessTokenExpiring(r){this._expiringTimer.removeHandler(r)}addAccessTokenExpired(r){return this._expiredTimer.addHandler(r)}removeAccessTokenExpired(r){this._expiredTimer.removeHandler(r)}},z=class{constructor(r,o,s,a,c){this._callback=r,this._client_id=o,this._intervalInSeconds=a,this._stopOnError=c,this._logger=new P("CheckSessionIFrame"),this._timer=null,this._session_state=null,this._message=r=>{r.origin===this._frame_origin&&r.source===this._frame.contentWindow&&("error"===r.data?(this._logger.error("error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===r.data?(this._logger.debug("changed message from check session op iframe"),this.stop(),this._callback()):this._logger.debug(r.data+" message from check session op iframe"))};let u=new URL(s);this._frame_origin=u.origin,this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="fixed",this._frame.style.left="-1000px",this._frame.style.top="0",this._frame.width="0",this._frame.height="0",this._frame.src=u.href}load(){return new Promise(r=>{this._frame.onload=()=>{r()},window.document.body.appendChild(this._frame),window.addEventListener("message",this._message,!1)})}start(r){if(this._session_state===r)return;this._logger.create("start"),this.stop(),this._session_state=r;let send=()=>{this._frame.contentWindow&&this._session_state&&this._frame.contentWindow.postMessage(this._client_id+" "+this._session_state,this._frame_origin)};send(),this._timer=setInterval(send,1e3*this._intervalInSeconds)}stop(){this._logger.create("stop"),this._session_state=null,this._timer&&(clearInterval(this._timer),this._timer=null)}},q=class{constructor(){this._logger=new P("InMemoryWebStorage"),this._data={}}clear(){this._logger.create("clear"),this._data={}}getItem(r){return this._logger.create(`getItem('${r}')`),this._data[r]}setItem(r,o){this._logger.create(`setItem('${r}')`),this._data[r]=o}removeItem(r){this._logger.create(`removeItem('${r}')`),delete this._data[r]}get length(){return Object.getOwnPropertyNames(this._data).length}key(r){return Object.getOwnPropertyNames(this._data)[r]}},W=class{constructor(r=[],o=null,s={}){this._jwtHandler=o,this._extraHeaders=s,this._logger=new P("JsonService"),this._contentTypes=[],this._contentTypes.push(...r,"application/json"),o&&this._contentTypes.push("application/jwt")}async fetchWithTimeout(r,o={}){let{timeoutInSeconds:s,...a}=o;if(!s)return await fetch(r,a);let c=new AbortController,u=setTimeout(()=>c.abort(),1e3*s);try{let s=await fetch(r,{...o,signal:c.signal});return s}catch(r){if(r instanceof DOMException&&"AbortError"===r.name)throw new H("Network timed out");throw r}finally{clearTimeout(u)}}async getJson(r,{token:o,credentials:s}={}){let a,c;let u=this._logger.create("getJson"),f={Accept:this._contentTypes.join(", ")};o&&(u.debug("token passed, setting Authorization header"),f.Authorization="Bearer "+o),this.appendExtraHeaders(f);try{u.debug("url:",r),a=await this.fetchWithTimeout(r,{method:"GET",headers:f,credentials:s})}catch(r){throw u.error("Network Error"),r}u.debug("HTTP response received, status",a.status);let p=a.headers.get("Content-Type");if(p&&!this._contentTypes.find(r=>p.startsWith(r))&&u.throw(Error(`Invalid response Content-Type: ${null!=p?p:"undefined"}, from URL: ${r}`)),a.ok&&this._jwtHandler&&(null==p?void 0:p.startsWith("application/jwt")))return await this._jwtHandler(await a.text());try{c=await a.json()}catch(r){if(u.error("Error parsing JSON response",r),a.ok)throw r;throw Error(`${a.statusText} (${a.status})`)}if(!a.ok){if(u.error("Error from server:",c),c.error)throw new U(c);throw Error(`${a.statusText} (${a.status}): ${JSON.stringify(c)}`)}return c}async postForm(r,{body:o,basicAuth:s,timeoutInSeconds:a,initCredentials:c}){let u;let f=this._logger.create("postForm"),p={Accept:this._contentTypes.join(", "),"Content-Type":"application/x-www-form-urlencoded"};void 0!==s&&(p.Authorization="Basic "+s),this.appendExtraHeaders(p);try{f.debug("url:",r),u=await this.fetchWithTimeout(r,{method:"POST",headers:p,body:o,timeoutInSeconds:a,credentials:c})}catch(r){throw f.error("Network error"),r}f.debug("HTTP response received, status",u.status);let g=u.headers.get("Content-Type");if(g&&!this._contentTypes.find(r=>g.startsWith(r)))throw Error(`Invalid response Content-Type: ${null!=g?g:"undefined"}, from URL: ${r}`);let v=await u.text(),m={};if(v)try{m=JSON.parse(v)}catch(r){if(f.error("Error parsing JSON response",r),u.ok)throw r;throw Error(`${u.statusText} (${u.status})`)}if(!u.ok){if(f.error("Error from server:",m),m.error)throw new U(m,o);throw Error(`${u.statusText} (${u.status}): ${JSON.stringify(m)}`)}return m}appendExtraHeaders(r){let o=this._logger.create("appendExtraHeaders"),s=Object.keys(this._extraHeaders),a=["authorization","accept","content-type"];0!==s.length&&s.forEach(s=>{if(a.includes(s.toLocaleLowerCase())){o.warn("Protected header could not be overridden",s,a);return}let c="function"==typeof this._extraHeaders[s]?this._extraHeaders[s]():this._extraHeaders[s];c&&""!==c&&(r[s]=c)})}},K=class{constructor(r){this._settings=r,this._logger=new P("MetadataService"),this._signingKeys=null,this._metadata=null,this._metadataUrl=this._settings.metadataUrl,this._jsonService=new W(["application/jwk-set+json"],null,this._settings.extraHeaders),this._settings.signingKeys&&(this._logger.debug("using signingKeys from settings"),this._signingKeys=this._settings.signingKeys),this._settings.metadata&&(this._logger.debug("using metadata from settings"),this._metadata=this._settings.metadata),this._settings.fetchRequestCredentials&&(this._logger.debug("using fetchRequestCredentials from settings"),this._fetchRequestCredentials=this._settings.fetchRequestCredentials)}resetSigningKeys(){this._signingKeys=null}async getMetadata(){let r=this._logger.create("getMetadata");if(this._metadata)return r.debug("using cached values"),this._metadata;if(!this._metadataUrl)throw r.throw(Error("No authority or metadataUrl configured on settings")),null;r.debug("getting metadata from",this._metadataUrl);let o=await this._jsonService.getJson(this._metadataUrl,{credentials:this._fetchRequestCredentials});return r.debug("merging remote JSON with seed metadata"),this._metadata=Object.assign({},this._settings.metadataSeed,o),this._metadata}getIssuer(){return this._getMetadataProperty("issuer")}getAuthorizationEndpoint(){return this._getMetadataProperty("authorization_endpoint")}getUserInfoEndpoint(){return this._getMetadataProperty("userinfo_endpoint")}getTokenEndpoint(r=!0){return this._getMetadataProperty("token_endpoint",r)}getCheckSessionIframe(){return this._getMetadataProperty("check_session_iframe",!0)}getEndSessionEndpoint(){return this._getMetadataProperty("end_session_endpoint",!0)}getRevocationEndpoint(r=!0){return this._getMetadataProperty("revocation_endpoint",r)}getKeysEndpoint(r=!0){return this._getMetadataProperty("jwks_uri",r)}async _getMetadataProperty(r,o=!1){let s=this._logger.create(`_getMetadataProperty('${r}')`),a=await this.getMetadata();if(s.debug("resolved"),void 0===a[r]){if(!0===o){s.warn("Metadata does not contain optional property");return}s.throw(Error("Metadata does not contain property "+r))}return a[r]}async getSigningKeys(){let r=this._logger.create("getSigningKeys");if(this._signingKeys)return r.debug("returning signingKeys from cache"),this._signingKeys;let o=await this.getKeysEndpoint(!1);r.debug("got jwks_uri",o);let s=await this._jsonService.getJson(o);if(r.debug("got key set",s),!Array.isArray(s.keys))throw r.throw(Error("Missing keys on keyset")),null;return this._signingKeys=s.keys,this._signingKeys}},G=class{constructor({prefix:r="oidc.",store:o=localStorage}={}){this._logger=new P("WebStorageStateStore"),this._store=o,this._prefix=r}async set(r,o){this._logger.create(`set('${r}')`),r=this._prefix+r,await this._store.setItem(r,o)}async get(r){this._logger.create(`get('${r}')`),r=this._prefix+r;let o=await this._store.getItem(r);return o}async remove(r){this._logger.create(`remove('${r}')`),r=this._prefix+r;let o=await this._store.getItem(r);return await this._store.removeItem(r),o}async getAllKeys(){this._logger.create("getAllKeys");let r=await this._store.length,o=[];for(let s=0;s<r;s++){let r=await this._store.key(s);r&&0===r.indexOf(this._prefix)&&o.push(r.substr(this._prefix.length))}return o}},V=class{constructor({authority:r,metadataUrl:o,metadata:s,signingKeys:a,metadataSeed:c,client_id:u,client_secret:f,response_type:p="code",scope:g="openid",redirect_uri:v,post_logout_redirect_uri:m,client_authentication:_="client_secret_post",prompt:w,display:b,max_age:S,ui_locales:x,acr_values:k,resource:O,response_mode:T="query",filterProtocolClaims:E=!0,loadUserInfo:P=!1,staleStateAgeInSeconds:I=900,clockSkewInSeconds:C=300,userInfoJwtIssuer:A="OP",mergeClaims:R=!1,disablePKCE:j=!1,stateStore:L,refreshTokenCredentials:N,revokeTokenAdditionalContentTypes:U,fetchRequestCredentials:H,refreshTokenAllowedScope:B,extraQueryParams:z={},extraTokenParams:W={},extraHeaders:K={}}){if(this.authority=r,o?this.metadataUrl=o:(this.metadataUrl=r,r&&(this.metadataUrl.endsWith("/")||(this.metadataUrl+="/"),this.metadataUrl+=".well-known/openid-configuration")),this.metadata=s,this.metadataSeed=c,this.signingKeys=a,this.client_id=u,this.client_secret=f,this.response_type=p,this.scope=g,this.redirect_uri=v,this.post_logout_redirect_uri=m,this.client_authentication=_,this.prompt=w,this.display=b,this.max_age=S,this.ui_locales=x,this.acr_values=k,this.resource=O,this.response_mode=T,this.filterProtocolClaims=null==E||E,this.loadUserInfo=!!P,this.staleStateAgeInSeconds=I,this.clockSkewInSeconds=C,this.userInfoJwtIssuer=A,this.mergeClaims=!!R,this.disablePKCE=!!j,this.revokeTokenAdditionalContentTypes=U,H&&N&&console.warn("Both fetchRequestCredentials and refreshTokenCredentials is set. Only fetchRequestCredentials will be used."),this.fetchRequestCredentials=H||N||"same-origin",L)this.stateStore=L;else{let r="undefined"!=typeof window?window.localStorage:new q;this.stateStore=new G({store:r})}this.refreshTokenAllowedScope=B,this.extraQueryParams=z,this.extraTokenParams=W,this.extraHeaders=K}},J=class{constructor(r,o){this._settings=r,this._metadataService=o,this._logger=new P("UserInfoService"),this._getClaimsFromJwt=async r=>{let o=this._logger.create("_getClaimsFromJwt");try{let s=R.decode(r);return o.debug("JWT decoding successful"),s}catch(r){throw o.error("Error parsing JWT response"),r}},this._jsonService=new W(void 0,this._getClaimsFromJwt,this._settings.extraHeaders)}async getClaims(r){let o=this._logger.create("getClaims");r||this._logger.throw(Error("No token passed"));let s=await this._metadataService.getUserInfoEndpoint();o.debug("got userinfo url",s);let a=await this._jsonService.getJson(s,{token:r,credentials:this._settings.fetchRequestCredentials});return o.debug("got claims",a),a}},Z=class{constructor(r,o){this._settings=r,this._metadataService=o,this._logger=new P("TokenClient"),this._jsonService=new W(this._settings.revokeTokenAdditionalContentTypes,null,this._settings.extraHeaders)}async exchangeCode({grant_type:r="authorization_code",redirect_uri:o=this._settings.redirect_uri,client_id:s=this._settings.client_id,client_secret:a=this._settings.client_secret,...c}){let u;let f=this._logger.create("exchangeCode");s||f.throw(Error("A client_id is required")),o||f.throw(Error("A redirect_uri is required")),c.code||f.throw(Error("A code is required"));let p=new URLSearchParams({grant_type:r,redirect_uri:o});for(let[r,o]of Object.entries(c))null!=o&&p.set(r,o);switch(this._settings.client_authentication){case"client_secret_basic":if(!a)throw f.throw(Error("A client_secret is required")),null;u=I.generateBasicAuth(s,a);break;case"client_secret_post":p.append("client_id",s),a&&p.append("client_secret",a)}let g=await this._metadataService.getTokenEndpoint(!1);f.debug("got token endpoint");let v=await this._jsonService.postForm(g,{body:p,basicAuth:u,initCredentials:this._settings.fetchRequestCredentials});return f.debug("got response"),v}async exchangeCredentials({grant_type:r="password",client_id:o=this._settings.client_id,client_secret:s=this._settings.client_secret,scope:a=this._settings.scope,...c}){let u;let f=this._logger.create("exchangeCredentials");o||f.throw(Error("A client_id is required"));let p=new URLSearchParams({grant_type:r,scope:a});for(let[r,o]of Object.entries(c))null!=o&&p.set(r,o);switch(this._settings.client_authentication){case"client_secret_basic":if(!s)throw f.throw(Error("A client_secret is required")),null;u=I.generateBasicAuth(o,s);break;case"client_secret_post":p.append("client_id",o),s&&p.append("client_secret",s)}let g=await this._metadataService.getTokenEndpoint(!1);f.debug("got token endpoint");let v=await this._jsonService.postForm(g,{body:p,basicAuth:u,initCredentials:this._settings.fetchRequestCredentials});return f.debug("got response"),v}async exchangeRefreshToken({grant_type:r="refresh_token",client_id:o=this._settings.client_id,client_secret:s=this._settings.client_secret,timeoutInSeconds:a,...c}){let u;let f=this._logger.create("exchangeRefreshToken");o||f.throw(Error("A client_id is required")),c.refresh_token||f.throw(Error("A refresh_token is required"));let p=new URLSearchParams({grant_type:r});for(let[r,o]of Object.entries(c))Array.isArray(o)?o.forEach(o=>p.append(r,o)):null!=o&&p.set(r,o);switch(this._settings.client_authentication){case"client_secret_basic":if(!s)throw f.throw(Error("A client_secret is required")),null;u=I.generateBasicAuth(o,s);break;case"client_secret_post":p.append("client_id",o),s&&p.append("client_secret",s)}let g=await this._metadataService.getTokenEndpoint(!1);f.debug("got token endpoint");let v=await this._jsonService.postForm(g,{body:p,basicAuth:u,timeoutInSeconds:a,initCredentials:this._settings.fetchRequestCredentials});return f.debug("got response"),v}async revoke(r){var o;let s=this._logger.create("revoke");r.token||s.throw(Error("A token is required"));let a=await this._metadataService.getRevocationEndpoint(!1);s.debug(`got revocation endpoint, revoking ${null!=(o=r.token_type_hint)?o:"default token type"}`);let c=new URLSearchParams;for(let[o,s]of Object.entries(r))null!=s&&c.set(o,s);c.set("client_id",this._settings.client_id),this._settings.client_secret&&c.set("client_secret",this._settings.client_secret),await this._jsonService.postForm(a,{body:c}),s.debug("got response")}},Y=class{constructor(r,o,s){this._settings=r,this._metadataService=o,this._claimsService=s,this._logger=new P("ResponseValidator"),this._userInfoService=new J(this._settings,this._metadataService),this._tokenClient=new Z(this._settings,this._metadataService)}async validateSigninResponse(r,o){let s=this._logger.create("validateSigninResponse");this._processSigninState(r,o),s.debug("state processed"),await this._processCode(r,o),s.debug("code processed"),r.isOpenId&&this._validateIdTokenAttributes(r),s.debug("tokens validated"),await this._processClaims(r,null==o?void 0:o.skipUserInfo,r.isOpenId),s.debug("claims processed")}async validateCredentialsResponse(r,o){let s=this._logger.create("validateCredentialsResponse");r.isOpenId&&r.id_token&&this._validateIdTokenAttributes(r),s.debug("tokens validated"),await this._processClaims(r,o,r.isOpenId),s.debug("claims processed")}async validateRefreshResponse(r,o){let s=this._logger.create("validateRefreshResponse");r.userState=o.data,null!=r.session_state||(r.session_state=o.session_state),null!=r.scope||(r.scope=o.scope),r.isOpenId&&r.id_token&&(this._validateIdTokenAttributes(r,o.id_token),s.debug("ID Token validated")),r.id_token||(r.id_token=o.id_token,r.profile=o.profile);let a=r.isOpenId&&!!r.id_token;await this._processClaims(r,!1,a),s.debug("claims processed")}validateSignoutResponse(r,o){let s=this._logger.create("validateSignoutResponse");if(o.id!==r.state&&s.throw(Error("State does not match")),s.debug("state validated"),r.userState=o.data,r.error)throw s.warn("Response was error",r.error),new U(r)}_processSigninState(r,o){let s=this._logger.create("_processSigninState");if(o.id!==r.state&&s.throw(Error("State does not match")),o.client_id||s.throw(Error("No client_id on state")),o.authority||s.throw(Error("No authority on state")),this._settings.authority!==o.authority&&s.throw(Error("authority mismatch on settings vs. signin state")),this._settings.client_id&&this._settings.client_id!==o.client_id&&s.throw(Error("client_id mismatch on settings vs. signin state")),s.debug("state validated"),r.userState=o.data,r.url_state=o.url_state,null!=r.scope||(r.scope=o.scope),r.error)throw s.warn("Response was error",r.error),new U(r);o.code_verifier&&!r.code&&s.throw(Error("Expected code in response"))}async _processClaims(r,o=!1,s=!0){let a=this._logger.create("_processClaims");if(r.profile=this._claimsService.filterProtocolClaims(r.profile),o||!this._settings.loadUserInfo||!r.access_token){a.debug("not loading user info");return}a.debug("loading user info");let c=await this._userInfoService.getClaims(r.access_token);a.debug("user info claims received from user info endpoint"),s&&c.sub!==r.profile.sub&&a.throw(Error("subject from UserInfo response does not match subject in ID Token")),r.profile=this._claimsService.mergeClaims(r.profile,this._claimsService.filterProtocolClaims(c)),a.debug("user info claims received, updated profile:",r.profile)}async _processCode(r,o){let s=this._logger.create("_processCode");if(r.code){s.debug("Validating code");let a=await this._tokenClient.exchangeCode({client_id:o.client_id,client_secret:o.client_secret,code:r.code,redirect_uri:o.redirect_uri,code_verifier:o.code_verifier,...o.extraTokenParams});Object.assign(r,a)}else s.debug("No code to process")}_validateIdTokenAttributes(r,o){var s;let a=this._logger.create("_validateIdTokenAttributes");a.debug("decoding ID Token JWT");let c=R.decode(null!=(s=r.id_token)?s:"");if(c.sub||a.throw(Error("ID Token is missing a subject claim")),o){let r=R.decode(o);c.sub!==r.sub&&a.throw(Error("sub in id_token does not match current sub")),c.auth_time&&c.auth_time!==r.auth_time&&a.throw(Error("auth_time in id_token does not match original auth_time")),c.azp&&c.azp!==r.azp&&a.throw(Error("azp in id_token does not match original azp")),!c.azp&&r.azp&&a.throw(Error("azp not in id_token, but present in original id_token"))}r.profile=c}},Q=class{constructor(r){this.id=r.id||I.generateUUIDv4(),this.data=r.data,r.created&&r.created>0?this.created=r.created:this.created=L.getEpochTime(),this.request_type=r.request_type,this.url_state=r.url_state}toStorageString(){return new P("State").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state})}static fromStorageString(r){return P.createStatic("State","fromStorageString"),new Q(JSON.parse(r))}static async clearStaleState(r,o){let s=P.createStatic("State","clearStaleState"),a=L.getEpochTime()-o,c=await r.getAllKeys();s.debug("got keys",c);for(let o=0;o<c.length;o++){let u=c[o],f=await r.get(u),p=!1;if(f)try{let r=Q.fromStorageString(f);s.debug("got item from key:",u,r.created),r.created<=a&&(p=!0)}catch(r){s.error("Error parsing state for key:",u,r),p=!0}else s.debug("no item in storage for key:",u),p=!0;p&&(s.debug("removed item for key:",u),r.remove(u))}}},X=class extends Q{constructor(r){super(r),!0===r.code_verifier?this.code_verifier=I.generateCodeVerifier():r.code_verifier&&(this.code_verifier=r.code_verifier),this.code_verifier&&(this.code_challenge=I.generateCodeChallenge(this.code_verifier)),this.authority=r.authority,this.client_id=r.client_id,this.redirect_uri=r.redirect_uri,this.scope=r.scope,this.client_secret=r.client_secret,this.extraTokenParams=r.extraTokenParams,this.response_mode=r.response_mode,this.skipUserInfo=r.skipUserInfo}toStorageString(){return new P("SigninState").create("toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,url_state:this.url_state,code_verifier:this.code_verifier,authority:this.authority,client_id:this.client_id,redirect_uri:this.redirect_uri,scope:this.scope,client_secret:this.client_secret,extraTokenParams:this.extraTokenParams,response_mode:this.response_mode,skipUserInfo:this.skipUserInfo})}static fromStorageString(r){P.createStatic("SigninState","fromStorageString");let o=JSON.parse(r);return new X(o)}},ee=class{constructor({url:r,authority:o,client_id:s,redirect_uri:a,response_type:c,scope:u,state_data:f,response_mode:p,request_type:g,client_secret:v,nonce:m,url_state:_,resource:w,skipUserInfo:b,extraQueryParams:S,extraTokenParams:x,disablePKCE:k,...O}){if(this._logger=new P("SigninRequest"),!r)throw this._logger.error("ctor: No url passed"),Error("url");if(!s)throw this._logger.error("ctor: No client_id passed"),Error("client_id");if(!a)throw this._logger.error("ctor: No redirect_uri passed"),Error("redirect_uri");if(!c)throw this._logger.error("ctor: No response_type passed"),Error("response_type");if(!u)throw this._logger.error("ctor: No scope passed"),Error("scope");if(!o)throw this._logger.error("ctor: No authority passed"),Error("authority");this.state=new X({data:f,request_type:g,url_state:_,code_verifier:!k,client_id:s,authority:o,redirect_uri:a,response_mode:p,client_secret:v,scope:u,extraTokenParams:x,skipUserInfo:b});let T=new URL(r);T.searchParams.append("client_id",s),T.searchParams.append("redirect_uri",a),T.searchParams.append("response_type",c),T.searchParams.append("scope",u),m&&T.searchParams.append("nonce",m);let E=this.state.id;if(_&&(E=`${E};${_}`),T.searchParams.append("state",E),this.state.code_challenge&&(T.searchParams.append("code_challenge",this.state.code_challenge),T.searchParams.append("code_challenge_method","S256")),w){let r=Array.isArray(w)?w:[w];r.forEach(r=>T.searchParams.append("resource",r))}for(let[r,o]of Object.entries({response_mode:p,...O,...S}))null!=o&&T.searchParams.append(r,o.toString());this.url=T.href}},et=class{constructor(r){if(this.access_token="",this.token_type="",this.profile={},this.state=r.get("state"),this.session_state=r.get("session_state"),this.state){let r=decodeURIComponent(this.state).split(";");this.state=r[0],r.length>1&&(this.url_state=r.slice(1).join(";"))}this.error=r.get("error"),this.error_description=r.get("error_description"),this.error_uri=r.get("error_uri"),this.code=r.get("code")}get expires_in(){if(void 0!==this.expires_at)return this.expires_at-L.getEpochTime()}set expires_in(r){"string"==typeof r&&(r=Number(r)),void 0!==r&&r>=0&&(this.expires_at=Math.floor(r)+L.getEpochTime())}get isOpenId(){var r;return(null==(r=this.scope)?void 0:r.split(" ").includes("openid"))||!!this.id_token}},er=class{constructor({url:r,state_data:o,id_token_hint:s,post_logout_redirect_uri:a,extraQueryParams:c,request_type:u,client_id:f}){if(this._logger=new P("SignoutRequest"),!r)throw this._logger.error("ctor: No url passed"),Error("url");let p=new URL(r);for(let[r,g]of(s&&p.searchParams.append("id_token_hint",s),f&&p.searchParams.append("client_id",f),a&&(p.searchParams.append("post_logout_redirect_uri",a),o&&(this.state=new Q({data:o,request_type:u}),p.searchParams.append("state",this.state.id))),Object.entries({...c})))null!=g&&p.searchParams.append(r,g.toString());this.url=p.href}},en=class{constructor(r){this.state=r.get("state"),this.error=r.get("error"),this.error_description=r.get("error_description"),this.error_uri=r.get("error_uri")}},ei=["nbf","jti","auth_time","nonce","acr","amr","azp","at_hash"],eo=["sub","iss","aud","exp","iat"],es=class{constructor(r){this._settings=r,this._logger=new P("ClaimsService")}filterProtocolClaims(r){let o={...r};if(this._settings.filterProtocolClaims)for(let r of Array.isArray(this._settings.filterProtocolClaims)?this._settings.filterProtocolClaims:ei)eo.includes(r)||delete o[r];return o}mergeClaims(r,o){let s={...r};for(let[r,a]of Object.entries(o))for(let o of Array.isArray(a)?a:[a]){let a=s[r];void 0===a?s[r]=o:Array.isArray(a)?a.includes(o)||a.push(o):s[r]!==o&&("object"==typeof o&&this._settings.mergeClaims?s[r]=this.mergeClaims(a,o):s[r]=[a,o])}return s}},ea=class{constructor(r,o){this._logger=new P("OidcClient"),this.settings=r instanceof V?r:new V(r),this.metadataService=null!=o?o:new K(this.settings),this._claimsService=new es(this.settings),this._validator=new Y(this.settings,this.metadataService,this._claimsService),this._tokenClient=new Z(this.settings,this.metadataService)}async createSigninRequest({state:r,request:o,request_uri:s,request_type:a,id_token_hint:c,login_hint:u,skipUserInfo:f,nonce:p,url_state:g,response_type:v=this.settings.response_type,scope:m=this.settings.scope,redirect_uri:_=this.settings.redirect_uri,prompt:w=this.settings.prompt,display:b=this.settings.display,max_age:S=this.settings.max_age,ui_locales:x=this.settings.ui_locales,acr_values:k=this.settings.acr_values,resource:O=this.settings.resource,response_mode:T=this.settings.response_mode,extraQueryParams:E=this.settings.extraQueryParams,extraTokenParams:P=this.settings.extraTokenParams}){let I=this._logger.create("createSigninRequest");if("code"!==v)throw Error("Only the Authorization Code flow (with PKCE) is supported");let C=await this.metadataService.getAuthorizationEndpoint();I.debug("Received authorization endpoint",C);let A=new ee({url:C,authority:this.settings.authority,client_id:this.settings.client_id,redirect_uri:_,response_type:v,scope:m,state_data:r,url_state:g,prompt:w,display:b,max_age:S,ui_locales:x,id_token_hint:c,login_hint:u,acr_values:k,resource:O,request:o,request_uri:s,extraQueryParams:E,extraTokenParams:P,request_type:a,response_mode:T,client_secret:this.settings.client_secret,skipUserInfo:f,nonce:p,disablePKCE:this.settings.disablePKCE});await this.clearStaleState();let R=A.state;return await this.settings.stateStore.set(R.id,R.toStorageString()),A}async readSigninResponseState(r,o=!1){let s=this._logger.create("readSigninResponseState"),a=new et(N.readParams(r,this.settings.response_mode));if(!a.state)throw s.throw(Error("No state in response")),null;let c=await this.settings.stateStore[o?"remove":"get"](a.state);if(!c)throw s.throw(Error("No matching state found in storage")),null;let u=X.fromStorageString(c);return{state:u,response:a}}async processSigninResponse(r){let o=this._logger.create("processSigninResponse"),{state:s,response:a}=await this.readSigninResponseState(r,!0);return o.debug("received state from storage; validating response"),await this._validator.validateSigninResponse(a,s),a}async processResourceOwnerPasswordCredentials({username:r,password:o,skipUserInfo:s=!1,extraTokenParams:a={}}){let c=await this._tokenClient.exchangeCredentials({username:r,password:o,...a}),u=new et(new URLSearchParams);return Object.assign(u,c),await this._validator.validateCredentialsResponse(u,s),u}async useRefreshToken({state:r,timeoutInSeconds:o}){var s;let a;let c=this._logger.create("useRefreshToken");if(void 0===this.settings.refreshTokenAllowedScope)a=r.scope;else{let o=this.settings.refreshTokenAllowedScope.split(" "),c=(null==(s=r.scope)?void 0:s.split(" "))||[];a=c.filter(r=>o.includes(r)).join(" ")}let u=await this._tokenClient.exchangeRefreshToken({refresh_token:r.refresh_token,resource:r.resource,scope:a,timeoutInSeconds:o}),f=new et(new URLSearchParams);return Object.assign(f,u),c.debug("validating response",f),await this._validator.validateRefreshResponse(f,{...r,scope:a}),f}async createSignoutRequest({state:r,id_token_hint:o,client_id:s,request_type:a,post_logout_redirect_uri:c=this.settings.post_logout_redirect_uri,extraQueryParams:u=this.settings.extraQueryParams}={}){let f=this._logger.create("createSignoutRequest"),p=await this.metadataService.getEndSessionEndpoint();if(!p)throw f.throw(Error("No end session endpoint")),null;f.debug("Received end session endpoint",p),s||!c||o||(s=this.settings.client_id);let g=new er({url:p,id_token_hint:o,client_id:s,post_logout_redirect_uri:c,state_data:r,extraQueryParams:u,request_type:a});await this.clearStaleState();let v=g.state;return v&&(f.debug("Signout request has state to persist"),await this.settings.stateStore.set(v.id,v.toStorageString())),g}async readSignoutResponseState(r,o=!1){let s=this._logger.create("readSignoutResponseState"),a=new en(N.readParams(r,this.settings.response_mode));if(!a.state){if(s.debug("No state in response"),a.error)throw s.warn("Response was error:",a.error),new U(a);return{state:void 0,response:a}}let c=await this.settings.stateStore[o?"remove":"get"](a.state);if(!c)throw s.throw(Error("No matching state found in storage")),null;let u=Q.fromStorageString(c);return{state:u,response:a}}async processSignoutResponse(r){let o=this._logger.create("processSignoutResponse"),{state:s,response:a}=await this.readSignoutResponseState(r,!0);return s?(o.debug("Received state from storage; validating response"),this._validator.validateSignoutResponse(a,s)):o.debug("No state from storage; skipping response validation"),a}clearStaleState(){return this._logger.create("clearStaleState"),Q.clearStaleState(this.settings.stateStore,this.settings.staleStateAgeInSeconds)}async revokeToken(r,o){return this._logger.create("revokeToken"),await this._tokenClient.revoke({token:r,token_type_hint:o})}},ec=class{constructor(r){this._userManager=r,this._logger=new P("SessionMonitor"),this._start=async r=>{let o=r.session_state;if(!o)return;let s=this._logger.create("_start");if(r.profile?(this._sub=r.profile.sub,this._sid=r.profile.sid,s.debug("session_state",o,", sub",this._sub)):(this._sub=void 0,this._sid=void 0,s.debug("session_state",o,", anonymous user")),this._checkSessionIFrame){this._checkSessionIFrame.start(o);return}try{let r=await this._userManager.metadataService.getCheckSessionIframe();if(r){s.debug("initializing check session iframe");let a=this._userManager.settings.client_id,c=this._userManager.settings.checkSessionIntervalInSeconds,u=this._userManager.settings.stopCheckSessionOnError,f=new z(this._callback,a,r,c,u);await f.load(),this._checkSessionIFrame=f,f.start(o)}else s.warn("no check session iframe found in the metadata")}catch(r){s.error("Error from getCheckSessionIframe:",r instanceof Error?r.message:r)}},this._stop=()=>{let r=this._logger.create("_stop");if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&this._checkSessionIFrame.stop(),this._userManager.settings.monitorAnonymousSession){let o=setInterval(async()=>{clearInterval(o);try{let r=await this._userManager.querySessionStatus();if(r){let o={session_state:r.session_state,profile:r.sub&&r.sid?{sub:r.sub,sid:r.sid}:null};this._start(o)}}catch(o){r.error("error from querySessionStatus",o instanceof Error?o.message:o)}},1e3)}},this._callback=async()=>{let r=this._logger.create("_callback");try{let o=await this._userManager.querySessionStatus(),s=!0;o&&this._checkSessionIFrame?o.sub===this._sub?(s=!1,this._checkSessionIFrame.start(o.session_state),o.sid===this._sid?r.debug("same sub still logged in at OP, restarting check session iframe; session_state",o.session_state):(r.debug("same sub still logged in at OP, session state has changed, restarting check session iframe; session_state",o.session_state),this._userManager.events._raiseUserSessionChanged())):r.debug("different subject signed into OP",o.sub):r.debug("subject no longer signed into OP"),s?this._sub?this._userManager.events._raiseUserSignedOut():this._userManager.events._raiseUserSignedIn():r.debug("no change in session detected, no event to raise")}catch(o){this._sub&&(r.debug("Error calling queryCurrentSigninSession; raising signed out event",o),this._userManager.events._raiseUserSignedOut())}},r||this._logger.throw(Error("No user manager passed")),this._userManager.events.addUserLoaded(this._start),this._userManager.events.addUserUnloaded(this._stop),this._init().catch(r=>{this._logger.error(r)})}async _init(){this._logger.create("_init");let r=await this._userManager.getUser();if(r)this._start(r);else if(this._userManager.settings.monitorAnonymousSession){let r=await this._userManager.querySessionStatus();if(r){let o={session_state:r.session_state,profile:r.sub&&r.sid?{sub:r.sub,sid:r.sid}:null};this._start(o)}}}},eu=class{constructor(r){var o;this.id_token=r.id_token,this.session_state=null!=(o=r.session_state)?o:null,this.access_token=r.access_token,this.refresh_token=r.refresh_token,this.token_type=r.token_type,this.scope=r.scope,this.profile=r.profile,this.expires_at=r.expires_at,this.state=r.userState,this.url_state=r.url_state}get expires_in(){if(void 0!==this.expires_at)return this.expires_at-L.getEpochTime()}set expires_in(r){void 0!==r&&(this.expires_at=Math.floor(r)+L.getEpochTime())}get expired(){let r=this.expires_in;if(void 0!==r)return r<=0}get scopes(){var r,o;return null!=(o=null==(r=this.scope)?void 0:r.split(" "))?o:[]}toStorageString(){return new P("User").create("toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})}static fromStorageString(r){return P.createStatic("User","fromStorageString"),new eu(JSON.parse(r))}},el="oidc-client",ed=class{constructor(){this._abort=new C("Window navigation aborted"),this._disposeHandlers=new Set,this._window=null}async navigate(r){let o=this._logger.create("navigate");if(!this._window)throw Error("Attempted to navigate on a disposed window");o.debug("setting URL in window"),this._window.location.replace(r.url);let{url:s,keepOpen:a}=await new Promise((s,a)=>{let listener=c=>{var u;let f=c.data,p=null!=(u=r.scriptOrigin)?u:window.location.origin;if(c.origin===p&&(null==f?void 0:f.source)===el){try{let s=N.readParams(f.url,r.response_mode).get("state");if(s||o.warn("no state found in response url"),c.source!==this._window&&s!==r.state)return}catch(r){this._dispose(),a(Error("Invalid response from window"))}s(f)}};window.addEventListener("message",listener,!1),this._disposeHandlers.add(()=>window.removeEventListener("message",listener,!1)),this._disposeHandlers.add(this._abort.addHandler(r=>{this._dispose(),a(r)}))});return o.debug("got response from window"),this._dispose(),a||this.close(),{url:s}}_dispose(){for(let r of(this._logger.create("_dispose"),this._disposeHandlers))r();this._disposeHandlers.clear()}static _notifyParent(r,o,s=!1,a=window.location.origin){r.postMessage({source:el,url:o,keepOpen:s},a)}},eh={location:!1,toolbar:!1,height:640,closePopupWindowAfterInSeconds:-1},ef="_blank",ep=class extends V{constructor(r){let{popup_redirect_uri:o=r.redirect_uri,popup_post_logout_redirect_uri:s=r.post_logout_redirect_uri,popupWindowFeatures:a=eh,popupWindowTarget:c=ef,redirectMethod:u="assign",redirectTarget:f="self",iframeNotifyParentOrigin:p=r.iframeNotifyParentOrigin,iframeScriptOrigin:g=r.iframeScriptOrigin,silent_redirect_uri:v=r.redirect_uri,silentRequestTimeoutInSeconds:m=10,automaticSilentRenew:_=!0,validateSubOnSilentRenew:w=!0,includeIdTokenInSilentRenew:b=!1,monitorSession:S=!1,monitorAnonymousSession:x=!1,checkSessionIntervalInSeconds:k=2,query_status_response_type:O="code",stopCheckSessionOnError:T=!0,revokeTokenTypes:E=["access_token","refresh_token"],revokeTokensOnSignout:P=!1,includeIdTokenInSilentSignout:I=!1,accessTokenExpiringNotificationTimeInSeconds:C=60,userStore:A}=r;if(super(r),this.popup_redirect_uri=o,this.popup_post_logout_redirect_uri=s,this.popupWindowFeatures=a,this.popupWindowTarget=c,this.redirectMethod=u,this.redirectTarget=f,this.iframeNotifyParentOrigin=p,this.iframeScriptOrigin=g,this.silent_redirect_uri=v,this.silentRequestTimeoutInSeconds=m,this.automaticSilentRenew=_,this.validateSubOnSilentRenew=w,this.includeIdTokenInSilentRenew=b,this.monitorSession=S,this.monitorAnonymousSession=x,this.checkSessionIntervalInSeconds=k,this.stopCheckSessionOnError=T,this.query_status_response_type=O,this.revokeTokenTypes=E,this.revokeTokensOnSignout=P,this.includeIdTokenInSilentSignout=I,this.accessTokenExpiringNotificationTimeInSeconds=C,A)this.userStore=A;else{let r="undefined"!=typeof window?window.sessionStorage:new q;this.userStore=new G({store:r})}}},eg=class extends ed{constructor({silentRequestTimeoutInSeconds:r=10}){super(),this._logger=new P("IFrameWindow"),this._timeoutInSeconds=r,this._frame=eg.createHiddenIframe(),this._window=this._frame.contentWindow}static createHiddenIframe(){let r=window.document.createElement("iframe");return r.style.visibility="hidden",r.style.position="fixed",r.style.left="-1000px",r.style.top="0",r.width="0",r.height="0",window.document.body.appendChild(r),r}async navigate(r){this._logger.debug("navigate: Using timeout of:",this._timeoutInSeconds);let o=setTimeout(()=>this._abort.raise(new H("IFrame timed out without a response")),1e3*this._timeoutInSeconds);return this._disposeHandlers.add(()=>clearTimeout(o)),await super.navigate(r)}close(){var r;this._frame&&(this._frame.parentNode&&(this._frame.addEventListener("load",r=>{var o;let s=r.target;null==(o=s.parentNode)||o.removeChild(s),this._abort.raise(Error("IFrame removed from DOM"))},!0),null==(r=this._frame.contentWindow)||r.location.replace("about:blank")),this._frame=null),this._window=null}static notifyParent(r,o){return super._notifyParent(window.parent,r,!1,o)}},ev=class{constructor(r){this._settings=r,this._logger=new P("IFrameNavigator")}async prepare({silentRequestTimeoutInSeconds:r=this._settings.silentRequestTimeoutInSeconds}){return new eg({silentRequestTimeoutInSeconds:r})}async callback(r){this._logger.create("callback"),eg.notifyParent(r,this._settings.iframeNotifyParentOrigin)}},em=class extends ed{constructor({popupWindowTarget:r=ef,popupWindowFeatures:o={}}){super(),this._logger=new P("PopupWindow");let s=j.center({...eh,...o});this._window=window.open(void 0,r,j.serialize(s)),o.closePopupWindowAfterInSeconds&&o.closePopupWindowAfterInSeconds>0&&setTimeout(()=>{if(!this._window||"boolean"!=typeof this._window.closed||this._window.closed){this._abort.raise(Error("Popup blocked by user"));return}this.close()},1e3*o.closePopupWindowAfterInSeconds)}async navigate(r){var o;null==(o=this._window)||o.focus();let s=setInterval(()=>{(!this._window||this._window.closed)&&this._abort.raise(Error("Popup closed by user"))},500);return this._disposeHandlers.add(()=>clearInterval(s)),await super.navigate(r)}close(){this._window&&!this._window.closed&&(this._window.close(),this._abort.raise(Error("Popup closed"))),this._window=null}static notifyOpener(r,o){if(!window.opener)throw Error("No window.opener. Can't complete notification.");return super._notifyParent(window.opener,r,o)}},ey=class{constructor(r){this._settings=r,this._logger=new P("PopupNavigator")}async prepare({popupWindowFeatures:r=this._settings.popupWindowFeatures,popupWindowTarget:o=this._settings.popupWindowTarget}){return new em({popupWindowFeatures:r,popupWindowTarget:o})}async callback(r,{keepOpen:o=!1}){this._logger.create("callback"),em.notifyOpener(r,o)}},e_=class{constructor(r){this._settings=r,this._logger=new P("RedirectNavigator")}async prepare({redirectMethod:r=this._settings.redirectMethod,redirectTarget:o=this._settings.redirectTarget}){var s;let a;this._logger.create("prepare");let c=window.self;"top"===o&&(c=null!=(s=window.top)?s:window.self);let u=c.location[r].bind(c.location);return{navigate:async r=>{this._logger.create("navigate");let o=new Promise((r,o)=>{a=o});return u(r.url),await o},close:()=>{this._logger.create("close"),null==a||a(Error("Redirect aborted")),c.stop()}}}async callback(){}},ew=class extends B{constructor(r){super({expiringNotificationTimeInSeconds:r.accessTokenExpiringNotificationTimeInSeconds}),this._logger=new P("UserManagerEvents"),this._userLoaded=new C("User loaded"),this._userUnloaded=new C("User unloaded"),this._silentRenewError=new C("Silent renew error"),this._userSignedIn=new C("User signed in"),this._userSignedOut=new C("User signed out"),this._userSessionChanged=new C("User session changed")}load(r,o=!0){super.load(r),o&&this._userLoaded.raise(r)}unload(){super.unload(),this._userUnloaded.raise()}addUserLoaded(r){return this._userLoaded.addHandler(r)}removeUserLoaded(r){return this._userLoaded.removeHandler(r)}addUserUnloaded(r){return this._userUnloaded.addHandler(r)}removeUserUnloaded(r){return this._userUnloaded.removeHandler(r)}addSilentRenewError(r){return this._silentRenewError.addHandler(r)}removeSilentRenewError(r){return this._silentRenewError.removeHandler(r)}_raiseSilentRenewError(r){this._silentRenewError.raise(r)}addUserSignedIn(r){return this._userSignedIn.addHandler(r)}removeUserSignedIn(r){this._userSignedIn.removeHandler(r)}_raiseUserSignedIn(){this._userSignedIn.raise()}addUserSignedOut(r){return this._userSignedOut.addHandler(r)}removeUserSignedOut(r){this._userSignedOut.removeHandler(r)}_raiseUserSignedOut(){this._userSignedOut.raise()}addUserSessionChanged(r){return this._userSessionChanged.addHandler(r)}removeUserSessionChanged(r){this._userSessionChanged.removeHandler(r)}_raiseUserSessionChanged(){this._userSessionChanged.raise()}},eb=class{constructor(r){this._userManager=r,this._logger=new P("SilentRenewService"),this._isStarted=!1,this._retryTimer=new L("Retry Silent Renew"),this._tokenExpiring=async()=>{let r=this._logger.create("_tokenExpiring");try{await this._userManager.signinSilent(),r.debug("silent token renewal successful")}catch(o){if(o instanceof H){r.warn("ErrorTimeout from signinSilent:",o,"retry in 5s"),this._retryTimer.init(5);return}r.error("Error from signinSilent:",o),this._userManager.events._raiseSilentRenewError(o)}}}async start(){let r=this._logger.create("start");if(!this._isStarted){this._isStarted=!0,this._userManager.events.addAccessTokenExpiring(this._tokenExpiring),this._retryTimer.addHandler(this._tokenExpiring);try{await this._userManager.getUser()}catch(o){r.error("getUser error",o)}}}stop(){this._isStarted&&(this._retryTimer.cancel(),this._retryTimer.removeHandler(this._tokenExpiring),this._userManager.events.removeAccessTokenExpiring(this._tokenExpiring),this._isStarted=!1)}},eS=class{constructor(r,o){this.refresh_token=r.refresh_token,this.id_token=r.id_token,this.session_state=r.session_state,this.scope=r.scope,this.profile=r.profile,this.resource=o,this.data=r.state}},ex=class{constructor(r,o,s,a){this._logger=new P("UserManager"),this.settings=new ep(r),this._client=new ea(r),this._redirectNavigator=null!=o?o:new e_(this.settings),this._popupNavigator=null!=s?s:new ey(this.settings),this._iframeNavigator=null!=a?a:new ev(this.settings),this._events=new ew(this.settings),this._silentRenewService=new eb(this),this.settings.automaticSilentRenew&&this.startSilentRenew(),this._sessionMonitor=null,this.settings.monitorSession&&(this._sessionMonitor=new ec(this))}get events(){return this._events}get metadataService(){return this._client.metadataService}async getUser(){let r=this._logger.create("getUser"),o=await this._loadUser();return o?(r.info("user loaded"),this._events.load(o,!1),o):(r.info("user not found in storage"),null)}async removeUser(){let r=this._logger.create("removeUser");await this.storeUser(null),r.info("user removed from storage"),this._events.unload()}async signinRedirect(r={}){this._logger.create("signinRedirect");let{redirectMethod:o,...s}=r,a=await this._redirectNavigator.prepare({redirectMethod:o});await this._signinStart({request_type:"si:r",...s},a)}async signinRedirectCallback(r=window.location.href){let o=this._logger.create("signinRedirectCallback"),s=await this._signinEnd(r);return s.profile&&s.profile.sub?o.info("success, signed in subject",s.profile.sub):o.info("no subject"),s}async signinResourceOwnerCredentials({username:r,password:o,skipUserInfo:s=!1}){let a=this._logger.create("signinResourceOwnerCredential"),c=await this._client.processResourceOwnerPasswordCredentials({username:r,password:o,skipUserInfo:s,extraTokenParams:this.settings.extraTokenParams});a.debug("got signin response");let u=await this._buildUser(c);return u.profile&&u.profile.sub?a.info("success, signed in subject",u.profile.sub):a.info("no subject"),u}async signinPopup(r={}){let o=this._logger.create("signinPopup"),{popupWindowFeatures:s,popupWindowTarget:a,...c}=r,u=this.settings.popup_redirect_uri;u||o.throw(Error("No popup_redirect_uri configured"));let f=await this._popupNavigator.prepare({popupWindowFeatures:s,popupWindowTarget:a}),p=await this._signin({request_type:"si:p",redirect_uri:u,display:"popup",...c},f);return p&&(p.profile&&p.profile.sub?o.info("success, signed in subject",p.profile.sub):o.info("no subject")),p}async signinPopupCallback(r=window.location.href,o=!1){let s=this._logger.create("signinPopupCallback");await this._popupNavigator.callback(r,{keepOpen:o}),s.info("success")}async signinSilent(r={}){var o;let s;let a=this._logger.create("signinSilent"),{silentRequestTimeoutInSeconds:c,resource:u,...f}=r,p=await this._loadUser();if(null==p?void 0:p.refresh_token){a.debug("using refresh token");let r=new eS(p,u);return await this._useRefreshToken(r)}let g=this.settings.silent_redirect_uri;g||a.throw(Error("No silent_redirect_uri configured")),p&&this.settings.validateSubOnSilentRenew&&(a.debug("subject prior to silent renew:",p.profile.sub),s=p.profile.sub);let v=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:c});return(p=await this._signin({request_type:"si:s",redirect_uri:g,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?null==p?void 0:p.id_token:void 0,...f},v,s))&&((null==(o=p.profile)?void 0:o.sub)?a.info("success, signed in subject",p.profile.sub):a.info("no subject")),p}async _useRefreshToken(r){let o=await this._client.useRefreshToken({state:r,timeoutInSeconds:this.settings.silentRequestTimeoutInSeconds}),s=new eu({...r,...o});return await this.storeUser(s),this._events.load(s),s}async signinSilentCallback(r=window.location.href){let o=this._logger.create("signinSilentCallback");await this._iframeNavigator.callback(r),o.info("success")}async signinCallback(r=window.location.href){let{state:o}=await this._client.readSigninResponseState(r);switch(o.request_type){case"si:r":return await this.signinRedirectCallback(r);case"si:p":return await this.signinPopupCallback(r);case"si:s":return await this.signinSilentCallback(r);default:throw Error("invalid response_type in state")}}async signoutCallback(r=window.location.href,o=!1){let{state:s}=await this._client.readSignoutResponseState(r);if(s)switch(s.request_type){case"so:r":await this.signoutRedirectCallback(r);break;case"so:p":await this.signoutPopupCallback(r,o);break;case"so:s":await this.signoutSilentCallback(r);break;default:throw Error("invalid response_type in state")}}async querySessionStatus(r={}){let o=this._logger.create("querySessionStatus"),{silentRequestTimeoutInSeconds:s,...a}=r,c=this.settings.silent_redirect_uri;c||o.throw(Error("No silent_redirect_uri configured"));let u=await this._loadUser(),f=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:s}),p=await this._signinStart({request_type:"si:s",redirect_uri:c,prompt:"none",id_token_hint:this.settings.includeIdTokenInSilentRenew?null==u?void 0:u.id_token:void 0,response_type:this.settings.query_status_response_type,scope:"openid",skipUserInfo:!0,...a},f);try{let r=await this._client.processSigninResponse(p.url);if(o.debug("got signin response"),r.session_state&&r.profile.sub)return o.info("success for subject",r.profile.sub),{session_state:r.session_state,sub:r.profile.sub,sid:r.profile.sid};return o.info("success, user not authenticated"),null}catch(r){if(this.settings.monitorAnonymousSession&&r instanceof U)switch(r.error){case"login_required":case"consent_required":case"interaction_required":case"account_selection_required":return o.info("success for anonymous user"),{session_state:r.session_state}}throw r}}async _signin(r,o,s){let a=await this._signinStart(r,o);return await this._signinEnd(a.url,s)}async _signinStart(r,o){let s=this._logger.create("_signinStart");try{let a=await this._client.createSigninRequest(r);return s.debug("got signin request"),await o.navigate({url:a.url,state:a.state.id,response_mode:a.state.response_mode,scriptOrigin:this.settings.iframeScriptOrigin})}catch(r){throw s.debug("error after preparing navigator, closing navigator window"),o.close(),r}}async _signinEnd(r,o){let s=this._logger.create("_signinEnd"),a=await this._client.processSigninResponse(r);s.debug("got signin response");let c=await this._buildUser(a,o);return c}async _buildUser(r,o){let s=this._logger.create("_buildUser"),a=new eu(r);if(o){if(o!==a.profile.sub)throw s.debug("current user does not match user returned from signin. sub from signin:",a.profile.sub),new U({...r,error:"login_required"});s.debug("current user matches user returned from signin")}return await this.storeUser(a),s.debug("user stored"),this._events.load(a),a}async signoutRedirect(r={}){let o=this._logger.create("signoutRedirect"),{redirectMethod:s,...a}=r,c=await this._redirectNavigator.prepare({redirectMethod:s});await this._signoutStart({request_type:"so:r",post_logout_redirect_uri:this.settings.post_logout_redirect_uri,...a},c),o.info("success")}async signoutRedirectCallback(r=window.location.href){let o=this._logger.create("signoutRedirectCallback"),s=await this._signoutEnd(r);return o.info("success"),s}async signoutPopup(r={}){let o=this._logger.create("signoutPopup"),{popupWindowFeatures:s,popupWindowTarget:a,...c}=r,u=this.settings.popup_post_logout_redirect_uri,f=await this._popupNavigator.prepare({popupWindowFeatures:s,popupWindowTarget:a});await this._signout({request_type:"so:p",post_logout_redirect_uri:u,state:null==u?void 0:{},...c},f),o.info("success")}async signoutPopupCallback(r=window.location.href,o=!1){let s=this._logger.create("signoutPopupCallback");await this._popupNavigator.callback(r,{keepOpen:o}),s.info("success")}async _signout(r,o){let s=await this._signoutStart(r,o);return await this._signoutEnd(s.url)}async _signoutStart(r={},o){var s;let a=this._logger.create("_signoutStart");try{let c=await this._loadUser();a.debug("loaded current user from storage"),this.settings.revokeTokensOnSignout&&await this._revokeInternal(c);let u=r.id_token_hint||c&&c.id_token;u&&(a.debug("setting id_token_hint in signout request"),r.id_token_hint=u),await this.removeUser(),a.debug("user removed, creating signout request");let f=await this._client.createSignoutRequest(r);return a.debug("got signout request"),await o.navigate({url:f.url,state:null==(s=f.state)?void 0:s.id,scriptOrigin:this.settings.iframeScriptOrigin})}catch(r){throw a.debug("error after preparing navigator, closing navigator window"),o.close(),r}}async _signoutEnd(r){let o=this._logger.create("_signoutEnd"),s=await this._client.processSignoutResponse(r);return o.debug("got signout response"),s}async signoutSilent(r={}){var o;let s=this._logger.create("signoutSilent"),{silentRequestTimeoutInSeconds:a,...c}=r,u=this.settings.includeIdTokenInSilentSignout?null==(o=await this._loadUser())?void 0:o.id_token:void 0,f=this.settings.popup_post_logout_redirect_uri,p=await this._iframeNavigator.prepare({silentRequestTimeoutInSeconds:a});await this._signout({request_type:"so:s",post_logout_redirect_uri:f,id_token_hint:u,...c},p),s.info("success")}async signoutSilentCallback(r=window.location.href){let o=this._logger.create("signoutSilentCallback");await this._iframeNavigator.callback(r),o.info("success")}async revokeTokens(r){let o=await this._loadUser();await this._revokeInternal(o,r)}async _revokeInternal(r,o=this.settings.revokeTokenTypes){let s=this._logger.create("_revokeInternal");if(!r)return;let a=o.filter(o=>"string"==typeof r[o]);if(!a.length){s.debug("no need to revoke due to no token(s)");return}for(let o of a)await this._client.revokeToken(r[o],o),s.info(`${o} revoked successfully`),"access_token"!==o&&(r[o]=null);await this.storeUser(r),s.debug("user stored"),this._events.load(r)}startSilentRenew(){this._logger.create("startSilentRenew"),this._silentRenewService.start()}stopSilentRenew(){this._silentRenewService.stop()}get _userStoreKey(){return`user:${this.settings.authority}:${this.settings.client_id}`}async _loadUser(){let r=this._logger.create("_loadUser"),o=await this.settings.userStore.get(this._userStoreKey);return o?(r.debug("user storageString loaded"),eu.fromStorageString(o)):(r.debug("no user storageString"),null)}async storeUser(r){let o=this._logger.create("storeUser");if(r){o.debug("storing user");let s=r.toStorageString();await this.settings.userStore.set(this._userStoreKey,s)}else this._logger.debug("removing user"),await this.settings.userStore.remove(this._userStoreKey)}async clearStaleState(){await this._client.clearStaleState()}},ek="2.4.0"},42480:function(){},39022:function(r,o,s){r.exports=s(27740)},14418:function(r,o,s){r.exports=s(36490)},86:function(r,o,s){r.exports=s(88195)},58118:function(r,o,s){r.exports=s(48226)},29747:function(r,o,s){r.exports=s(91400)},96718:function(r,o,s){r.exports=s(45602)},8446:function(r,o,s){r.exports=s(31566)},66870:function(r,o,s){r.exports=s(3365)},80222:function(r,o,s){r.exports=s(61021)},28222:function(r,o,s){r.exports=s(69753)},5177:function(r,o,s){var a=s(20474).default,c=s(99685),u=s(3015),f=s(78341),p=s(5626),g=s(49756),v=s(50650),m=s(42186),_=s(74690),w=s(24440),b=s(26231);function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */r.exports=_regeneratorRuntime=function(){return s},r.exports.__esModule=!0,r.exports.default=r.exports;var o,s={},S=Object.prototype,x=S.hasOwnProperty,k=c||function(r,o,s){r[o]=s.value},O="function"==typeof u?u:{},T=O.iterator||"@@iterator",E=O.asyncIterator||"@@asyncIterator",P=O.toStringTag||"@@toStringTag";function define(r,o,s){return c(r,o,{value:s,enumerable:!0,configurable:!0,writable:!0}),r[o]}try{define({},"")}catch(r){define=function(r,o,s){return r[o]=s}}function wrap(r,s,a,c){var u,p,g=f((s&&s.prototype instanceof Generator?s:Generator).prototype);return k(g,"_invoke",{value:(u=new Context(c||[]),p=I,function(s,c){if(p===C)throw Error("Generator is already running");if(p===A){if("throw"===s)throw c;return{value:o,done:!0}}for(u.method=s,u.arg=c;;){var f=u.delegate;if(f){var g=function maybeInvokeDelegate(r,s){var a=s.method,c=r.iterator[a];if(c===o)return s.delegate=null,"throw"===a&&r.iterator.return&&(s.method="return",s.arg=o,maybeInvokeDelegate(r,s),"throw"===s.method)||"return"!==a&&(s.method="throw",s.arg=TypeError("The iterator does not provide a '"+a+"' method")),R;var u=tryCatch(c,r.iterator,s.arg);if("throw"===u.type)return s.method="throw",s.arg=u.arg,s.delegate=null,R;var f=u.arg;return f?f.done?(s[r.resultName]=f.value,s.next=r.nextLoc,"return"!==s.method&&(s.method="next",s.arg=o),s.delegate=null,R):f:(s.method="throw",s.arg=TypeError("iterator result is not an object"),s.delegate=null,R)}(f,u);if(g){if(g===R)continue;return g}}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if(p===I)throw p=A,u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);p=C;var v=tryCatch(r,a,u);if("normal"===v.type){if(p=u.done?A:"suspendedYield",v.arg===R)continue;return{value:v.arg,done:u.done}}"throw"===v.type&&(p=A,u.method="throw",u.arg=v.arg)}})}),g}function tryCatch(r,o,s){try{return{type:"normal",arg:r.call(o,s)}}catch(r){return{type:"throw",arg:r}}}s.wrap=wrap;var I="suspendedStart",C="executing",A="completed",R={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var j={};define(j,T,function(){return this});var L=p&&p(p(values([])));L&&L!==S&&x.call(L,T)&&(j=L);var N=GeneratorFunctionPrototype.prototype=Generator.prototype=f(j);function defineIteratorMethods(r){var o;g(o=["next","throw","return"]).call(o,function(o){define(r,o,function(r){return this._invoke(o,r)})})}function AsyncIterator(r,o){var s;k(this,"_invoke",{value:function(c,u){function callInvokeWithMethodAndArg(){return new o(function(s,f){!function invoke(s,c,u,f){var p=tryCatch(r[s],r,c);if("throw"!==p.type){var g=p.arg,v=g.value;return v&&"object"==a(v)&&x.call(v,"__await")?o.resolve(v.__await).then(function(r){invoke("next",r,u,f)},function(r){invoke("throw",r,u,f)}):o.resolve(v).then(function(r){g.value=r,u(g)},function(r){return invoke("throw",r,u,f)})}f(p.arg)}(c,u,s,f)})}return s=s?s.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function pushTryEntry(r){var o,s={tryLoc:r[0]};1 in r&&(s.catchLoc=r[1]),2 in r&&(s.finallyLoc=r[2],s.afterLoc=r[3]),v(o=this.tryEntries).call(o,s)}function resetTryEntry(r){var o=r.completion||{};o.type="normal",delete o.arg,r.completion=o}function Context(r){this.tryEntries=[{tryLoc:"root"}],g(r).call(r,pushTryEntry,this),this.reset(!0)}function values(r){if(r||""===r){var s=r[T];if(s)return s.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var c=-1,i=function next(){for(;++c<r.length;)if(x.call(r,c))return next.value=r[c],next.done=!1,next;return next.value=o,next.done=!0,next};return i.next=i}}throw TypeError(a(r)+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,k(N,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),k(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,P,"GeneratorFunction"),s.isGeneratorFunction=function(r){var o="function"==typeof r&&r.constructor;return!!o&&(o===GeneratorFunction||"GeneratorFunction"===(o.displayName||o.name))},s.mark=function(r){return m?m(r,GeneratorFunctionPrototype):(r.__proto__=GeneratorFunctionPrototype,define(r,P,"GeneratorFunction")),r.prototype=f(N),r},s.awrap=function(r){return{__await:r}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,E,function(){return this}),s.AsyncIterator=AsyncIterator,s.async=function(r,o,a,c,u){void 0===u&&(u=_);var f=new AsyncIterator(wrap(r,o,a,c),u);return s.isGeneratorFunction(o)?f:f.next().then(function(r){return r.done?r.value:f.next()})},defineIteratorMethods(N),define(N,P,"Generator"),define(N,T,function(){return this}),define(N,"toString",function(){return"[object Generator]"}),s.keys=function(r){var o=Object(r),s=[];for(var a in o)v(s).call(s,a);return w(s).call(s),function next(){for(;s.length;){var r=s.pop();if(r in o)return next.value=r,next.done=!1,next}return next.done=!0,next}},s.values=values,Context.prototype={constructor:Context,reset:function(r){var s;if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,g(s=this.tryEntries).call(s,resetTryEntry),!r)for(var a in this)"t"===a.charAt(0)&&x.call(this,a)&&!isNaN(+b(a).call(a,1))&&(this[a]=o)},stop:function(){this.done=!0;var r=this.tryEntries[0].completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var s=this;function handle(a,c){return u.type="throw",u.arg=r,s.next=a,c&&(s.method="next",s.arg=o),!!c}for(var a=this.tryEntries.length-1;a>=0;--a){var c=this.tryEntries[a],u=c.completion;if("root"===c.tryLoc)return handle("end");if(c.tryLoc<=this.prev){var f=x.call(c,"catchLoc"),p=x.call(c,"finallyLoc");if(f&&p){if(this.prev<c.catchLoc)return handle(c.catchLoc,!0);if(this.prev<c.finallyLoc)return handle(c.finallyLoc)}else if(f){if(this.prev<c.catchLoc)return handle(c.catchLoc,!0)}else{if(!p)throw Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return handle(c.finallyLoc)}}}},abrupt:function(r,o){for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s];if(a.tryLoc<=this.prev&&x.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var c=a;break}}c&&("break"===r||"continue"===r)&&c.tryLoc<=o&&o<=c.finallyLoc&&(c=null);var u=c?c.completion:{};return u.type=r,u.arg=o,c?(this.method="next",this.next=c.finallyLoc,R):this.complete(u)},complete:function(r,o){if("throw"===r.type)throw r.arg;return"break"===r.type||"continue"===r.type?this.next=r.arg:"return"===r.type?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):"normal"===r.type&&o&&(this.next=o),R},finish:function(r){for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o];if(s.finallyLoc===r)return this.complete(s.completion,s.afterLoc),resetTryEntry(s),R}},catch:function(r){for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o];if(s.tryLoc===r){var a=s.completion;if("throw"===a.type){var c=a.arg;resetTryEntry(s)}return c}}throw Error("illegal catch attempt")},delegateYield:function(r,s,a){return this.delegate={iterator:values(r),resultName:s,nextLoc:a},"next"===this.method&&(this.arg=o),R}},s}r.exports=_regeneratorRuntime,r.exports.__esModule=!0,r.exports.default=r.exports},20474:function(r,o,s){var a=s(3015),c=s(96424);function _typeof(o){return r.exports=_typeof="function"==typeof a&&"symbol"==typeof c?function(r){return typeof r}:function(r){return r&&"function"==typeof a&&r.constructor===a&&r!==a.prototype?"symbol":typeof r},r.exports.__esModule=!0,r.exports.default=r.exports,_typeof(o)}r.exports=_typeof,r.exports.__esModule=!0,r.exports.default=r.exports},30222:function(r,o,s){var a=s(5177)();r.exports=a;try{regeneratorRuntime=a}catch(r){"object"==typeof globalThis?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},97937:function(r,o,s){"use strict";var a=s(64818);r.exports=a},58158:function(r,o,s){"use strict";var a=s(429);r.exports=a},62044:function(r,o,s){"use strict";var a=s(14007);r.exports=a},35825:function(r,o,s){"use strict";var a=s(88195);r.exports=a},21665:function(r,o,s){"use strict";var a=s(55567);r.exports=a},64939:function(r,o,s){"use strict";var a=s(72181);r.exports=a},98059:function(r,o,s){"use strict";var a=s(76765);r.exports=a},1816:function(r,o,s){"use strict";var a=s(42093);r.exports=a},64437:function(r,o,s){"use strict";var a=s(45602);r.exports=a},74371:function(r,o,s){"use strict";var a=s(73740);r.exports=a},26477:function(r,o,s){"use strict";var a=s(74301);r.exports=a},89199:function(r,o,s){"use strict";var a=s(32948);s(52606),r.exports=a},90204:function(r,o,s){"use strict";var a=s(14454);s(73705),s(21935),s(11944),s(55539),r.exports=a},65003:function(r,o,s){"use strict";var a=s(4690);r.exports=a},25887:function(r,o,s){"use strict";var a=s(87263);r.exports=a},61352:function(r,o,s){"use strict";s(61345),s(21338);var a=s(29068);r.exports=a.Array.from},74016:function(r,o,s){"use strict";s(27509);var a=s(29068);r.exports=a.Array.isArray},39063:function(r,o,s){"use strict";s(51845);var a=s(30251);r.exports=a("Array","concat")},46264:function(r,o,s){"use strict";s(27826);var a=s(30251);r.exports=a("Array","filter")},40001:function(r,o,s){"use strict";s(62212);var a=s(30251);r.exports=a("Array","forEach")},4645:function(r,o,s){"use strict";s(37464);var a=s(30251);r.exports=a("Array","includes")},22295:function(r,o,s){"use strict";s(53549);var a=s(30251);r.exports=a("Array","push")},3246:function(r,o,s){"use strict";s(7901);var a=s(30251);r.exports=a("Array","reverse")},55586:function(r,o,s){"use strict";s(43837);var a=s(30251);r.exports=a("Array","slice")},509:function(r,o,s){"use strict";s(71997),s(61345);var a=s(10610);r.exports=a},97070:function(r,o,s){"use strict";var a=s(61727),c=s(39063),u=Array.prototype;r.exports=function(r){var o=r.concat;return r===u||a(u,r)&&o===u.concat?c:o}},41207:function(r,o,s){"use strict";var a=s(61727),c=s(46264),u=Array.prototype;r.exports=function(r){var o=r.filter;return r===u||a(u,r)&&o===u.filter?c:o}},8945:function(r,o,s){"use strict";var a=s(61727),c=s(4645),u=s(26504),f=Array.prototype,p=String.prototype;r.exports=function(r){var o=r.includes;return r===f||a(f,r)&&o===f.includes?c:"string"==typeof r||r===p||a(p,r)&&o===p.includes?u:o}},53264:function(r,o,s){"use strict";var a=s(61727),c=s(22295),u=Array.prototype;r.exports=function(r){var o=r.push;return r===u||a(u,r)&&o===u.push?c:o}},45051:function(r,o,s){"use strict";var a=s(61727),c=s(3246),u=Array.prototype;r.exports=function(r){var o=r.reverse;return r===u||a(u,r)&&o===u.reverse?c:o}},14558:function(r,o,s){"use strict";var a=s(61727),c=s(55586),u=Array.prototype;r.exports=function(r){var o=r.slice;return r===u||a(u,r)&&o===u.slice?c:o}},38858:function(r,o,s){"use strict";s(43225);var a=s(29068).Object;r.exports=function(r,o){return a.create(r,o)}},5310:function(r,o,s){"use strict";s(55575);var a=s(29068).Object,c=r.exports=function(r,o){return a.defineProperties(r,o)};a.defineProperties.sham&&(c.sham=!0)},88641:function(r,o,s){"use strict";s(19727);var a=s(29068).Object,c=r.exports=function(r,o,s){return a.defineProperty(r,o,s)};a.defineProperty.sham&&(c.sham=!0)},86915:function(r,o,s){"use strict";s(55118);var a=s(29068).Object,c=r.exports=function(r,o){return a.getOwnPropertyDescriptor(r,o)};a.getOwnPropertyDescriptor.sham&&(c.sham=!0)},35624:function(r,o,s){"use strict";s(89099);var a=s(29068);r.exports=a.Object.getOwnPropertyDescriptors},35553:function(r,o,s){"use strict";s(91967);var a=s(29068);r.exports=a.Object.getOwnPropertySymbols},72426:function(r,o,s){"use strict";s(17992);var a=s(29068);r.exports=a.Object.getPrototypeOf},50976:function(r,o,s){"use strict";s(73393);var a=s(29068);r.exports=a.Object.keys},51435:function(r,o,s){"use strict";s(33951);var a=s(29068);r.exports=a.Object.setPrototypeOf},58462:function(r,o,s){"use strict";s(96864),s(71997),s(86069),s(89927),s(18795),s(13233),s(6028),s(61345);var a=s(29068);r.exports=a.Promise},26504:function(r,o,s){"use strict";s(72586);var a=s(30251);r.exports=a("String","includes")},53941:function(r,o,s){"use strict";s(51845),s(86069),s(91967),s(342),s(48861),s(83092),s(86538),s(50459),s(32303),s(23236),s(91654),s(34833),s(20316),s(16925),s(83135),s(39390),s(25938),s(78518),s(39786),s(26716);var a=s(29068);r.exports=a.Symbol},24101:function(r,o,s){"use strict";s(71997),s(86069),s(61345),s(50459);var a=s(18248);r.exports=a.f("iterator")},47548:function(r,o,s){"use strict";s(18242),s(83135);var a=s(18248);r.exports=a.f("toPrimitive")},49756:function(r,o,s){"use strict";r.exports=s(80538)},50650:function(r,o,s){"use strict";r.exports=s(79788)},24440:function(r,o,s){"use strict";r.exports=s(90519)},26231:function(r,o,s){"use strict";r.exports=s(58189)},78341:function(r,o,s){"use strict";r.exports=s(90695)},99685:function(r,o,s){"use strict";r.exports=s(31685)},5626:function(r,o,s){"use strict";r.exports=s(10223)},42186:function(r,o,s){"use strict";r.exports=s(17013)},74690:function(r,o,s){"use strict";r.exports=s(890)},3015:function(r,o,s){"use strict";r.exports=s(1768)},96424:function(r,o,s){"use strict";r.exports=s(56228)},36961:function(r,o,s){"use strict";var a=s(97937);r.exports=a},86416:function(r,o,s){"use strict";var a=s(58158);r.exports=a},6919:function(r,o,s){"use strict";var a=s(62044);r.exports=a},80538:function(r,o,s){"use strict";var a=s(35825);r.exports=a},79788:function(r,o,s){"use strict";var a=s(21665);r.exports=a},90519:function(r,o,s){"use strict";var a=s(64939);r.exports=a},58189:function(r,o,s){"use strict";var a=s(98059);r.exports=a},90695:function(r,o,s){"use strict";var a=s(1816);r.exports=a},31685:function(r,o,s){"use strict";var a=s(64437);r.exports=a},10223:function(r,o,s){"use strict";var a=s(74371);r.exports=a},17013:function(r,o,s){"use strict";var a=s(26477);r.exports=a},890:function(r,o,s){"use strict";var a=s(89199);s(79791),s(3264),s(75415),s(79091),r.exports=a},1768:function(r,o,s){"use strict";var a=s(90204);s(93361),s(65539),s(84163),s(76499),s(66714),s(85704),s(16206),s(81548),s(11666),r.exports=a},56228:function(r,o,s){"use strict";var a=s(65003);r.exports=a},74360:function(r,o,s){"use strict";var a=s(25887);r.exports=a},45935:function(r,o,s){"use strict";var a=s(9934),c=s(1028),u=TypeError;r.exports=function(r){if(a(r))return r;throw new u(c(r)+" is not a function")}},73164:function(r,o,s){"use strict";var a=s(57936),c=s(1028),u=TypeError;r.exports=function(r){if(a(r))return r;throw new u(c(r)+" is not a constructor")}},37844:function(r,o,s){"use strict";var a=s(9934),c=String,u=TypeError;r.exports=function(r){if("object"==typeof r||a(r))return r;throw new u("Can't set "+c(r)+" as a prototype")}},66888:function(r){"use strict";r.exports=function(){}},40927:function(r,o,s){"use strict";var a=s(61727),c=TypeError;r.exports=function(r,o){if(a(o,r))return r;throw new c("Incorrect invocation")}},18879:function(r,o,s){"use strict";var a=s(39611),c=String,u=TypeError;r.exports=function(r){if(a(r))return r;throw new u(c(r)+" is not an object")}},96456:function(r,o,s){"use strict";var a=s(92503).forEach,c=s(38709)("forEach");r.exports=c?[].forEach:function(r){return a(this,r,arguments.length>1?arguments[1]:void 0)}},36019:function(r,o,s){"use strict";var a=s(29605),c=s(83417),u=s(42962),f=s(47799),p=s(19273),g=s(57936),v=s(37165),m=s(981),_=s(3029),w=s(10610),b=Array;r.exports=function(r){var o,s,S,x,k,O,T=u(r),E=g(this),P=arguments.length,I=P>1?arguments[1]:void 0,C=void 0!==I;C&&(I=a(I,P>2?arguments[2]:void 0));var A=w(T),R=0;if(A&&!(this===b&&p(A)))for(k=(x=_(T,A)).next,s=E?new this:[];!(S=c(k,x)).done;R++)O=C?f(x,I,[S.value,R],!0):S.value,m(s,R,O);else for(o=v(T),s=E?new this(o):b(o);o>R;R++)O=C?I(T[R],R):T[R],m(s,R,O);return s.length=R,s}},78520:function(r,o,s){"use strict";var a=s(73747),c=s(58100),u=s(37165),createMethod=function(r){return function(o,s,f){var p,g=a(o),v=u(g),m=c(f,v);if(r&&s!=s){for(;v>m;)if((p=g[m++])!=p)return!0}else for(;v>m;m++)if((r||m in g)&&g[m]===s)return r||m||0;return!r&&-1}};r.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},92503:function(r,o,s){"use strict";var a=s(29605),c=s(72537),u=s(108),f=s(42962),p=s(37165),g=s(7265),v=c([].push),createMethod=function(r){var o=1===r,s=2===r,c=3===r,m=4===r,_=6===r,w=7===r,b=5===r||_;return function(S,x,k,O){for(var T,E,P=f(S),I=u(P),C=a(x,k),A=p(I),R=0,j=O||g,L=o?j(S,A):s||w?j(S,0):void 0;A>R;R++)if((b||R in I)&&(E=C(T=I[R],R,P),r)){if(o)L[R]=E;else if(E)switch(r){case 3:return!0;case 5:return T;case 6:return R;case 2:v(L,T)}else switch(r){case 4:return!1;case 7:v(L,T)}}return _?-1:c||m?m:L}};r.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6),filterReject:createMethod(7)}},18388:function(r,o,s){"use strict";var a=s(49353),c=s(52442),u=s(15131),f=c("species");r.exports=function(r){return u>=51||!a(function(){var o=[];return(o.constructor={})[f]=function(){return{foo:1}},1!==o[r](Boolean).foo})}},38709:function(r,o,s){"use strict";var a=s(49353);r.exports=function(r,o){var s=[][r];return!!s&&a(function(){s.call(null,o||function(){return 1},1)})}},21145:function(r,o,s){"use strict";var a=s(43794),c=s(13527),u=TypeError,f=Object.getOwnPropertyDescriptor,p=a&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(r){return r instanceof TypeError}}();r.exports=p?function(r,o){if(c(r)&&!f(r,"length").writable)throw new u("Cannot set read only .length");return r.length=o}:function(r,o){return r.length=o}},14030:function(r,o,s){"use strict";var a=s(58100),c=s(37165),u=s(981),f=Array,p=Math.max;r.exports=function(r,o,s){for(var g=c(r),v=a(o,g),m=a(void 0===s?g:s,g),_=f(p(m-v,0)),w=0;v<m;v++,w++)u(_,w,r[v]);return _.length=w,_}},52076:function(r,o,s){"use strict";var a=s(72537);r.exports=a([].slice)},1388:function(r,o,s){"use strict";var a=s(13527),c=s(57936),u=s(39611),f=s(52442)("species"),p=Array;r.exports=function(r){var o;return a(r)&&(c(o=r.constructor)&&(o===p||a(o.prototype))?o=void 0:u(o)&&null===(o=o[f])&&(o=void 0)),void 0===o?p:o}},7265:function(r,o,s){"use strict";var a=s(1388);r.exports=function(r,o){return new(a(r))(0===o?0:o)}},47799:function(r,o,s){"use strict";var a=s(18879),c=s(273);r.exports=function(r,o,s,u){try{return u?o(a(s)[0],s[1]):o(s)}catch(o){c(r,"throw",o)}}},97670:function(r,o,s){"use strict";var a=s(52442)("iterator"),c=!1;try{var u=0,f={next:function(){return{done:!!u++}},return:function(){c=!0}};f[a]=function(){return this},Array.from(f,function(){throw 2})}catch(r){}r.exports=function(r,o){try{if(!o&&!c)return!1}catch(r){return!1}var s=!1;try{var u={};u[a]=function(){return{next:function(){return{done:s=!0}}}},r(u)}catch(r){}return s}},44650:function(r,o,s){"use strict";var a=s(72537),c=a({}.toString),u=a("".slice);r.exports=function(r){return u(c(r),8,-1)}},56397:function(r,o,s){"use strict";var a=s(23220),c=s(9934),u=s(44650),f=s(52442)("toStringTag"),p=Object,g="Arguments"===u(function(){return arguments}()),tryGet=function(r,o){try{return r[o]}catch(r){}};r.exports=a?u:function(r){var o,s,a;return void 0===r?"Undefined":null===r?"Null":"string"==typeof(s=tryGet(o=p(r),f))?s:g?u(o):"Object"===(a=u(o))&&c(o.callee)?"Arguments":a}},95895:function(r,o,s){"use strict";var a=s(99027),c=s(704),u=s(45396),f=s(81890);r.exports=function(r,o,s){for(var p=c(o),g=f.f,v=u.f,m=0;m<p.length;m++){var _=p[m];a(r,_)||s&&a(s,_)||g(r,_,v(o,_))}}},15674:function(r,o,s){"use strict";var a=s(52442)("match");r.exports=function(r){var o=/./;try{"/./"[r](o)}catch(s){try{return o[a]=!1,"/./"[r](o)}catch(r){}}return!1}},24853:function(r,o,s){"use strict";var a=s(49353);r.exports=!a(function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype})},27474:function(r){"use strict";r.exports=function(r,o){return{value:r,done:o}}},7151:function(r,o,s){"use strict";var a=s(43794),c=s(81890),u=s(51567);r.exports=a?function(r,o,s){return c.f(r,o,u(1,s))}:function(r,o,s){return r[o]=s,r}},51567:function(r){"use strict";r.exports=function(r,o){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:o}}},981:function(r,o,s){"use strict";var a=s(91525),c=s(81890),u=s(51567);r.exports=function(r,o,s){var f=a(o);f in r?c.f(r,f,u(0,s)):r[f]=s}},63089:function(r,o,s){"use strict";var a=s(81890);r.exports=function(r,o,s){return a.f(r,o,s)}},31733:function(r,o,s){"use strict";var a=s(7151);r.exports=function(r,o,s,c){return c&&c.enumerable?r[o]=s:a(r,o,s),r}},20543:function(r,o,s){"use strict";var a=s(5685),c=Object.defineProperty;r.exports=function(r,o){try{c(a,r,{value:o,configurable:!0,writable:!0})}catch(s){a[r]=o}return o}},43794:function(r,o,s){"use strict";var a=s(49353);r.exports=!a(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},9945:function(r){"use strict";var o="object"==typeof document&&document.all;r.exports={all:o,IS_HTMLDDA:void 0===o&&void 0!==o}},23729:function(r,o,s){"use strict";var a=s(5685),c=s(39611),u=a.document,f=c(u)&&c(u.createElement);r.exports=function(r){return f?u.createElement(r):{}}},9939:function(r){"use strict";var o=TypeError;r.exports=function(r){if(r>9007199254740991)throw o("Maximum allowed index exceeded");return r}},18920:function(r){"use strict";r.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3:function(r,o,s){"use strict";var a=s(99207),c=s(44408);r.exports=!a&&!c&&"object"==typeof window&&"object"==typeof document},99207:function(r){"use strict";r.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},78309:function(r,o,s){"use strict";var a=s(13642);r.exports=/ipad|iphone|ipod/i.test(a)&&"undefined"!=typeof Pebble},28816:function(r,o,s){"use strict";var a=s(13642);r.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},44408:function(r,o,s){"use strict";var a=s(5685),c=s(44650);r.exports="process"===c(a.process)},9267:function(r,o,s){"use strict";var a=s(13642);r.exports=/web0s(?!.*chrome)/i.test(a)},13642:function(r){"use strict";r.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},15131:function(r,o,s){"use strict";var a,c,u=s(5685),f=s(13642),p=u.process,g=u.Deno,v=p&&p.versions||g&&g.version,m=v&&v.v8;m&&(c=(a=m.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!c&&f&&(!(a=f.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=f.match(/Chrome\/(\d+)/))&&(c=+a[1]),r.exports=c},30270:function(r){"use strict";r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7918:function(r,o,s){"use strict";var a=s(72537),c=Error,u=a("".replace),f=String(new c("zxcasd").stack),p=/\n\s*at [^:]*:[^\n]*/,g=p.test(f);r.exports=function(r,o){if(g&&"string"==typeof r&&!c.prepareStackTrace)for(;o--;)r=u(r,p,"");return r}},91794:function(r,o,s){"use strict";var a=s(7151),c=s(7918),u=s(84671),f=Error.captureStackTrace;r.exports=function(r,o,s,p){u&&(f?f(r,o):a(r,"stack",c(s,p)))}},84671:function(r,o,s){"use strict";var a=s(49353),c=s(51567);r.exports=!a(function(){var r=Error("a");return!("stack"in r)||(Object.defineProperty(r,"stack",c(1,7)),7!==r.stack)})},74715:function(r,o,s){"use strict";var a=s(5685),c=s(10145),u=s(77531),f=s(9934),p=s(45396).f,g=s(35703),v=s(29068),m=s(29605),_=s(7151),w=s(99027),wrapConstructor=function(r){var Wrapper=function(o,s,a){if(this instanceof Wrapper){switch(arguments.length){case 0:return new r;case 1:return new r(o);case 2:return new r(o,s)}return new r(o,s,a)}return c(r,this,arguments)};return Wrapper.prototype=r.prototype,Wrapper};r.exports=function(r,o){var s,c,b,S,x,k,O,T,E,P=r.target,I=r.global,C=r.stat,A=r.proto,R=I?a:C?a[P]:(a[P]||{}).prototype,j=I?v:v[P]||_(v,P,{})[P],L=j.prototype;for(S in o)c=!(s=g(I?S:P+(C?".":"#")+S,r.forced))&&R&&w(R,S),k=j[S],c&&(O=r.dontCallGetSet?(E=p(R,S))&&E.value:R[S]),x=c&&O?O:o[S],(!c||typeof k!=typeof x)&&(T=r.bind&&c?m(x,a):r.wrap&&c?wrapConstructor(x):A&&f(x)?u(x):x,(r.sham||x&&x.sham||k&&k.sham)&&_(T,"sham",!0),_(j,S,T),A&&(w(v,b=P+"Prototype")||_(v,b,{}),_(v[b],S,x),r.real&&L&&(s||!L[S])&&_(L,S,x)))}},49353:function(r){"use strict";r.exports=function(r){try{return!!r()}catch(r){return!0}}},10145:function(r,o,s){"use strict";var a=s(6229),c=Function.prototype,u=c.apply,f=c.call;r.exports="object"==typeof Reflect&&Reflect.apply||(a?f.bind(u):function(){return f.apply(u,arguments)})},29605:function(r,o,s){"use strict";var a=s(77531),c=s(45935),u=s(6229),f=a(a.bind);r.exports=function(r,o){return c(r),void 0===o?r:u?f(r,o):function(){return r.apply(o,arguments)}}},6229:function(r,o,s){"use strict";var a=s(49353);r.exports=!a(function(){var r=(function(){}).bind();return"function"!=typeof r||r.hasOwnProperty("prototype")})},83417:function(r,o,s){"use strict";var a=s(6229),c=Function.prototype.call;r.exports=a?c.bind(c):function(){return c.apply(c,arguments)}},28766:function(r,o,s){"use strict";var a=s(43794),c=s(99027),u=Function.prototype,f=a&&Object.getOwnPropertyDescriptor,p=c(u,"name"),g=p&&(!a||a&&f(u,"name").configurable);r.exports={EXISTS:p,PROPER:p&&"something"===(function(){}).name,CONFIGURABLE:g}},47665:function(r,o,s){"use strict";var a=s(72537),c=s(45935);r.exports=function(r,o,s){try{return a(c(Object.getOwnPropertyDescriptor(r,o)[s]))}catch(r){}}},77531:function(r,o,s){"use strict";var a=s(44650),c=s(72537);r.exports=function(r){if("Function"===a(r))return c(r)}},72537:function(r,o,s){"use strict";var a=s(6229),c=Function.prototype,u=c.call,f=a&&c.bind.bind(u,u);r.exports=a?f:function(r){return function(){return u.apply(r,arguments)}}},30251:function(r,o,s){"use strict";var a=s(5685),c=s(29068);r.exports=function(r,o){var s=c[r+"Prototype"],u=s&&s[o];if(u)return u;var f=a[r],p=f&&f.prototype;return p&&p[o]}},87192:function(r,o,s){"use strict";var a=s(29068),c=s(5685),u=s(9934),aFunction=function(r){return u(r)?r:void 0};r.exports=function(r,o){return arguments.length<2?aFunction(a[r])||aFunction(c[r]):a[r]&&a[r][o]||c[r]&&c[r][o]}},10610:function(r,o,s){"use strict";var a=s(56397),c=s(45752),u=s(44133),f=s(99234),p=s(52442)("iterator");r.exports=function(r){if(!u(r))return c(r,p)||c(r,"@@iterator")||f[a(r)]}},3029:function(r,o,s){"use strict";var a=s(83417),c=s(45935),u=s(18879),f=s(1028),p=s(10610),g=TypeError;r.exports=function(r,o){var s=arguments.length<2?p(r):o;if(c(s))return u(a(s,r));throw new g(f(r)+" is not iterable")}},99647:function(r,o,s){"use strict";var a=s(72537),c=s(13527),u=s(9934),f=s(44650),p=s(71182),g=a([].push);r.exports=function(r){if(u(r))return r;if(c(r)){for(var o=r.length,s=[],a=0;a<o;a++){var v=r[a];"string"==typeof v?g(s,v):("number"==typeof v||"Number"===f(v)||"String"===f(v))&&g(s,p(v))}var m=s.length,_=!0;return function(r,o){if(_)return _=!1,o;if(c(this))return o;for(var a=0;a<m;a++)if(s[a]===r)return o}}}},45752:function(r,o,s){"use strict";var a=s(45935),c=s(44133);r.exports=function(r,o){var s=r[o];return c(s)?void 0:a(s)}},5685:function(r,o,s){"use strict";var check=function(r){return r&&r.Math===Math&&r};r.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof s.g&&s.g)||function(){return this}()||this||Function("return this")()},99027:function(r,o,s){"use strict";var a=s(72537),c=s(42962),u=a({}.hasOwnProperty);r.exports=Object.hasOwn||function(r,o){return u(c(r),o)}},39775:function(r){"use strict";r.exports={}},92210:function(r){"use strict";r.exports=function(r,o){try{1==arguments.length?console.error(r):console.error(r,o)}catch(r){}}},26395:function(r,o,s){"use strict";var a=s(87192);r.exports=a("document","documentElement")},59548:function(r,o,s){"use strict";var a=s(43794),c=s(49353),u=s(23729);r.exports=!a&&!c(function(){return 7!==Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a})},108:function(r,o,s){"use strict";var a=s(72537),c=s(49353),u=s(44650),f=Object,p=a("".split);r.exports=c(function(){return!f("z").propertyIsEnumerable(0)})?function(r){return"String"===u(r)?p(r,""):f(r)}:f},83698:function(r,o,s){"use strict";var a=s(72537),c=s(9934),u=s(35509),f=a(Function.toString);c(u.inspectSource)||(u.inspectSource=function(r){return f(r)}),r.exports=u.inspectSource},72071:function(r,o,s){"use strict";var a=s(39611),c=s(7151);r.exports=function(r,o){a(o)&&"cause"in o&&c(r,"cause",o.cause)}},34084:function(r,o,s){"use strict";var a,c,u,f=s(79033),p=s(5685),g=s(39611),v=s(7151),m=s(99027),_=s(35509),w=s(43287),b=s(39775),S="Object already initialized",x=p.TypeError,k=p.WeakMap;if(f||_.state){var O=_.state||(_.state=new k);O.get=O.get,O.has=O.has,O.set=O.set,a=function(r,o){if(O.has(r))throw new x(S);return o.facade=r,O.set(r,o),o},c=function(r){return O.get(r)||{}},u=function(r){return O.has(r)}}else{var T=w("state");b[T]=!0,a=function(r,o){if(m(r,T))throw new x(S);return o.facade=r,v(r,T,o),o},c=function(r){return m(r,T)?r[T]:{}},u=function(r){return m(r,T)}}r.exports={set:a,get:c,has:u,enforce:function(r){return u(r)?c(r):a(r,{})},getterFor:function(r){return function(o){var s;if(!g(o)||(s=c(o)).type!==r)throw new x("Incompatible receiver, "+r+" required");return s}}}},19273:function(r,o,s){"use strict";var a=s(52442),c=s(99234),u=a("iterator"),f=Array.prototype;r.exports=function(r){return void 0!==r&&(c.Array===r||f[u]===r)}},13527:function(r,o,s){"use strict";var a=s(44650);r.exports=Array.isArray||function(r){return"Array"===a(r)}},9934:function(r,o,s){"use strict";var a=s(9945),c=a.all;r.exports=a.IS_HTMLDDA?function(r){return"function"==typeof r||r===c}:function(r){return"function"==typeof r}},57936:function(r,o,s){"use strict";var a=s(72537),c=s(49353),u=s(9934),f=s(56397),p=s(87192),g=s(83698),noop=function(){},v=[],m=p("Reflect","construct"),_=/^\s*(?:class|function)\b/,w=a(_.exec),b=!_.test(noop),isConstructorModern=function(r){if(!u(r))return!1;try{return m(noop,v,r),!0}catch(r){return!1}},isConstructorLegacy=function(r){if(!u(r))return!1;switch(f(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return b||!!w(_,g(r))}catch(r){return!0}};isConstructorLegacy.sham=!0,r.exports=!m||c(function(){var r;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){r=!0})||r})?isConstructorLegacy:isConstructorModern},35703:function(r,o,s){"use strict";var a=s(49353),c=s(9934),u=/#|\.prototype\./,isForced=function(r,o){var s=p[f(r)];return s===v||s!==g&&(c(o)?a(o):!!o)},f=isForced.normalize=function(r){return String(r).replace(u,".").toLowerCase()},p=isForced.data={},g=isForced.NATIVE="N",v=isForced.POLYFILL="P";r.exports=isForced},44133:function(r){"use strict";r.exports=function(r){return null==r}},39611:function(r,o,s){"use strict";var a=s(9934),c=s(9945),u=c.all;r.exports=c.IS_HTMLDDA?function(r){return"object"==typeof r?null!==r:a(r)||r===u}:function(r){return"object"==typeof r?null!==r:a(r)}},14081:function(r){"use strict";r.exports=!0},43936:function(r,o,s){"use strict";var a=s(39611),c=s(44650),u=s(52442)("match");r.exports=function(r){var o;return a(r)&&(void 0!==(o=r[u])?!!o:"RegExp"===c(r))}},40205:function(r,o,s){"use strict";var a=s(87192),c=s(9934),u=s(61727),f=s(80016),p=Object;r.exports=f?function(r){return"symbol"==typeof r}:function(r){var o=a("Symbol");return c(o)&&u(o.prototype,p(r))}},89614:function(r,o,s){"use strict";var a=s(29605),c=s(83417),u=s(18879),f=s(1028),p=s(19273),g=s(37165),v=s(61727),m=s(3029),_=s(10610),w=s(273),b=TypeError,Result=function(r,o){this.stopped=r,this.result=o},S=Result.prototype;r.exports=function(r,o,s){var x,k,O,T,E,P,I,C=s&&s.that,A=!!(s&&s.AS_ENTRIES),R=!!(s&&s.IS_RECORD),j=!!(s&&s.IS_ITERATOR),L=!!(s&&s.INTERRUPTED),N=a(o,C),stop=function(r){return x&&w(x,"normal",r),new Result(!0,r)},callFn=function(r){return A?(u(r),L?N(r[0],r[1],stop):N(r[0],r[1])):L?N(r,stop):N(r)};if(R)x=r.iterator;else if(j)x=r;else{if(!(k=_(r)))throw new b(f(r)+" is not iterable");if(p(k)){for(O=0,T=g(r);T>O;O++)if((E=callFn(r[O]))&&v(S,E))return E;return new Result(!1)}x=m(r,k)}for(P=R?r.next:x.next;!(I=c(P,x)).done;){try{E=callFn(I.value)}catch(r){w(x,"throw",r)}if("object"==typeof E&&E&&v(S,E))return E}return new Result(!1)}},273:function(r,o,s){"use strict";var a=s(83417),c=s(18879),u=s(45752);r.exports=function(r,o,s){var f,p;c(r);try{if(!(f=u(r,"return"))){if("throw"===o)throw s;return s}f=a(f,r)}catch(r){p=!0,f=r}if("throw"===o)throw s;if(p)throw f;return c(f),s}},14406:function(r,o,s){"use strict";var a=s(8176).IteratorPrototype,c=s(33010),u=s(51567),f=s(84196),p=s(99234),returnThis=function(){return this};r.exports=function(r,o,s,g){var v=o+" Iterator";return r.prototype=c(a,{next:u(+!g,s)}),f(r,v,!1,!0),p[v]=returnThis,r}},6483:function(r,o,s){"use strict";var a=s(74715),c=s(83417),u=s(14081),f=s(28766),p=s(9934),g=s(14406),v=s(63863),m=s(31350),_=s(84196),w=s(7151),b=s(31733),S=s(52442),x=s(99234),k=s(8176),O=f.PROPER,T=f.CONFIGURABLE,E=k.IteratorPrototype,P=k.BUGGY_SAFARI_ITERATORS,I=S("iterator"),C="keys",A="values",R="entries",returnThis=function(){return this};r.exports=function(r,o,s,f,S,k,j){g(s,o,f);var L,N,U,getIterationMethod=function(r){if(r===S&&W)return W;if(!P&&r&&r in z)return z[r];switch(r){case C:case A:case R:return function(){return new s(this,r)}}return function(){return new s(this)}},H=o+" Iterator",B=!1,z=r.prototype,q=z[I]||z["@@iterator"]||S&&z[S],W=!P&&q||getIterationMethod(S),K="Array"===o&&z.entries||q;if(K&&(L=v(K.call(new r)))!==Object.prototype&&L.next&&(u||v(L)===E||(m?m(L,E):p(L[I])||b(L,I,returnThis)),_(L,H,!0,!0),u&&(x[H]=returnThis)),O&&S===A&&q&&q.name!==A&&(!u&&T?w(z,"name",A):(B=!0,W=function(){return c(q,this)})),S){if(N={values:getIterationMethod(A),keys:k?W:getIterationMethod(C),entries:getIterationMethod(R)},j)for(U in N)!P&&!B&&U in z||b(z,U,N[U]);else a({target:o,proto:!0,forced:P||B},N)}return(!u||j)&&z[I]!==W&&b(z,I,W,{name:S}),x[o]=W,N}},8176:function(r,o,s){"use strict";var a,c,u,f=s(49353),p=s(9934),g=s(39611),v=s(33010),m=s(63863),_=s(31733),w=s(52442),b=s(14081),S=w("iterator"),x=!1;[].keys&&("next"in(u=[].keys())?(c=m(m(u)))!==Object.prototype&&(a=c):x=!0),!g(a)||f(function(){var r={};return a[S].call(r)!==r})?a={}:b&&(a=v(a)),p(a[S])||_(a,S,function(){return this}),r.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:x}},99234:function(r){"use strict";r.exports={}},37165:function(r,o,s){"use strict";var a=s(71904);r.exports=function(r){return a(r.length)}},88836:function(r){"use strict";var o=Math.ceil,s=Math.floor;r.exports=Math.trunc||function(r){var a=+r;return(a>0?s:o)(a)}},45996:function(r,o,s){"use strict";var a,c,u,f,p,g=s(5685),v=s(29605),m=s(45396).f,_=s(66727).set,w=s(55721),b=s(28816),S=s(78309),x=s(9267),k=s(44408),O=g.MutationObserver||g.WebKitMutationObserver,T=g.document,E=g.process,P=g.Promise,I=m(g,"queueMicrotask"),C=I&&I.value;if(!C){var A=new w,flush=function(){var r,o;for(k&&(r=E.domain)&&r.exit();o=A.get();)try{o()}catch(r){throw A.head&&a(),r}r&&r.enter()};b||k||x||!O||!T?!S&&P&&P.resolve?((f=P.resolve(void 0)).constructor=P,p=v(f.then,f),a=function(){p(flush)}):k?a=function(){E.nextTick(flush)}:(_=v(_,g),a=function(){_(flush)}):(c=!0,u=T.createTextNode(""),new O(flush).observe(u,{characterData:!0}),a=function(){u.data=c=!c}),C=function(r){A.head||a(),A.add(r)}}r.exports=C},62157:function(r,o,s){"use strict";var a=s(45935),c=TypeError,PromiseCapability=function(r){var o,s;this.promise=new r(function(r,a){if(void 0!==o||void 0!==s)throw new c("Bad Promise constructor");o=r,s=a}),this.resolve=a(o),this.reject=a(s)};r.exports.f=function(r){return new PromiseCapability(r)}},60081:function(r,o,s){"use strict";var a=s(71182);r.exports=function(r,o){return void 0===r?arguments.length<2?"":o:a(r)}},54683:function(r,o,s){"use strict";var a=s(43936),c=TypeError;r.exports=function(r){if(a(r))throw new c("The method doesn't accept regular expressions");return r}},33010:function(r,o,s){"use strict";var a,c=s(18879),u=s(47832),f=s(30270),p=s(39775),g=s(26395),v=s(23729),m=s(43287),_="prototype",w="script",b=m("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(r){return"<"+w+">"+r+"</"+w+">"},NullProtoObjectViaActiveX=function(r){r.write(scriptTag("")),r.close();var o=r.parentWindow.Object;return r=null,o},NullProtoObjectViaIFrame=function(){var r,o=v("iframe");return o.style.display="none",g.appendChild(o),o.src=String("java"+w+":"),(r=o.contentWindow.document).open(),r.write(scriptTag("document.F=Object")),r.close(),r.F},NullProtoObject=function(){try{a=new ActiveXObject("htmlfile")}catch(r){}NullProtoObject="undefined"!=typeof document?document.domain&&a?NullProtoObjectViaActiveX(a):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(a);for(var r=f.length;r--;)delete NullProtoObject[_][f[r]];return NullProtoObject()};p[b]=!0,r.exports=Object.create||function(r,o){var s;return null!==r?(EmptyConstructor[_]=c(r),s=new EmptyConstructor,EmptyConstructor[_]=null,s[b]=r):s=NullProtoObject(),void 0===o?s:u.f(s,o)}},47832:function(r,o,s){"use strict";var a=s(43794),c=s(77956),u=s(81890),f=s(18879),p=s(73747),g=s(67508);o.f=a&&!c?Object.defineProperties:function(r,o){f(r);for(var s,a=p(o),c=g(o),v=c.length,m=0;v>m;)u.f(r,s=c[m++],a[s]);return r}},81890:function(r,o,s){"use strict";var a=s(43794),c=s(59548),u=s(77956),f=s(18879),p=s(91525),g=TypeError,v=Object.defineProperty,m=Object.getOwnPropertyDescriptor,_="enumerable",w="configurable",b="writable";o.f=a?u?function(r,o,s){if(f(r),o=p(o),f(s),"function"==typeof r&&"prototype"===o&&"value"in s&&b in s&&!s[b]){var a=m(r,o);a&&a[b]&&(r[o]=s.value,s={configurable:w in s?s[w]:a[w],enumerable:_ in s?s[_]:a[_],writable:!1})}return v(r,o,s)}:v:function(r,o,s){if(f(r),o=p(o),f(s),c)try{return v(r,o,s)}catch(r){}if("get"in s||"set"in s)throw new g("Accessors not supported");return"value"in s&&(r[o]=s.value),r}},45396:function(r,o,s){"use strict";var a=s(43794),c=s(83417),u=s(99106),f=s(51567),p=s(73747),g=s(91525),v=s(99027),m=s(59548),_=Object.getOwnPropertyDescriptor;o.f=a?_:function(r,o){if(r=p(r),o=g(o),m)try{return _(r,o)}catch(r){}if(v(r,o))return f(!c(u.f,r,o),r[o])}},87195:function(r,o,s){"use strict";var a=s(44650),c=s(73747),u=s(94582).f,f=s(14030),p="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(r){try{return u(r)}catch(r){return f(p)}};r.exports.f=function(r){return p&&"Window"===a(r)?getWindowNames(r):u(c(r))}},94582:function(r,o,s){"use strict";var a=s(60097),c=s(30270).concat("length","prototype");o.f=Object.getOwnPropertyNames||function(r){return a(r,c)}},56953:function(r,o){"use strict";o.f=Object.getOwnPropertySymbols},63863:function(r,o,s){"use strict";var a=s(99027),c=s(9934),u=s(42962),f=s(43287),p=s(24853),g=f("IE_PROTO"),v=Object,m=v.prototype;r.exports=p?v.getPrototypeOf:function(r){var o=u(r);if(a(o,g))return o[g];var s=o.constructor;return c(s)&&o instanceof s?s.prototype:o instanceof v?m:null}},61727:function(r,o,s){"use strict";var a=s(72537);r.exports=a({}.isPrototypeOf)},60097:function(r,o,s){"use strict";var a=s(72537),c=s(99027),u=s(73747),f=s(78520).indexOf,p=s(39775),g=a([].push);r.exports=function(r,o){var s,a=u(r),v=0,m=[];for(s in a)!c(p,s)&&c(a,s)&&g(m,s);for(;o.length>v;)c(a,s=o[v++])&&(~f(m,s)||g(m,s));return m}},67508:function(r,o,s){"use strict";var a=s(60097),c=s(30270);r.exports=Object.keys||function(r){return a(r,c)}},99106:function(r,o){"use strict";var s={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,c=a&&!s.call({1:2},1);o.f=c?function(r){var o=a(this,r);return!!o&&o.enumerable}:s},31350:function(r,o,s){"use strict";var a=s(47665),c=s(18879),u=s(37844);r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r,o=!1,s={};try{(r=a(Object.prototype,"__proto__","set"))(s,[]),o=s instanceof Array}catch(r){}return function(s,a){return c(s),u(a),o?r(s,a):s.__proto__=a,s}}():void 0)},48516:function(r,o,s){"use strict";var a=s(23220),c=s(56397);r.exports=a?({}).toString:function(){return"[object "+c(this)+"]"}},58733:function(r,o,s){"use strict";var a=s(83417),c=s(9934),u=s(39611),f=TypeError;r.exports=function(r,o){var s,p;if("string"===o&&c(s=r.toString)&&!u(p=a(s,r))||c(s=r.valueOf)&&!u(p=a(s,r))||"string"!==o&&c(s=r.toString)&&!u(p=a(s,r)))return p;throw new f("Can't convert object to primitive value")}},704:function(r,o,s){"use strict";var a=s(87192),c=s(72537),u=s(94582),f=s(56953),p=s(18879),g=c([].concat);r.exports=a("Reflect","ownKeys")||function(r){var o=u.f(p(r)),s=f.f;return s?g(o,s(r)):o}},29068:function(r){"use strict";r.exports={}},93183:function(r){"use strict";r.exports=function(r){try{return{error:!1,value:r()}}catch(r){return{error:!0,value:r}}}},24865:function(r,o,s){"use strict";var a=s(5685),c=s(93159),u=s(9934),f=s(35703),p=s(83698),g=s(52442),v=s(3),m=s(99207),_=s(14081),w=s(15131),b=c&&c.prototype,S=g("species"),x=!1,k=u(a.PromiseRejectionEvent),O=f("Promise",function(){var r=p(c),o=r!==String(c);if(!o&&66===w||_&&!(b.catch&&b.finally))return!0;if(!w||w<51||!/native code/.test(r)){var s=new c(function(r){r(1)}),FakePromise=function(r){r(function(){},function(){})};if((s.constructor={})[S]=FakePromise,!(x=s.then(function(){}) instanceof FakePromise))return!0}return!o&&(v||m)&&!k});r.exports={CONSTRUCTOR:O,REJECTION_EVENT:k,SUBCLASSING:x}},93159:function(r,o,s){"use strict";var a=s(5685);r.exports=a.Promise},85712:function(r,o,s){"use strict";var a=s(18879),c=s(39611),u=s(62157);r.exports=function(r,o){if(a(r),c(o)&&o.constructor===r)return o;var s=u.f(r);return(0,s.resolve)(o),s.promise}},77290:function(r,o,s){"use strict";var a=s(93159),c=s(97670),u=s(24865).CONSTRUCTOR;r.exports=u||!c(function(r){a.all(r).then(void 0,function(){})})},55721:function(r){"use strict";var Queue=function(){this.head=null,this.tail=null};Queue.prototype={add:function(r){var o={item:r,next:null},s=this.tail;s?s.next=o:this.head=o,this.tail=o},get:function(){var r=this.head;if(r)return null===(this.head=r.next)&&(this.tail=null),r.item}},r.exports=Queue},89823:function(r,o,s){"use strict";var a=s(44133),c=TypeError;r.exports=function(r){if(a(r))throw new c("Can't call method on "+r);return r}},4799:function(r,o,s){"use strict";var a=s(87192),c=s(63089),u=s(52442),f=s(43794),p=u("species");r.exports=function(r){var o=a(r);f&&o&&!o[p]&&c(o,p,{configurable:!0,get:function(){return this}})}},84196:function(r,o,s){"use strict";var a=s(23220),c=s(81890).f,u=s(7151),f=s(99027),p=s(48516),g=s(52442)("toStringTag");r.exports=function(r,o,s,v){if(r){var m=s?r:r.prototype;f(m,g)||c(m,g,{configurable:!0,value:o}),v&&!a&&u(m,"toString",p)}}},43287:function(r,o,s){"use strict";var a=s(73921),c=s(23440),u=a("keys");r.exports=function(r){return u[r]||(u[r]=c(r))}},35509:function(r,o,s){"use strict";var a=s(5685),c=s(20543),u="__core-js_shared__",f=a[u]||c(u,{});r.exports=f},73921:function(r,o,s){"use strict";var a=s(14081),c=s(35509);(r.exports=function(r,o){return c[r]||(c[r]=void 0!==o?o:{})})("versions",[]).push({version:"3.33.2",mode:a?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"})},49022:function(r,o,s){"use strict";var a=s(18879),c=s(73164),u=s(44133),f=s(52442)("species");r.exports=function(r,o){var s,p=a(r).constructor;return void 0===p||u(s=a(p)[f])?o:c(s)}},45202:function(r,o,s){"use strict";var a=s(72537),c=s(96169),u=s(71182),f=s(89823),p=a("".charAt),g=a("".charCodeAt),v=a("".slice),createMethod=function(r){return function(o,s){var a,m,_=u(f(o)),w=c(s),b=_.length;return w<0||w>=b?r?"":void 0:(a=g(_,w))<55296||a>56319||w+1===b||(m=g(_,w+1))<56320||m>57343?r?p(_,w):a:r?v(_,w,w+2):(a-55296<<10)+(m-56320)+65536}};r.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},34086:function(r,o,s){"use strict";var a=s(15131),c=s(49353),u=s(5685).String;r.exports=!!Object.getOwnPropertySymbols&&!c(function(){var r=Symbol("symbol detection");return!u(r)||!(Object(r) instanceof Symbol)||!Symbol.sham&&a&&a<41})},89681:function(r,o,s){"use strict";var a=s(83417),c=s(87192),u=s(52442),f=s(31733);r.exports=function(){var r=c("Symbol"),o=r&&r.prototype,s=o&&o.valueOf,p=u("toPrimitive");o&&!o[p]&&f(o,p,function(r){return a(s,this)},{arity:1})}},53203:function(r,o,s){"use strict";var a=s(87192),c=s(72537),u=a("Symbol"),f=u.keyFor,p=c(u.prototype.valueOf);r.exports=u.isRegisteredSymbol||function(r){try{return void 0!==f(p(r))}catch(r){return!1}}},99003:function(r,o,s){"use strict";for(var a=s(73921),c=s(87192),u=s(72537),f=s(40205),p=s(52442),g=c("Symbol"),v=g.isWellKnownSymbol,m=c("Object","getOwnPropertyNames"),_=u(g.prototype.valueOf),w=a("wks"),b=0,S=m(g),x=S.length;b<x;b++)try{var k=S[b];f(g[k])&&p(k)}catch(r){}r.exports=function(r){if(v&&v(r))return!0;try{for(var o=_(r),s=0,a=m(w),c=a.length;s<c;s++)if(w[a[s]]==o)return!0}catch(r){}return!1}},45731:function(r,o,s){"use strict";var a=s(34086);r.exports=a&&!!Symbol.for&&!!Symbol.keyFor},66727:function(r,o,s){"use strict";var a,c,u,f,p=s(5685),g=s(10145),v=s(29605),m=s(9934),_=s(99027),w=s(49353),b=s(26395),S=s(52076),x=s(23729),k=s(12891),O=s(28816),T=s(44408),E=p.setImmediate,P=p.clearImmediate,I=p.process,C=p.Dispatch,A=p.Function,R=p.MessageChannel,j=p.String,L=0,N={},U="onreadystatechange";w(function(){a=p.location});var run=function(r){if(_(N,r)){var o=N[r];delete N[r],o()}},runner=function(r){return function(){run(r)}},eventListener=function(r){run(r.data)},globalPostMessageDefer=function(r){p.postMessage(j(r),a.protocol+"//"+a.host)};E&&P||(E=function(r){k(arguments.length,1);var o=m(r)?r:A(r),s=S(arguments,1);return N[++L]=function(){g(o,void 0,s)},c(L),L},P=function(r){delete N[r]},T?c=function(r){I.nextTick(runner(r))}:C&&C.now?c=function(r){C.now(runner(r))}:R&&!O?(f=(u=new R).port2,u.port1.onmessage=eventListener,c=v(f.postMessage,f)):p.addEventListener&&m(p.postMessage)&&!p.importScripts&&a&&"file:"!==a.protocol&&!w(globalPostMessageDefer)?(c=globalPostMessageDefer,p.addEventListener("message",eventListener,!1)):c=U in x("script")?function(r){b.appendChild(x("script"))[U]=function(){b.removeChild(this),run(r)}}:function(r){setTimeout(runner(r),0)}),r.exports={set:E,clear:P}},58100:function(r,o,s){"use strict";var a=s(96169),c=Math.max,u=Math.min;r.exports=function(r,o){var s=a(r);return s<0?c(s+o,0):u(s,o)}},73747:function(r,o,s){"use strict";var a=s(108),c=s(89823);r.exports=function(r){return a(c(r))}},96169:function(r,o,s){"use strict";var a=s(88836);r.exports=function(r){var o=+r;return o!=o||0===o?0:a(o)}},71904:function(r,o,s){"use strict";var a=s(96169),c=Math.min;r.exports=function(r){return r>0?c(a(r),9007199254740991):0}},42962:function(r,o,s){"use strict";var a=s(89823),c=Object;r.exports=function(r){return c(a(r))}},50681:function(r,o,s){"use strict";var a=s(83417),c=s(39611),u=s(40205),f=s(45752),p=s(58733),g=s(52442),v=TypeError,m=g("toPrimitive");r.exports=function(r,o){if(!c(r)||u(r))return r;var s,g=f(r,m);if(g){if(void 0===o&&(o="default"),!c(s=a(g,r,o))||u(s))return s;throw new v("Can't convert object to primitive value")}return void 0===o&&(o="number"),p(r,o)}},91525:function(r,o,s){"use strict";var a=s(50681),c=s(40205);r.exports=function(r){var o=a(r,"string");return c(o)?o:o+""}},23220:function(r,o,s){"use strict";var a=s(52442)("toStringTag"),c={};c[a]="z",r.exports="[object z]"===String(c)},71182:function(r,o,s){"use strict";var a=s(56397),c=String;r.exports=function(r){if("Symbol"===a(r))throw TypeError("Cannot convert a Symbol value to a string");return c(r)}},1028:function(r){"use strict";var o=String;r.exports=function(r){try{return o(r)}catch(r){return"Object"}}},23440:function(r,o,s){"use strict";var a=s(72537),c=0,u=Math.random(),f=a(1..toString);r.exports=function(r){return"Symbol("+(void 0===r?"":r)+")_"+f(++c+u,36)}},80016:function(r,o,s){"use strict";var a=s(34086);r.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},77956:function(r,o,s){"use strict";var a=s(43794),c=s(49353);r.exports=a&&c(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},12891:function(r){"use strict";var o=TypeError;r.exports=function(r,s){if(r<s)throw new o("Not enough arguments");return r}},79033:function(r,o,s){"use strict";var a=s(5685),c=s(9934),u=a.WeakMap;r.exports=c(u)&&/native code/.test(String(u))},72134:function(r,o,s){"use strict";var a=s(29068),c=s(99027),u=s(18248),f=s(81890).f;r.exports=function(r){var o=a.Symbol||(a.Symbol={});c(o,r)||f(o,r,{value:u.f(r)})}},18248:function(r,o,s){"use strict";var a=s(52442);o.f=a},52442:function(r,o,s){"use strict";var a=s(5685),c=s(73921),u=s(99027),f=s(23440),p=s(34086),g=s(80016),v=a.Symbol,m=c("wks"),_=g?v.for||v:v&&v.withoutSetter||f;r.exports=function(r){return u(m,r)||(m[r]=p&&u(v,r)?v[r]:_("Symbol."+r)),m[r]}},93533:function(r,o,s){"use strict";var a=s(74715),c=s(61727),u=s(63863),f=s(31350),p=s(95895),g=s(33010),v=s(7151),m=s(51567),_=s(72071),w=s(91794),b=s(89614),S=s(60081),x=s(52442)("toStringTag"),k=Error,O=[].push,$AggregateError=function(r,o){var s,a=c(T,this);f?s=f(new k,a?u(this):T):v(s=a?this:g(T),x,"Error"),void 0!==o&&v(s,"message",S(o)),w(s,$AggregateError,s.stack,1),arguments.length>2&&_(s,arguments[2]);var p=[];return b(r,O,{that:p}),v(s,"errors",p),s};f?f($AggregateError,k):p($AggregateError,k,{name:!0});var T=$AggregateError.prototype=g(k.prototype,{constructor:m(1,$AggregateError),message:m(1,""),name:m(1,"AggregateError")});a({global:!0,constructor:!0,arity:2},{AggregateError:$AggregateError})},96864:function(r,o,s){"use strict";s(93533)},51845:function(r,o,s){"use strict";var a=s(74715),c=s(49353),u=s(13527),f=s(39611),p=s(42962),g=s(37165),v=s(9939),m=s(981),_=s(7265),w=s(18388),b=s(52442),S=s(15131),x=b("isConcatSpreadable"),k=S>=51||!c(function(){var r=[];return r[x]=!1,r.concat()[0]!==r}),isConcatSpreadable=function(r){if(!f(r))return!1;var o=r[x];return void 0!==o?!!o:u(r)};a({target:"Array",proto:!0,arity:1,forced:!k||!w("concat")},{concat:function(r){var o,s,a,c,u,f=p(this),w=_(f,0),b=0;for(o=-1,a=arguments.length;o<a;o++)if(u=-1===o?f:arguments[o],isConcatSpreadable(u))for(v(b+(c=g(u))),s=0;s<c;s++,b++)s in u&&m(w,b,u[s]);else v(b+1),m(w,b++,u);return w.length=b,w}})},27826:function(r,o,s){"use strict";var a=s(74715),c=s(92503).filter;a({target:"Array",proto:!0,forced:!s(18388)("filter")},{filter:function(r){return c(this,r,arguments.length>1?arguments[1]:void 0)}})},62212:function(r,o,s){"use strict";var a=s(74715),c=s(96456);a({target:"Array",proto:!0,forced:[].forEach!==c},{forEach:c})},21338:function(r,o,s){"use strict";var a=s(74715),c=s(36019);a({target:"Array",stat:!0,forced:!s(97670)(function(r){Array.from(r)})},{from:c})},37464:function(r,o,s){"use strict";var a=s(74715),c=s(78520).includes,u=s(49353),f=s(66888);a({target:"Array",proto:!0,forced:u(function(){return![,].includes()})},{includes:function(r){return c(this,r,arguments.length>1?arguments[1]:void 0)}}),f("includes")},27509:function(r,o,s){"use strict";s(74715)({target:"Array",stat:!0},{isArray:s(13527)})},71997:function(r,o,s){"use strict";var a=s(73747),c=s(66888),u=s(99234),f=s(34084),p=s(81890).f,g=s(6483),v=s(27474),m=s(14081),_=s(43794),w="Array Iterator",b=f.set,S=f.getterFor(w);r.exports=g(Array,"Array",function(r,o){b(this,{type:w,target:a(r),index:0,kind:o})},function(){var r=S(this),o=r.target,s=r.index++;if(!o||s>=o.length)return r.target=void 0,v(void 0,!0);switch(r.kind){case"keys":return v(s,!1);case"values":return v(o[s],!1)}return v([s,o[s]],!1)},"values");var x=u.Arguments=u.Array;if(c("keys"),c("values"),c("entries"),!m&&_&&"values"!==x.name)try{p(x,"name",{value:"values"})}catch(r){}},53549:function(r,o,s){"use strict";var a=s(74715),c=s(42962),u=s(37165),f=s(21145),p=s(9939);a({target:"Array",proto:!0,arity:1,forced:s(49353)(function(){return 4294967297!==[].push.call({length:4294967296},1)})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(r){return r instanceof TypeError}}()},{push:function(r){var o=c(this),s=u(o),a=arguments.length;p(s+a);for(var g=0;g<a;g++)o[s]=arguments[g],s++;return f(o,s),s}})},7901:function(r,o,s){"use strict";var a=s(74715),c=s(72537),u=s(13527),f=c([].reverse),p=[1,2];a({target:"Array",proto:!0,forced:String(p)===String(p.reverse())},{reverse:function(){return u(this)&&(this.length=this.length),f(this)}})},43837:function(r,o,s){"use strict";var a=s(74715),c=s(13527),u=s(57936),f=s(39611),p=s(58100),g=s(37165),v=s(73747),m=s(981),_=s(52442),w=s(18388),b=s(52076),S=w("slice"),x=_("species"),k=Array,O=Math.max;a({target:"Array",proto:!0,forced:!S},{slice:function(r,o){var s,a,_,w=v(this),S=g(w),T=p(r,S),E=p(void 0===o?S:o,S);if(c(w)&&(u(s=w.constructor)&&(s===k||c(s.prototype))?s=void 0:f(s)&&null===(s=s[x])&&(s=void 0),s===k||void 0===s))return b(w,T,E);for(_=0,a=new(void 0===s?k:s)(O(E-T,0));T<E;T++,_++)T in w&&m(a,_,w[T]);return a.length=_,a}})},18242:function(){},88791:function(r,o,s){"use strict";var a=s(74715),c=s(87192),u=s(10145),f=s(83417),p=s(72537),g=s(49353),v=s(9934),m=s(40205),_=s(52076),w=s(99647),b=s(34086),S=String,x=c("JSON","stringify"),k=p(/./.exec),O=p("".charAt),T=p("".charCodeAt),E=p("".replace),P=p(1..toString),I=/[\uD800-\uDFFF]/g,C=/^[\uD800-\uDBFF]$/,A=/^[\uDC00-\uDFFF]$/,R=!b||g(function(){var r=c("Symbol")("stringify detection");return"[null]"!==x([r])||"{}"!==x({a:r})||"{}"!==x(Object(r))}),j=g(function(){return'"\udf06\ud834"'!==x("\uDF06\uD834")||'"\udead"'!==x("\uDEAD")}),stringifyWithSymbolsFix=function(r,o){var s=_(arguments),a=w(o);if(!(!v(a)&&(void 0===r||m(r))))return s[1]=function(r,o){if(v(a)&&(o=f(a,this,S(r),o)),!m(o))return o},u(x,null,s)},fixIllFormed=function(r,o,s){var a=O(s,o-1),c=O(s,o+1);return k(C,r)&&!k(A,c)||k(A,r)&&!k(C,a)?"\\u"+P(T(r,0),16):r};x&&a({target:"JSON",stat:!0,arity:3,forced:R||j},{stringify:function(r,o,s){var a=_(arguments),c=u(R?stringifyWithSymbolsFix:x,null,a);return j&&"string"==typeof c?E(c,I,fixIllFormed):c}})},78518:function(r,o,s){"use strict";var a=s(5685);s(84196)(a.JSON,"JSON",!0)},39786:function(){},43225:function(r,o,s){"use strict";s(74715)({target:"Object",stat:!0,sham:!s(43794)},{create:s(33010)})},55575:function(r,o,s){"use strict";var a=s(74715),c=s(43794),u=s(47832).f;a({target:"Object",stat:!0,forced:Object.defineProperties!==u,sham:!c},{defineProperties:u})},19727:function(r,o,s){"use strict";var a=s(74715),c=s(43794),u=s(81890).f;a({target:"Object",stat:!0,forced:Object.defineProperty!==u,sham:!c},{defineProperty:u})},55118:function(r,o,s){"use strict";var a=s(74715),c=s(49353),u=s(73747),f=s(45396).f,p=s(43794);a({target:"Object",stat:!0,forced:!p||c(function(){f(1)}),sham:!p},{getOwnPropertyDescriptor:function(r,o){return f(u(r),o)}})},89099:function(r,o,s){"use strict";var a=s(74715),c=s(43794),u=s(704),f=s(73747),p=s(45396),g=s(981);a({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(r){for(var o,s,a=f(r),c=p.f,v=u(a),m={},_=0;v.length>_;)void 0!==(s=c(a,o=v[_++]))&&g(m,o,s);return m}})},20465:function(r,o,s){"use strict";var a=s(74715),c=s(34086),u=s(49353),f=s(56953),p=s(42962);a({target:"Object",stat:!0,forced:!c||u(function(){f.f(1)})},{getOwnPropertySymbols:function(r){var o=f.f;return o?o(p(r)):[]}})},17992:function(r,o,s){"use strict";var a=s(74715),c=s(49353),u=s(42962),f=s(63863),p=s(24853);a({target:"Object",stat:!0,forced:c(function(){f(1)}),sham:!p},{getPrototypeOf:function(r){return f(u(r))}})},73393:function(r,o,s){"use strict";var a=s(74715),c=s(42962),u=s(67508);a({target:"Object",stat:!0,forced:s(49353)(function(){u(1)})},{keys:function(r){return u(c(r))}})},33951:function(r,o,s){"use strict";s(74715)({target:"Object",stat:!0},{setPrototypeOf:s(31350)})},86069:function(){},18795:function(r,o,s){"use strict";var a=s(74715),c=s(83417),u=s(45935),f=s(62157),p=s(93183),g=s(89614);a({target:"Promise",stat:!0,forced:s(77290)},{allSettled:function(r){var o=this,s=f.f(o),a=s.resolve,v=s.reject,m=p(function(){var s=u(o.resolve),f=[],p=0,v=1;g(r,function(r){var u=p++,g=!1;v++,c(s,o,r).then(function(r){!g&&(g=!0,f[u]={status:"fulfilled",value:r},--v||a(f))},function(r){!g&&(g=!0,f[u]={status:"rejected",reason:r},--v||a(f))})}),--v||a(f)});return m.error&&v(m.value),s.promise}})},45840:function(r,o,s){"use strict";var a=s(74715),c=s(83417),u=s(45935),f=s(62157),p=s(93183),g=s(89614);a({target:"Promise",stat:!0,forced:s(77290)},{all:function(r){var o=this,s=f.f(o),a=s.resolve,v=s.reject,m=p(function(){var s=u(o.resolve),f=[],p=0,m=1;g(r,function(r){var u=p++,g=!1;m++,c(s,o,r).then(function(r){!g&&(g=!0,f[u]=r,--m||a(f))},v)}),--m||a(f)});return m.error&&v(m.value),s.promise}})},13233:function(r,o,s){"use strict";var a=s(74715),c=s(83417),u=s(45935),f=s(87192),p=s(62157),g=s(93183),v=s(89614),m=s(77290),_="No one promise resolved";a({target:"Promise",stat:!0,forced:m},{any:function(r){var o=this,s=f("AggregateError"),a=p.f(o),m=a.resolve,w=a.reject,b=g(function(){var a=u(o.resolve),f=[],p=0,g=1,b=!1;v(r,function(r){var u=p++,v=!1;g++,c(a,o,r).then(function(r){v||b||(b=!0,m(r))},function(r){!v&&!b&&(v=!0,f[u]=r,--g||w(new s(f,_)))})}),--g||w(new s(f,_))});return b.error&&w(b.value),a.promise}})},84168:function(r,o,s){"use strict";var a=s(74715),c=s(14081),u=s(24865).CONSTRUCTOR,f=s(93159),p=s(87192),g=s(9934),v=s(31733),m=f&&f.prototype;if(a({target:"Promise",proto:!0,forced:u,real:!0},{catch:function(r){return this.then(void 0,r)}}),!c&&g(f)){var _=p("Promise").prototype.catch;m.catch!==_&&v(m,"catch",_,{unsafe:!0})}},46888:function(r,o,s){"use strict";var a,c,u,f,p=s(74715),g=s(14081),v=s(44408),m=s(5685),_=s(83417),w=s(31733),b=s(31350),S=s(84196),x=s(4799),k=s(45935),O=s(9934),T=s(39611),E=s(40927),P=s(49022),I=s(66727).set,C=s(45996),A=s(92210),R=s(93183),j=s(55721),L=s(34084),N=s(93159),U=s(24865),H=s(62157),B="Promise",z=U.CONSTRUCTOR,q=U.REJECTION_EVENT,W=U.SUBCLASSING,K=L.getterFor(B),G=L.set,V=N&&N.prototype,J=N,Z=V,Y=m.TypeError,Q=m.document,X=m.process,ee=H.f,et=ee,er=!!(Q&&Q.createEvent&&m.dispatchEvent),en="unhandledrejection",isThenable=function(r){var o;return!!(T(r)&&O(o=r.then))&&o},callReaction=function(r,o){var s,a,c,u=o.value,f=1===o.state,p=f?r.ok:r.fail,g=r.resolve,v=r.reject,m=r.domain;try{p?(f||(2===o.rejection&&onHandleUnhandled(o),o.rejection=1),!0===p?s=u:(m&&m.enter(),s=p(u),m&&(m.exit(),c=!0)),s===r.promise?v(new Y("Promise-chain cycle")):(a=isThenable(s))?_(a,s,g,v):g(s)):v(u)}catch(r){m&&!c&&m.exit(),v(r)}},notify=function(r,o){r.notified||(r.notified=!0,C(function(){for(var s,a=r.reactions;s=a.get();)callReaction(s,r);r.notified=!1,o&&!r.rejection&&onUnhandled(r)}))},dispatchEvent=function(r,o,s){var a,c;er?((a=Q.createEvent("Event")).promise=o,a.reason=s,a.initEvent(r,!1,!0),m.dispatchEvent(a)):a={promise:o,reason:s},!q&&(c=m["on"+r])?c(a):r===en&&A("Unhandled promise rejection",s)},onUnhandled=function(r){_(I,m,function(){var o,s=r.facade,a=r.value;if(isUnhandled(r)&&(o=R(function(){v?X.emit("unhandledRejection",a,s):dispatchEvent(en,s,a)}),r.rejection=v||isUnhandled(r)?2:1,o.error))throw o.value})},isUnhandled=function(r){return 1!==r.rejection&&!r.parent},onHandleUnhandled=function(r){_(I,m,function(){var o=r.facade;v?X.emit("rejectionHandled",o):dispatchEvent("rejectionhandled",o,r.value)})},bind=function(r,o,s){return function(a){r(o,a,s)}},internalReject=function(r,o,s){r.done||(r.done=!0,s&&(r=s),r.value=o,r.state=2,notify(r,!0))},internalResolve=function(r,o,s){if(!r.done){r.done=!0,s&&(r=s);try{if(r.facade===o)throw new Y("Promise can't be resolved itself");var a=isThenable(o);a?C(function(){var s={done:!1};try{_(a,o,bind(internalResolve,s,r),bind(internalReject,s,r))}catch(o){internalReject(s,o,r)}}):(r.value=o,r.state=1,notify(r,!1))}catch(o){internalReject({done:!1},o,r)}}};if(z&&(Z=(J=function(r){E(this,Z),k(r),_(a,this);var o=K(this);try{r(bind(internalResolve,o),bind(internalReject,o))}catch(r){internalReject(o,r)}}).prototype,(a=function(r){G(this,{type:B,done:!1,notified:!1,parent:!1,reactions:new j,rejection:!1,state:0,value:void 0})}).prototype=w(Z,"then",function(r,o){var s=K(this),a=ee(P(this,J));return s.parent=!0,a.ok=!O(r)||r,a.fail=O(o)&&o,a.domain=v?X.domain:void 0,0===s.state?s.reactions.add(a):C(function(){callReaction(a,s)}),a.promise}),c=function(){var r=new a,o=K(r);this.promise=r,this.resolve=bind(internalResolve,o),this.reject=bind(internalReject,o)},H.f=ee=function(r){return r===J||r===u?new c(r):et(r)},!g&&O(N)&&V!==Object.prototype)){f=V.then,W||w(V,"then",function(r,o){var s=this;return new J(function(r,o){_(f,s,r,o)}).then(r,o)},{unsafe:!0});try{delete V.constructor}catch(r){}b&&b(V,Z)}p({global:!0,constructor:!0,wrap:!0,forced:z},{Promise:J}),S(J,B,!1,!0),x(B)},6028:function(r,o,s){"use strict";var a=s(74715),c=s(14081),u=s(93159),f=s(49353),p=s(87192),g=s(9934),v=s(49022),m=s(85712),_=s(31733),w=u&&u.prototype;if(a({target:"Promise",proto:!0,real:!0,forced:!!u&&f(function(){w.finally.call({then:function(){}},function(){})})},{finally:function(r){var o=v(this,p("Promise")),s=g(r);return this.then(s?function(s){return m(o,r()).then(function(){return s})}:r,s?function(s){return m(o,r()).then(function(){throw s})}:r)}}),!c&&g(u)){var b=p("Promise").prototype.finally;w.finally!==b&&_(w,"finally",b,{unsafe:!0})}},89927:function(r,o,s){"use strict";s(46888),s(45840),s(84168),s(51228),s(91739),s(39478)},51228:function(r,o,s){"use strict";var a=s(74715),c=s(83417),u=s(45935),f=s(62157),p=s(93183),g=s(89614);a({target:"Promise",stat:!0,forced:s(77290)},{race:function(r){var o=this,s=f.f(o),a=s.reject,v=p(function(){var f=u(o.resolve);g(r,function(r){c(f,o,r).then(s.resolve,a)})});return v.error&&a(v.value),s.promise}})},91739:function(r,o,s){"use strict";var a=s(74715),c=s(83417),u=s(62157);a({target:"Promise",stat:!0,forced:s(24865).CONSTRUCTOR},{reject:function(r){var o=u.f(this);return c(o.reject,void 0,r),o.promise}})},39478:function(r,o,s){"use strict";var a=s(74715),c=s(87192),u=s(14081),f=s(93159),p=s(24865).CONSTRUCTOR,g=s(85712),v=c("Promise"),m=u&&!p;a({target:"Promise",stat:!0,forced:u||p},{resolve:function(r){return g(m&&this===v?f:this,r)}})},26716:function(){},72586:function(r,o,s){"use strict";var a=s(74715),c=s(72537),u=s(54683),f=s(89823),p=s(71182),g=s(15674),v=c("".indexOf);a({target:"String",proto:!0,forced:!g("includes")},{includes:function(r){return!!~v(p(f(this)),p(u(r)),arguments.length>1?arguments[1]:void 0)}})},61345:function(r,o,s){"use strict";var a=s(45202).charAt,c=s(71182),u=s(34084),f=s(6483),p=s(27474),g="String Iterator",v=u.set,m=u.getterFor(g);f(String,"String",function(r){v(this,{type:g,string:c(r),index:0})},function(){var r,o=m(this),s=o.string,c=o.index;return c>=s.length?p(void 0,!0):(r=a(s,c),o.index+=r.length,p(r,!1))})},342:function(r,o,s){"use strict";s(72134)("asyncIterator")},13971:function(r,o,s){"use strict";var a=s(74715),c=s(5685),u=s(83417),f=s(72537),p=s(14081),g=s(43794),v=s(34086),m=s(49353),_=s(99027),w=s(61727),b=s(18879),S=s(73747),x=s(91525),k=s(71182),O=s(51567),T=s(33010),E=s(67508),P=s(94582),I=s(87195),C=s(56953),A=s(45396),R=s(81890),j=s(47832),L=s(99106),N=s(31733),U=s(63089),H=s(73921),B=s(43287),z=s(39775),q=s(23440),W=s(52442),K=s(18248),G=s(72134),V=s(89681),J=s(84196),Z=s(34084),Y=s(92503).forEach,Q=B("hidden"),X="Symbol",ee="prototype",et=Z.set,er=Z.getterFor(X),en=Object[ee],ei=c.Symbol,eo=ei&&ei[ee],es=c.RangeError,ea=c.TypeError,ec=c.QObject,eu=A.f,el=R.f,ed=I.f,eh=L.f,ef=f([].push),ep=H("symbols"),eg=H("op-symbols"),ev=H("wks"),em=!ec||!ec[ee]||!ec[ee].findChild,fallbackDefineProperty=function(r,o,s){var a=eu(en,o);a&&delete en[o],el(r,o,s),a&&r!==en&&el(en,o,a)},ey=g&&m(function(){return 7!==T(el({},"a",{get:function(){return el(this,"a",{value:7}).a}})).a})?fallbackDefineProperty:el,wrap=function(r,o){var s=ep[r]=T(eo);return et(s,{type:X,tag:r,description:o}),g||(s.description=o),s},$defineProperty=function(r,o,s){r===en&&$defineProperty(eg,o,s),b(r);var a=x(o);return(b(s),_(ep,a))?(s.enumerable?(_(r,Q)&&r[Q][a]&&(r[Q][a]=!1),s=T(s,{enumerable:O(0,!1)})):(_(r,Q)||el(r,Q,O(1,{})),r[Q][a]=!0),ey(r,a,s)):el(r,a,s)},$defineProperties=function(r,o){b(r);var s=S(o);return Y(E(s).concat($getOwnPropertySymbols(s)),function(o){(!g||u($propertyIsEnumerable,s,o))&&$defineProperty(r,o,s[o])}),r},$propertyIsEnumerable=function(r){var o=x(r),s=u(eh,this,o);return(!(this===en&&_(ep,o))||!!_(eg,o))&&(!(s||!_(this,o)||!_(ep,o)||_(this,Q)&&this[Q][o])||s)},$getOwnPropertyDescriptor=function(r,o){var s=S(r),a=x(o);if(!(s===en&&_(ep,a))||_(eg,a)){var c=eu(s,a);return c&&_(ep,a)&&!(_(s,Q)&&s[Q][a])&&(c.enumerable=!0),c}},$getOwnPropertyNames=function(r){var o=ed(S(r)),s=[];return Y(o,function(r){_(ep,r)||_(z,r)||ef(s,r)}),s},$getOwnPropertySymbols=function(r){var o=r===en,s=ed(o?eg:S(r)),a=[];return Y(s,function(r){_(ep,r)&&(!o||_(en,r))&&ef(a,ep[r])}),a};v||(N(eo=(ei=function(){if(w(eo,this))throw new ea("Symbol is not a constructor");var r=arguments.length&&void 0!==arguments[0]?k(arguments[0]):void 0,o=q(r),setter=function(r){var s=void 0===this?c:this;s===en&&u(setter,eg,r),_(s,Q)&&_(s[Q],o)&&(s[Q][o]=!1);var a=O(1,r);try{ey(s,o,a)}catch(r){if(!(r instanceof es))throw r;fallbackDefineProperty(s,o,a)}};return g&&em&&ey(en,o,{configurable:!0,set:setter}),wrap(o,r)})[ee],"toString",function(){return er(this).tag}),N(ei,"withoutSetter",function(r){return wrap(q(r),r)}),L.f=$propertyIsEnumerable,R.f=$defineProperty,j.f=$defineProperties,A.f=$getOwnPropertyDescriptor,P.f=I.f=$getOwnPropertyNames,C.f=$getOwnPropertySymbols,K.f=function(r){return wrap(W(r),r)},g&&(U(eo,"description",{configurable:!0,get:function(){return er(this).description}}),p||N(en,"propertyIsEnumerable",$propertyIsEnumerable,{unsafe:!0}))),a({global:!0,constructor:!0,wrap:!0,forced:!v,sham:!v},{Symbol:ei}),Y(E(ev),function(r){G(r)}),a({target:X,stat:!0,forced:!v},{useSetter:function(){em=!0},useSimple:function(){em=!1}}),a({target:"Object",stat:!0,forced:!v,sham:!g},{create:function(r,o){return void 0===o?T(r):$defineProperties(T(r),o)},defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor}),a({target:"Object",stat:!0,forced:!v},{getOwnPropertyNames:$getOwnPropertyNames}),V(),J(ei,X),z[Q]=!0},48861:function(){},15201:function(r,o,s){"use strict";var a=s(74715),c=s(87192),u=s(99027),f=s(71182),p=s(73921),g=s(45731),v=p("string-to-symbol-registry"),m=p("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!g},{for:function(r){var o=f(r);if(u(v,o))return v[o];var s=c("Symbol")(o);return v[o]=s,m[s]=o,s}})},83092:function(r,o,s){"use strict";s(72134)("hasInstance")},86538:function(r,o,s){"use strict";s(72134)("isConcatSpreadable")},50459:function(r,o,s){"use strict";s(72134)("iterator")},91967:function(r,o,s){"use strict";s(13971),s(15201),s(93274),s(88791),s(20465)},93274:function(r,o,s){"use strict";var a=s(74715),c=s(99027),u=s(40205),f=s(1028),p=s(73921),g=s(45731),v=p("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!g},{keyFor:function(r){if(!u(r))throw TypeError(f(r)+" is not a symbol");if(c(v,r))return v[r]}})},23236:function(r,o,s){"use strict";s(72134)("matchAll")},32303:function(r,o,s){"use strict";s(72134)("match")},91654:function(r,o,s){"use strict";s(72134)("replace")},34833:function(r,o,s){"use strict";s(72134)("search")},20316:function(r,o,s){"use strict";s(72134)("species")},16925:function(r,o,s){"use strict";s(72134)("split")},83135:function(r,o,s){"use strict";var a=s(72134),c=s(89681);a("toPrimitive"),c()},39390:function(r,o,s){"use strict";var a=s(87192),c=s(72134),u=s(84196);c("toStringTag"),u(a("Symbol"),"Symbol")},25938:function(r,o,s){"use strict";s(72134)("unscopables")},79791:function(r,o,s){"use strict";s(96864)},73705:function(r,o,s){"use strict";var a=s(52442),c=s(81890).f,u=a("metadata"),f=Function.prototype;void 0===f[u]&&c(f,u,{value:null})},3264:function(r,o,s){"use strict";s(18795)},79091:function(r,o,s){"use strict";s(13233)},75415:function(r,o,s){"use strict";var a=s(74715),c=s(62157),u=s(93183);a({target:"Promise",stat:!0,forced:!0},{try:function(r){var o=c.f(this),s=u(r);return(s.error?o.reject:o.resolve)(s.value),o.promise}})},52606:function(r,o,s){"use strict";var a=s(74715),c=s(62157);a({target:"Promise",stat:!0},{withResolvers:function(){var r=c.f(this);return{promise:r.promise,resolve:r.resolve,reject:r.reject}}})},21935:function(r,o,s){"use strict";s(72134)("asyncDispose")},11944:function(r,o,s){"use strict";s(72134)("dispose")},93361:function(r,o,s){"use strict";s(74715)({target:"Symbol",stat:!0},{isRegisteredSymbol:s(53203)})},66714:function(r,o,s){"use strict";s(74715)({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:s(53203)})},65539:function(r,o,s){"use strict";s(74715)({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:s(99003)})},85704:function(r,o,s){"use strict";s(74715)({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:s(99003)})},84163:function(r,o,s){"use strict";s(72134)("matcher")},16206:function(r,o,s){"use strict";s(72134)("metadataKey")},55539:function(r,o,s){"use strict";s(72134)("metadata")},76499:function(r,o,s){"use strict";s(72134)("observable")},81548:function(r,o,s){"use strict";s(72134)("patternMatch")},11666:function(r,o,s){"use strict";s(72134)("replaceAll")},17492:function(){},57483:function(r,o,s){"use strict";s(71997);var a=s(18920),c=s(5685),u=s(56397),f=s(7151),p=s(99234),g=s(52442)("toStringTag");for(var v in a){var m=c[v],_=m&&m.prototype;_&&u(_)!==g&&f(_,g,v),p[v]=p.Array}},64818:function(r,o,s){"use strict";var a=s(61352);r.exports=a},429:function(r,o,s){"use strict";var a=s(74016);r.exports=a},45114:function(r,o,s){"use strict";var a=s(40001);r.exports=a},14007:function(r,o,s){"use strict";var a=s(509);s(57483),r.exports=a},27740:function(r,o,s){"use strict";var a=s(97070);r.exports=a},36490:function(r,o,s){"use strict";var a=s(41207);r.exports=a},88195:function(r,o,s){"use strict";var a=s(56397),c=s(99027),u=s(61727),f=s(45114);s(17492);var p=Array.prototype,g={DOMTokenList:!0,NodeList:!0};r.exports=function(r){var o=r.forEach;return r===p||u(p,r)&&o===p.forEach||c(g,a(r))?f:o}},48226:function(r,o,s){"use strict";var a=s(8945);r.exports=a},55567:function(r,o,s){"use strict";var a=s(53264);r.exports=a},72181:function(r,o,s){"use strict";var a=s(45051);r.exports=a},76765:function(r,o,s){"use strict";var a=s(14558);r.exports=a},42093:function(r,o,s){"use strict";var a=s(38858);r.exports=a},91400:function(r,o,s){"use strict";var a=s(5310);r.exports=a},45602:function(r,o,s){"use strict";var a=s(88641);r.exports=a},31566:function(r,o,s){"use strict";var a=s(86915);r.exports=a},3365:function(r,o,s){"use strict";var a=s(35624);r.exports=a},61021:function(r,o,s){"use strict";var a=s(35553);r.exports=a},73740:function(r,o,s){"use strict";var a=s(72426);r.exports=a},69753:function(r,o,s){"use strict";var a=s(50976);r.exports=a},74301:function(r,o,s){"use strict";var a=s(51435);r.exports=a},32948:function(r,o,s){"use strict";var a=s(58462);s(57483),r.exports=a},14454:function(r,o,s){"use strict";var a=s(53941);s(57483),r.exports=a},4690:function(r,o,s){"use strict";var a=s(24101);s(57483),r.exports=a},87263:function(r,o,s){"use strict";var a=s(47548);r.exports=a},84406:function(r,o,s){"use strict";function _arrayLikeToArray(r,o){(null==o||o>r.length)&&(o=r.length);for(var s=0,a=Array(o);s<o;s++)a[s]=r[s];return a}s.d(o,{Z:function(){return _arrayLikeToArray}})},33938:function(r,o,s){"use strict";s.d(o,{Z:function(){return _asyncToGenerator}});var a=s(890);function asyncGeneratorStep(r,o,s,c,u,f,p){try{var g=r[f](p),v=g.value}catch(r){s(r);return}g.done?o(v):a.resolve(v).then(c,u)}function _asyncToGenerator(r){return function(){var o=this,s=arguments;return new a(function(a,c){var u=r.apply(o,s);function _next(r){asyncGeneratorStep(u,a,c,_next,_throw,"next",r)}function _throw(r){asyncGeneratorStep(u,a,c,_next,_throw,"throw",r)}_next(void 0)})}}},68420:function(r,o,s){"use strict";function _classCallCheck(r,o){if(!(r instanceof o))throw TypeError("Cannot call a class as a function")}s.d(o,{Z:function(){return _classCallCheck}})},27344:function(r,o,s){"use strict";s.d(o,{Z:function(){return _createClass}});var a=s(31685),c=s(4237);function _defineProperties(r,o){for(var s=0;s<o.length;s++){var u=o[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),a(r,(0,c.Z)(u.key),u)}}function _createClass(r,o,s){return o&&_defineProperties(r.prototype,o),s&&_defineProperties(r,s),a(r,"prototype",{writable:!1}),r}},44845:function(r,o,s){"use strict";s.d(o,{Z:function(){return _defineProperty}});var a=s(31685),c=s(4237);function _defineProperty(r,o,s){return(o=(0,c.Z)(o))in r?a(r,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[o]=s,r}},4237:function(r,o,s){"use strict";s.d(o,{Z:function(){return _toPropertyKey}});var a=s(19623),c=s(74360);function _toPropertyKey(r){var o=function(r,o){if("object"!==(0,a.Z)(r)||null===r)return r;var s=r[c];if(void 0!==s){var u=s.call(r,o||"default");if("object"!==(0,a.Z)(u))return u;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(r)}(r,"string");return"symbol"===(0,a.Z)(o)?o:String(o)}},19623:function(r,o,s){"use strict";s.d(o,{Z:function(){return _typeof}});var a=s(1768),c=s(56228);function _typeof(r){return(_typeof="function"==typeof a&&"symbol"==typeof c?function(r){return typeof r}:function(r){return r&&"function"==typeof a&&r.constructor===a&&r!==a.prototype?"symbol":typeof r})(r)}},71518:function(r,o,s){"use strict";s.d(o,{Z:function(){return _unsupportedIterableToArray}});var a=s(58189),c=s(36961),u=s(84406);function _unsupportedIterableToArray(r,o){if(r){if("string"==typeof r)return(0,u.Z)(r,o);var s,f=a(s=Object.prototype.toString.call(r)).call(s,8,-1);if("Object"===f&&r.constructor&&(f=r.constructor.name),"Map"===f||"Set"===f)return c(r);if("Arguments"===f||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f))return(0,u.Z)(r,o)}}}},function(r){var __webpack_exec__=function(o){return r(r.s=o)};r.O(0,[774,179],function(){return __webpack_exec__(6840),__webpack_exec__(59974)}),_N_E=r.O()}]);