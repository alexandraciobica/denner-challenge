
require=function e$jscomp$0(p,k,x){function r(e,a){if(!k[e]){if(!p[e]){var h="function"==typeof require&&require;if(!a&&h)return h(e,!0);if(y)return y(e,!0);a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a;}a=k[e]={exports:{}};p[e][0].call(a.exports,function(a){var h=p[e][1][a];return r(h?h:a)},a,a.exports,e$jscomp$0,p,k,x)}return k[e].exports}for(var y="function"==typeof require&&require,t=0;t<x.length;t++)r(x[t]);return r}({1:[function(l,p,k){l("jquery");p.exports=function(){return!1}},{jquery:"jquery"}],"/src/core/modal/modal-window.js":[function(l,p,k){function x(a){var e=document.createElement("div");e.innerHTML=a;return e.childNodes}function r(e){0<a(".modal-outer-wrapper:not([data-loader-modal-wrapper]) .modal-content:visible:not(.modal-content--inline)").length&&y()}function y(){if(!I){M.setAttribute("style","overflow: hidden");var e;if(e=-N().width){M.setAttribute("style","overflow: hidden;margin-right:"+-e+"px");a(".pageHeader__content-firstRow").removeAttr("style");a(".pageHeader__content-secondRow").removeAttr("style");a(".pageHeader__content-settings-atbButton").removeAttr("style");a(".pageHeader__content-settings-account").removeAttr("style");var h=parseInt(a(".pageHeader__content-firstRow").css("padding-right"))+Math.abs(e),k=parseInt(a(".pageHeader__content-secondRow").css("padding-right"))+Math.abs(e),l=parseInt(a(".pageHeader__content-settings-account").css("padding-right"))+Math.abs(e);C&&(h=parseInt(a(".pageHeader__content-firstRow").css("padding-right"))+Math.abs(e/2),k=parseInt(a(".pageHeader__content-secondRow").css("padding-right"))+
Math.abs(e/2));0<a(".pageHeader__content-firstRow").length&&a(".pageHeader__content-firstRow").get(0).setAttribute("style","padding-right:"+h+"px !important");0<a(".pageHeader__content-secondRow").length&&a(".pageHeader__content-secondRow").get(0).setAttribute("style","padding-right:"+k+"px !important");z&&(0<a(".pageHeader__content-settings-account").length&&a(".pageHeader__content-settings-account").get(0).setAttribute("style","padding-right:"+l+"px !important"),0<a(".pageHeader__content-settings-atbButton").length&&(e=parseInt(a(".pageHeader__content-settings-atbButton").css("width"))+Math.abs(e),a(".pageHeader__content-settings-atbButton").get(0).setAttribute("style","width: "+e+"px !important")))}}}function t(k,l){function p(){H();D&&(J.after(D.addClass(d.classes.hidden)).detach(),D=null)}function r(a){var b=new RegExp(d.imageRegex);if(a&&a.match(b))return"image"}function z(b){a.when(function(b){return a.Deferred(function(a){var c=new Image;c.onload=function(){a.resolve(c)};c.onerror=function(){a.reject()};c.src=b}).promise()}(b.url)).done(function(a){b.done(a)}).fail(function(a,g,e){b.error(a,g,e)})}function w(){u.classList.remove(d.classes.loading)}function C(a){a.on("mousedown.modal",function(){K=!0}).on("mouseup.modal",function(){K=!1})}function O(b){b&&"ajax"===a(b.currentTarget).data("modal-type")&&0<a(b.currentTarget).parents(".modal__inner").length&&e.publishSync("modal.close");b&&"undefined"!==typeof a(b.currentTarget).data("check-store-availability-link")&&e.publish("event-tracking.shoppingList.checkavailability");if(!(b&&0<a(b.target).parents("[data-shopping-list]").length&&"undefined"===typeof a(b.target).attr("data-modal")&&("undefined"!==typeof a(b.target).data("add-to-basket")||0<a(b.target).parents("[data-add-to-basket]").length||0<a(b.target).parents("[data-quantity-button-detail]").length||0<a(b.target).parents("[data-tooltip]").length||"undefined"!==typeof a(b.target).data("shopping-list-item-remove")||0<a(b.target).parents("[data-shopping-list-item-remove]").length||a(b.target).hasClass("form__item-checkbox-label")||a(b.target).hasClass("form__item-checkbox-input")||0<a(b.target).parents(".shoppingList__saleAlarm").length||a(b.target).hasClass("shoppingList__price__info-text__wrapper")||0<a(b.target).parents(".shoppingList__price__info-text__wrapper").length))){a("html").addClass("html--modal");if(b){b.preventDefault();var c=a(b.currentTarget),g=c.attr("data-modal-src")||c.attr("href");"undefined"!==typeof c.data("onsite-link")&&e.publish("event-tracking.onsiteclick",{target:c});g&&g!==f.items.src&&(f.items.src=g);"undefined"!==typeof a(b.currentTarget).attr("data-udo-email-notification")&&e.publish("event-tracking.emailnotification",{label:"Benachrichtigung per Mail"});c.is("[data-changebillingaddress-modal-link]")||c.is("[data-changeaddress-modal-link]")||c.is("[data-on-success-reload-tab]")||(0<c.parents("[data-udo-track-clicks]").length&&e.publish("track.clicks",c),b.stopPropagation())}I||(P=a(window).width());E=document.activeElement;T=window.scrollY;b?(E=document.activeElement,b.preventDefault&&b.preventDefault(),b.target.blur()):f.items={html:d.html,componentName:d.new,src:d.url,type:d.type||"inline",modifiers:d.modifiers||"",loadingModalModifiers:d.loadingModalModifiers||"",replace:d.replace,modalType:d.modalType,replaceOnClose:d.replaceOnClose};d.before_open();G();n=F.appendChild(W.cloneNode(!0));I&&n.classList.add(d.classes.probablyMobile);d.closeOnBgClick&&(n.addEventListener("click",L),n.addEventListener("touchend",L));u=n.querySelector("."+d.classes.modalContent);u.innerText="";u.classList.add(d.classes.loading);a("body").hasClass("page--mondovino")&&u.classList.add(d.classes.loadingMondovino);f.items.loadingModalModifiers&&u.classList.add(f.items.loadingModalModifiers);b=a(u);C(b);if(d.loader)A=!0,b={_wrap:n,component:n,self:B,_content:a()},h.push(b),e.publish("modal.track-instance",h);else switch(f.items.type){case"html":q(f.items.html,b);break;case"iframe":q('\x3ciframe style\x3d"background: #fff; max-width:100%;max-height:100%;height:'+(f.items.height?f.items.height:"800px")+";width:"+(f.items.width?f.items.width:"800px")+'" src\x3d"'+f.items.src+'" sandbox\x3d"allow-forms allow-top-navigation allow-scripts allow-same-origin"\x3e\x3c/iframe\x3e',b);break;case"ajax":X(f.items,b);break;case"image":N(f.items,b);break;case"callback":Q.setAttribute("content","width\x3ddevice-width, initial-scale\x3d1, maximum-scale\x3d1, user-scalable\x3d0");q(d.callback(),b);break;case"component":c=a(document).find("#"+f.items.componentName).html();q(c,b);break;case"youtube-video":q('\x3cdiv class\x3d"modal"\x3e\x3cdiv class\x3d"modal__inner"\x3e\x3cdiv class\x3d"modal__video-wrapper"\x3e\x3ciframe class\x3d"modal__video" allow\x3d"fullscreen" frameborder\x3d"0" src\x3d"'+
f.items.src+'"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',b);break;default:c=f.items,p(),c.src&&(c=a(c.src),c.length&&(g=c[0].parentNode)&&g.tagName&&(J||(J=a(d.templates.placeholderTemplate)),D=c.after(J).detach().removeClass(d.classes.hidden)),q(D,b))}}}function G(){0<a(".modal-outer-wrapper:not([data-quick-modal]) \x3e .modal-background").length||(v=F.appendChild(Y.cloneNode(!0)))}function R(b,c,g){a("html").removeClass("html--modal");S&&(a(window).scrollTop(S),S=null);if(null!==n||null!==v){if(A){var m=n.parentNode;n.parentNode.removeChild(n);null!=v?v.parentNode&&v.parentNode.removeChild(v):0<a(m).find(".modal-background").length&&a(m).find(".modal-background").first().remove();A=!1;m="unknown";c?m="escape":"undefined"!==typeof b&&(b=b.target,1===a(b).closest(".modal-btn-close").length?m="close-button":a(b).is(".modal-close")?m="cancel-button":a(b).hasClass("modal-container")&&(m="background"));b=n;c=m;h.pop();d.after_close(b,c);a(b).find(".carousel-modal__video-wrapper")&&e.publish("video-modal.closed");g&&g.replaceOnClose&&0<g.replaceOnClose.length&&e.publish("modal.open",{element:null,options:{type:"ajax",url:g.replaceOnClose}});g=f.items.ajaxOnCancel||d.ajaxOnCancel||null;-1!==["escape","close-button","background","cancel-button"].indexOf(m)&&g&&e.publish("modal.open",{element:null,options:{type:"ajax",url:g}});0===h.length&&(M.removeAttribute("style"),a(".pageHeader__content-firstRow").removeAttr("style"),a(".pageHeader__content-secondRow").removeAttr("style"),a(".pageHeader__content-settings-atbButton").removeAttr("style"),a(".pageHeader__content-settings-account").removeAttr("style"),Q.setAttribute("content",Z),e.publish("modal.last-modal-closed"),0<=window.location.href.indexOf("modal\x3dmodal-review-form")&&(window.location.href=window.location.href.replace("modal\x3dmodal-review-form","")))}E&&(a(E).is("[data-add-to-basket]")||a(E).focus());0!==h.length&&U(h)}}function L(b,c,g,f){if(b){var m;0<a(b.target).find("[data-redirect-on-modal-close-url]").length?m=a(b.target):(a(b.target).hasClass("modal-close")||a(b.target).hasClass("icon-cancel"))&&0<a(b.target).parents(".modal-container").find("[data-redirect-on-modal-close-url]").length&&(m=a(b.target).parents(".modal-container"));m&&0<m.length&&(c=m.find("[data-redirect-on-modal-close-url]").first().data("redirect-on-modal-close-url"),window.location.href=c)}if(b)if(("undefined"!==typeof a(b.target).attr("data-udo-email-notification")||(a(b.target).hasClass("modal-btn-close")||a(b.target).hasClass("icon-cancel"))&&0<a(b.target).parents(".modal-content").find("[data-udo-email-notification]").length)&&e.publish("event-tracking.emailnotification",{label:"Cancel"}),("undefined"!==typeof a(b.target).attr("data-udo-product-question")||(a(b.target).hasClass("modal-btn-close")||a(b.target).hasClass("icon-cancel"))&&0<a(b.target).parents(".modal-content").find("[data-udo-product-question]").length)&&e.publish("event-tracking.productquestion",{label:"Cancel"}),(a(b.target).hasClass("modal-btn-close")||a(b.target).hasClass("modal-container")||a(b.target).hasClass("icon-cancel"))&&0<a(b.target).parents(".modal-outer-wrapper").find("[data-dynamic-tracking]").length&&e.publish("dynamic-tracking.hidden",a(b.target).parents(".modal-outer-wrapper").find("[data-dynamic-tracking]")),"modal.manual-close"===b.type)b.detail.replace&&p(),R(void 0,g,l);else{if(c=!K){c=b.target;m=a(c);var h=u;!h||m.hasClass("modal-close")||m.parents(".modal-close").length||m.hasClass("modal-container")?(A=!0,b.preventDefault(),p(),c=!0):c!==h&&!a.contains(h,c)&&d.closeOnBgClick&&a.contains(document,c)?(p(),c=!0):c=!1}c?(H(),R(b,g,l)):K=!1}else R(void 0,g,l);t.lastModalToReopen&&(f&&"undefined"!==typeof f.reopenLastModal&&!1===f.reopenLastModal||(t.lastModalToReopen.self.show(),t.lastModalToReopen=void 0))}function H(){0<a(".modal-content").not(".modal-content--inline").find("[data-reload-after-cancel]").length?location.reload():0<a(".modal-content").not(".modal-content--inline").find("[data-load-after-cancel]").length&&window.location.assign(a(".modal-content").not(".modal-content--inline").find("[data-load-after-cancel]").data("load-after-cancel"))}
function N(a,c){z({url:a.src,error:function(a){a=d.templates.errorTemplate.replace(/REPLACE/gi,a);w();q(a,c)},done:function(a){q(a,c)}})}function X(b,c){y();d.requestAjaxContent({url:b.src,error:function(a){a=d.templates.errorTemplate.replace(/REPLACE/gi,a);w();q(a,c)},done:function(g){var d=g;"undefined"!==typeof g.modal&&(g=g.modal,d=g.html,-1<d.indexOf("data-pagecontent-json-url")&&aa()&&e.publish("template-handlebars.fetch-page-content",{elements:a(d).find("[data-pagecontent-json-url]")}),b.replaceOnClose=g.replaceOnClose,l.replaceOnClose=g.replaceOnClose,g.ajaxOnCancel&&(b.ajaxOnCancel=g.ajaxOnCancel),g.modifiers&&(b.modifiers=g.modifiers));-1<d.indexOf("data-payment-script")&&e.publish("atbModal.opened");-1<d.indexOf("data-inline-search")&&e.publish("inline-search.initialize");if(-1<d.indexOf("data-autocomplete")){d=a("\x3cdiv\x3e"+d+"\x3c/div\x3e");g=d.find("[data-autocomplete]");var f=(new Date).getTime();g.each(function(b,c){if(!a(c).get(0).hasAttribute("data-temp-attrs-set")&&""==a(c).val()){b=a(c).attr("name");var d=a(c).attr("id");a(c).attr("data-temp-name",b);a(c).attr("name","tempName"+f);a(c).attr("data-temp-id",d);a(c).attr("id","tempId"+f);a(c).attr("data-temp-attrs-set",!0)}});d=d.html()}q(d,c)}})}function q(b,c){y();c.html(b);0<a(b).find("[data-equal-heights-group]").length&&e.publish("equal-heights.run",c);a(document).trigger("ajaxForm",{$scope:c});"image"===f.items.type&&a(b).wrap(d.templates.imageTemplate);c.addClass(f.items.modifiers);w();A=!0;b=a(d.templates.buttonTemplate);c.append(b);b.find(".visuallyhidden").text(d.text.closeText);b={_wrap:n,component:n,self:B,_content:c};ba(b);e.publish("modal.before-content-init",b);d.init_content(c,B);c.height()>=a(window).height()&&c.addClass("modal-content--tall");U(h);e.publish("modal.track-instance",h)}function ca(b){var c=a(b._content).find(".text-input");setTimeout(function(){if(!a.contains(b._wrap,document.activeElement))if(1===c.length&&"search-pickup-slot"!==c.attr("id")){var d=c.val().length;c.focus();c[0].setSelectionRange(d,d)}else b._content.focus()},1500)}function U(b){var c=b.length,e=b[c-1];if(1<c)for(var f=0;f<c-1;f++)b[f]._content.off("keydown.close");d.closable&&(a(document).off("focusin.modal").on("focusin.modal",function(b){b=b.target;if(b!==e._wrap&&!a.contains(e._wrap,b))return e._content.focus(),!1}),e._content.on("keydown.close",function(a){27===a.keyCode&&(a.preventDefault(),p(),e.self.close(void 0,void 0,!0))}));ca(e);d.disableSizing||V.innerHeight()-40<e._content.height()&&e._content.addClass(d.classes.alignTop)}
function da(){setTimeout(function(){document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()},0)}function ba(a){h.push(a);d.after_open(a);e.publish("modal.initialise-content",a);da();setTimeout(function(){},500)}var f=k||{},d={closeOnBgClick:!0,closable:!0,type:"inline",modalType:"",replace:!1,replaceOnClose:!1,imageRegex:/([^\/\\]+)\.(jpg|jpeg|png|gif|svg)$/i,disableSizing:!1,classes:{alignTop:"modal-content--align-top",hidden:"modal-hide",open:"modal-open",ready:"modal-ready",probablyMobile:"small-viewport",loading:"modal-content--loading",loadingMondovino:"modal-content--loadingMondovino",modalContent:"modal-content"},text:{closeText:translations.message_close_overlay,loadingText:translations.message_loading_content},templates:{loadingTemplate:'\x3cspan class\x3d"modal-loading"\x3eLOADING\x3c/span\x3e',errorTemplate:'\x3cdiv class\x3d"modal__inner"\x3e\x3cdiv class\x3d"modal-error"\x3eREPLACE\x3c/div\x3e\x3c/div\x3e',placeholderTemplate:'\x3cdiv class\x3d"modal-hide"\x3e\x3c/div\x3e',bgTemplate:'\x3cdiv class\x3d"modal-background"\x3e\x3c/div\x3e',buttonTemplate:'\x3cbutton class\x3d"modal-close modal-btn-close"\x3e\x3ci class\x3d"icon-cancel"\x3e\x3c/i\x3e\x3cspan class\x3d"visuallyhidden"\x3e\x3c/span\x3e\x3c/button\x3e',wrapTemplate:'\x3cdiv class\x3d"modal modal-wrap" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"modal-container"\x3e\x3cdiv class\x3d"modal-content" tabindex\x3d"0"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',imageTemplate:'\x3cdiv class\x3d"modal__inner"\x3e\x3cfigure class\x3d"modal-figure modal-image"\x3e\x3c/figure\x3e\x3c/div\x3e'},before_open:function(){},requestAjaxContent:function(b){null!==b.url&&a.request({$srcElement:null,url:b.url,success:function(c,d,e){if(""===c&&200===e.status)A=!0,L();else{d=c;(e=void 0!==b.url?b.url.split("#")[1]:!1)&&a("#"+e).remove();var f=a("\x3chtml /\x3e").html(c);e?(d=f.find("#"+e))&&d.length&&(c=d.html()):c=0<f.find("main").length?f.find("main"):d;b.done(c)}},error:function(a,d){console.log("error");switch(a.status){case 404:a=translations.error_404;break;default:a=translations.error_unknown}"timeout"===d&&(a=translations.error_timeout);b.error(a)},timeout:3E4})},after_open:function(){e.publish("modal.after_open.fired");"ajax"===f.items.type&&e.publish("modal.ajax.data.loaded",{url:f.items.src})},after_close:function(){},init_content:function(){}};f.getAttribute&&f.getAttribute("data-modal-after-open")&&(k=f.getAttribute("data-modal-after-open"),window[k]&&(d.after_open=window[k]));a.extend(d,l);d.closable||(d.closeOnBgClick=!1,d.templates.buttonTemplate="");var Y=x(d.templates.bgTemplate)[0],v,W=x(d.templates.wrapTemplate)[0],A=!1,n,D,J,E,u,B;return B={init:function(){if(!(a.isEmptyObject(f)||f.getAttribute("data-is-initialized")&&"false"!=f.getAttribute("data-is-initialized"))){var b=f.getAttribute("data-modal-src")||f.getAttribute("href"),c=r(b);e.subscribe("dynamic-pageload.initialize",function(a,b){ea.evaluate()});f.items={src:b,type:f.getAttribute("data-modal-type")||c||d.type,modifiers:f.getAttribute("data-modal-modifiers")||d.modifiers||"",loadingModalModifiers:f.getAttribute("data-loading-modal-modifiers")||d.loadingModalModifiers||"",replace:f.getAttribute("data-modal-replace")||d.replace,replaceOnClose:f.getAttribute("data-modal-replace-on-close")||d.replaceOnClose,ajaxOnCancel:f.getAttribute("data-modal-ajax-on-cancel"),modalType:d.modalType};a(f).on("click.modal-window",O);f.setAttribute("data-is-initialized",!0)}},options:d,open:O,close:L,destroy:function(){f.removeEventlistener("click.modal-window",O);h=[];a(f).attr("data-is-initialized",!1)},hide:function(){var b=h.findIndex(function(a){return a.self===B});if(-1!==b)return b=h.splice(b,1)[0],e.publish("modal.track-instance",h),a(v).remove(),a(n).css("display","none"),b},show:function(){G();a(n).css("display","").insertAfter(v);var b={_wrap:n,component:n,self:B,_content:a()};h.push(b);e.publish("modal.track-instance",h)},quickModal:function(a){return'\x3cdiv class\x3d"modal-outer-wrapper modal-outer-wrapper-quick '+a.classes+'" data-quick-modal '+a.attrs+'\x3e\x3cdiv class\x3d"modal-background"\x3e\x3c/div\x3e\x3cdiv class\x3d"modal modal-wrap" tabindex\x3d"-1"\x3e\x3cdiv class\x3d"modal-container"\x3e\x3cdiv class\x3d"modal-content modal__loader-wrapper" tabindex\x3d"0"\x3e\x3cdiv class\x3d"modal-content--inline"\x3e\x3cdiv class\x3d"modal"\x3e'+
a.content+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"}}}var e=l("pubsub-js"),a=l("jquery"),h=[],M=document.documentElement,V=a(window),P=a(window).width();k=l("conduct.js");var G=l("../js/breakpoints"),N=l("../js/measureScrollbar"),aa=l("../js/isCoopCity");l("../vendor/classList");var w=navigator.appVersion;l=/android/gi.test(w);var w=/iphone|ipad|ipod/gi.test(w),I=l||w||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),Q=document.querySelector("meta[name\x3dviewport]"),Z=Q.getAttribute("content"),K=!1,T,z,C,S,ea=new k({media_queries:[{query:"screen and (min-width:"+G.min.lg+")",fallback:!1,match:function(){z=!1;setTimeout(function(){r()},500)}},{query:"screen and (min-width: 1570px)",fallback:!1,match:function(){z=!1;C=!0;setTimeout(function(){r()},500)},unmatch:function(){C=!1}},{query:"screen and (max-width:"+G.max.md+")",fallback:!1,match:function(){z=!0;setTimeout(function(){r()},500)}}]}),F=document.createElement("div");F.classList.add("modal-outer-wrapper");if(I){F.classList.add("modal-outer-wrapper--small-viewport");var H=null;a(window).on("resize.modal-windows orientationchange.modal-windows",function(){0<h.length&&(clearTimeout(H),H=setTimeout(function(){a(".modal-container").hasClass("modal-container--modalInside")||a(".modal-container").css("height",window.innerHeight);a(window).width()!==P&&(window.scrollTo(0,T),P=a(window).width())},500))})}k=document.body;k.insertBefore(F,k.firstChild);t.currentModal=function(){return 1>h.length?null:h[h.length-1]};p.exports=t},{"../js/breakpoints":"/src/core/js/breakpoints.js","../js/isCoopCity":1,"../js/measureScrollbar":"/src/core/js/measureScrollbar.js","../vendor/classList":"/src/core/vendor/classList.js","conduct.js":"conduct.js",jquery:"jquery","pubsub-js":"pubsub-js"}]},{},["/src/core/modal/modal-window.js"]);